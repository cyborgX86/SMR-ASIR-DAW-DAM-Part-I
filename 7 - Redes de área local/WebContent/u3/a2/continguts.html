<!doctype html>

<!--[if lt IE 7 ]> <html class="ie ie6 no-js" lang="ca"> <![endif]-->
<!--[if IE 7 ]>    <html class="ie ie7 no-js" lang="ca"> <![endif]-->
<!--[if IE 8 ]>    <html class="ie ie8 no-js" lang="ca"> <![endif]-->
<!--[if IE 9 ]>    <html class="ie ie9 no-js" lang="ca"> <![endif]-->
<!--[if gt IE 9]><!--><html class="no-js" lang="ca"><!--<![endif]-->
<!-- the "no-js" class is for Modernizr. -->

<head id="www-sitename-com" data-template-set="html5-reset">

	<meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html">
        
	<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
	<title>Xarxes d'àrea local</title>
	
<!-- <meta name="title" content=""> --> 
	<meta name="description" content="">
	<!-- Google will often use this as its description of your page/site. Make it good. -->
	
	<meta name="google-site-verification" content="">
	<!-- Speaking of Google, don't forget to set your site up: http://google.com/webmasters -->
	
	<meta name="author" content="Institut Obert de Catalunya">
	<meta name="Copyright" content="Copyright Institut Obert de Catalunya 2011. All Rights Reserved.">

	<!-- Dublin Core Metadata : http://dublincore.org/ -->
	<meta name="DC.title" content="Xarxes d'àrea local">
	<meta name="DC.subject" content="Informàtica i comunicacions">
	<meta name="DC.creator" content="Institut Obert de Catalunya">
	
	<!--  Mobile Viewport Fix
	j.mp/mobileviewport & davidbcalhoun.com/2010/viewport-metatag 
	device-width : Occupy full width of the screen in its current orientation
	initial-scale = 1.0 retains dimensions instead of zooming out if page height > device height
	maximum-scale = 1.0 retains dimensions instead of zooming in if page width < device width
	-->
	<!-- Uncomment to use � use thoughtfully!
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
	-->

	<link rel="shortcut icon" href="../../../img/favicon.ico">
	<!-- This is the traditional favicon.
		 - size: 16x16 or 32x32
		 - transparency is OK
		 - see wikipedia for info on browser support: http://mky.be/favicon/ -->
		 
	<link rel="apple-touch-icon" href="../../../img/apple-touch-icon.png">
	<!-- The is the icon for iOS's Web Clip.
		 - size: 57x57 for older iPhones, 72x72 for iPads, 114x114 for iPhone4's retina display (IMHO, just go ahead and use the biggest one)
		 - To prevent iOS from applying its styles to the icon name it thusly: apple-touch-icon-precomposed.png
		 - Transparency is not recommended (iOS will put a black BG behind the icon) -->
	
	<!-- CSS: screen, mobile & print are all in the same file -->
	<link rel="stylesheet" href="../../../_/css/style.css">

	<!-- CSS: jQuery UI -->
	<link rel="stylesheet" href="../../../_/css/jquery-ui.css">
	
	<!-- all our JS is at the bottom of the page, except for Modernizr. -->
	<script src="../../../_/js/modernizr-1.7.min.js"></script>
	<script src="../../../_/js/Hyphenator.js" type="text/javascript"></script>
	<script type="text/javascript">
	   Hyphenator.config({
		minwordlength : 4
	   });
	   Hyphenator.run();
	</script>
    <script src="../../../_/js/build.js" type="text/javascript"></script>
</head>

<body class="style-newspaper">

<div class="wrapper"><!-- not needed? up to you: http://camendesign.com/code/developpeurs_sans_frontieres -->

	<header id="header">
		<div class="head"><a href="http://ioc.gencat.cat"><img src="../../../img/logo.png" alt="Institut Obert de Catalunya"/></a><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/es/deed.ca"><img src="../../../img/license.png" alt="Llic&egrave;ncia" class="license"/></a></div>
		<div class="headdocument"><a href="../../../index.html">Xarxes d'àrea local</a></div>
        <div id="search" class="search" name="search">
         <form id="frmsearch" action="../../../search.html" method="get">
          <input type="text" name="q"/>
        </form>
        </div>
	</header>
   <div id="upbutton" class="upbutton" style="display:none;"><img src="../../../img/uparrow.png" alt="Pujar a l'inici de p&agrave;gina"/></div>
   <aside id="aside">
    <div id="menu">
      <ul>
       <li name="toc"><div><img src="../../../img/toc.png" alt="&Iacute;ndex"/></div></li>
       <li name="settings"><div><img src="../../../img/settings.png" alt="Configuraci&oacute;"/></div></li>
       <li name="printer"><div><img src="../../../img/printer.png" alt="Imprimir"/></div></li>
       <li name="favorites"><div><img src="../../../img/favorites.png" alt="Favorits"/></div></li>
       <li name="help_icon" class="help_icon"><div><img src="../../../img/help_icon.png" alt="Ajuda"/></div></li>
      </ul>
     </div>
   </aside>
   <div id="sidebar-hide" name="sidebar-hide"><img src="../../../img/arrows.png"/></div>
   <section>
     <div id="toc" class="hidden">
      <div class="menucontent">
        <ul>
        <li id="u3" class="parentnode"><p><a class="unit" href="../../../WebContent/u3/introduccio.html">3. Interconnexió de la xarxa</a></p><ul class="expander"><li id="u3introduccio"><a href="../../../WebContent/u3/introduccio.html">Introducció</a></li><li id="u3objectius"><a href="../../../WebContent/u3/objectius.html">Resultats d'aprenentatge</a></li><li id="u3referencies"><a href="../../../WebContent/u3/referencies.html">Referències</a></li><li id="u3resum"><a href="../../../WebContent/u3/resum.html">Resum</a></li><li id="u3a1" class="tocsection"><p id='u3a1continguts'><a class="section" href="../../../WebContent/u3/a1/continguts.html">Adreçament físic i lògic de la xarxa</a><span class="buttonexp"></span></p><ul><li id="u3a1activitats"><a href="../../../WebContent/u3/a1/activitats.html">Activitats</a></li><li id="u3a1annexos"><a href="../../../WebContent/u3/a1/annexos.html">Annexos</a></li><li id="u3a1exercicis"><a href="../../../WebContent/u3/a1/exercicis.html">Exercicis d'autoavaluació</a></li></ul></li><div data-parent-id='u3a1' class='tocssection hidden'><div class="toc"><ul><li><a href="../../../WebContent/u3/a1/continguts.html#adrecament_fisic">Adreçament físic</a></li><li><a href="../../../WebContent/u3/a1/continguts.html#adrecament_logic">Adreçament lògic</a></li></ul></div></div><li id="u3a2" class="tocsection"><p id='u3a2continguts'><a class="section" href="../../../WebContent/u3/a2/continguts.html">Protocols de nivell d'enllaç</a><span class="buttonexp"></span></p><ul><li id="u3a2exercicis"><a href="../../../WebContent/u3/a2/exercicis.html">Exercicis d'autoavaluació</a></li></ul></li><div data-parent-id='u3a2' class='tocssection hidden'><div class="toc"><ul><li><a href="../../../WebContent/u3/a2/continguts.html#serveis_de_la_capa_d_enllac">Serveis de la capa d'enllaç</a></li><li><a href="../../../WebContent/u3/a2/continguts.html#ieee_802">IEEE 802</a></li></ul></div></div><li id="u3a3" class="tocsection"><p id='u3a3continguts'><a class="section" href="../../../WebContent/u3/a3/continguts.html">Protocols de xarxa</a><span class="buttonexp"></span></p><ul><li id="u3a3activitats"><a href="../../../WebContent/u3/a3/activitats.html">Activitats</a></li><li id="u3a3annexos"><a href="../../../WebContent/u3/a3/annexos.html">Annexos</a></li><li id="u3a3exercicis"><a href="../../../WebContent/u3/a3/exercicis.html">Exercicis d'autoavaluació</a></li></ul></li><div data-parent-id='u3a3' class='tocssection hidden'><div class="toc"><ul><li><a href="../../../WebContent/u3/a3/continguts.html#funcions_dels_protocols_de_xarxa">Funcions dels protocols de xarxa</a></li><li><a href="../../../WebContent/u3/a3/continguts.html#ip_internet_protocol">IP (Internet protocol)</a></li><li><a href="../../../WebContent/u3/a3/continguts.html#l_icmp">L'ICMP</a></li><li><a href="../../../WebContent/u3/a3/continguts.html#arp">ARP</a></li><li><a href="../../../WebContent/u3/a3/continguts.html#ipx">IPX</a></li></ul></div></div><li id="u3a4" class="tocsection"><p id='u3a4continguts'><a class="section" href="../../../WebContent/u3/a4/continguts.html">Adreçament IP</a><span class="buttonexp"></span></p><ul><li id="u3a4activitats"><a href="../../../WebContent/u3/a4/activitats.html">Activitats</a></li><li id="u3a4exercicis"><a href="../../../WebContent/u3/a4/exercicis.html">Exercicis d'autoavaluació</a></li></ul></li><div data-parent-id='u3a4' class='tocssection hidden'><div class="toc"><ul><li><a href="../../../WebContent/u3/a4/continguts.html#encapcalament_ip">Encapçalament IP</a></li><li><a href="../../../WebContent/u3/a4/continguts.html#classes_d_adreca_ipv4">Classes d'adreça IPv4</a></li><li><a href="../../../WebContent/u3/a4/continguts.html#creacio_de_subxarxes_o_subneeting">Creació de subxarxes o subneeting</a></li><li><a href="../../../WebContent/u3/a4/continguts.html#adrecament_public_i_privatnat">Adreçament públic i privat: NAT</a></li><li><a href="../../../WebContent/u3/a4/continguts.html#el_protocol_ipv6">El protocol IPv6</a></li></ul></div></div><li id="u3a5" class="tocsection"><p id='u3a5continguts'><a class="section" href="../../../WebContent/u3/a5/continguts.html">Protocols de la capa de transport</a><span class="buttonexp"></span></p><ul><li id="u3a5activitats"><a href="../../../WebContent/u3/a5/activitats.html">Activitats</a></li><li id="u3a5exercicis"><a href="../../../WebContent/u3/a5/exercicis.html">Exercicis d'autoavaluació</a></li></ul></li><div data-parent-id='u3a5' class='tocssection hidden'><div class="toc"><ul><li><a href="../../../WebContent/u3/a5/continguts.html#funcions_de_la_capa_de_transport">Funcions de la capa de transport</a></li><li><a href="../../../WebContent/u3/a5/continguts.html#serveis_orientats_a_connexiointercanvi_de_senyals_a_tres_passes">Serveis orientats a connexió: intercanvi de senyals a tres passes</a></li><li><a href="../../../WebContent/u3/a5/continguts.html#protocols_de_capa_de_transport_i_ports">Protocols de capa de transport i ports</a></li></ul></div></div><li id="u3a6" class="tocsection"><p id='u3a6continguts'><a class="section" href="../../../WebContent/u3/a6/continguts.html">Protocols de la capa d'aplicació</a><span class="buttonexp"></span></p><ul><li id="u3a6activitats"><a href="../../../WebContent/u3/a6/activitats.html">Activitats</a></li><li id="u3a6exercicis"><a href="../../../WebContent/u3/a6/exercicis.html">Exercicis d'autoavaluació</a></li></ul></li><div data-parent-id='u3a6' class='tocssection hidden'><div class="toc"><ul><li><a href="../../../WebContent/u3/a6/continguts.html#model_client-servidor">Model client-servidor</a></li><li><a href="../../../WebContent/u3/a6/continguts.html#assignacio_automatica_d_adreces_ipbootp_i_dhcp">Assignació automàtica d'adreces IP: BOOTP i DHCP</a></li><li><a href="../../../WebContent/u3/a6/continguts.html#noms_de_hosts_i_dns">Noms de hosts i DNS</a></li><li><a href="../../../WebContent/u3/a6/continguts.html#altres_protocols_i_serveissmtp_pop_telnet_ftp_http_ntp_etc">Altres protocols i serveis: SMTP, POP, Telnet, FTP, HTTP, NTP, etc</a></li><li><a href="../../../WebContent/u3/a6/continguts.html#servidors_intermediaris">Servidors intermediaris</a></li><li><a href="../../../WebContent/u3/a6/continguts.html#utilitats_tcp_ip">Utilitats TCP/IP</a></li></ul></div></div></ul></li><li id="" class="indexnode"><p><a href="../../../index.html">Anar a l&#39;&iacute;ndex general</a></p></li>
        </ul>
      </div>
    </div>
   </section>
   <section>
   <div id="settings" class="hidden">
    <div class="menucontent">
     <div class="allsettings">
     <div class="settings">
      <label>Font i Color</label>
		<div class="setting-option">
	        <ul class="fontBackground">
				<li id="style-newspaper" title="Newspaper" class="appearance-style-newspaper"><span>Newspaper</span></li>
                <li id="style-novel" title="Novel" class="appearance-style-novel"><span>Novel</span></li>
                <li id="style-ebook" title="eBook" class="appearance-style-ebook"><span>eBook</span></li>
				<li id="style-inverse" title="Inverse" class="appearance-style-inverse active"><span>Inverse</span></li>
				<li id="style-athelas" title="Athelas" class="appearance-style-athelas"><span>Athelas</span></li>
			</ul>
		</div>
     </div>
	<div class="settings">
      <label>Amplada</label>
		<div class="setting-option">
	        <div id="slider-width"></div>
		</div>
     </div>
     <div class="settings">
      <label>Mida de la font</label>
		<div class="setting-option">
	        <div id="slider-font"></div>
		</div>
     </div>
     <div class="settings">
      <label>Mida de la font</label>
	  <div class="setting-option">
       <form action="" class="sett-options">
		<ul>
		    <li><input type="checkbox" id="secondary-content" /><label for="secondary-content">Mostra recursos complementaris</label></li>
		    <li><input type="checkbox" id="main-images" /><label for="main-images">Mostra imatges</label></li>
		    <li><input type="checkbox" id="text-alignment" /><label for="text-alignment">Text justificat</label></li>
			<li><input type="checkbox" id="text-hyphen" /><label for="text-hyphen">Partici&oacute; sil·l&agrave;bica</label></li>
		</ul>
       </form>
	  </div>
     </div>
     </div>
    </div>
   </div>
   </section>
 <section>
 <div id="favorites" class="hidden"></div>
 </section>   
 <div id="bridge" class="hidden"></div>
 <div id="help" class="hidden">
  <div class="helptitle">Dreceres del teclat<hr></div>
  <div class="helpsection"><span>General</span>
   <ul>
    <li><span class="shortcut">g</span>: Anar al men&uacute; de navegaci&oacute;</li>
    <li><span class="shortcut">o</span>: Anar a opcions</li>
    <li><span class="shortcut">s</span>: Guardar la p&agrave;gina actual a favorits</li>
    <li><span class="shortcut">p</span>: Imprimir la p&agrave;gina actual</li>
    <li><span class="shortcut">?</span>: Mostrar/Ocultar l&#39;ajuda</li>
   </ul>
  </div>
  <div class="helpsection"><span>Navegaci&oacute;</span>
   <ul>
    <li><span class="shortcut">i</span>: Anar a l&#39;&iacute;ndex general</li>
    <li><span class="shortcut">t</span>: Anar a l&#39;inici de p&agrave;gina</li>
    <li><span class="shortcut">b</span>: Anar al final de p&agrave;gina</li>
    <li><span class="shortcut">j</span>: Anar cap endavant dintre la p&agrave;gina</li>
    <li><span class="shortcut">k</span>: Anar cap enrere dintre la p&agrave;gina</li>
    <li><span class="shortcut">h</span>: Anar a la p&agrave;gina anterior:</li>
    <li><span class="shortcut">l</span>: Anar a la p&agrave;gina seg&uuml;ent:</li>
   </ul>
   </div>
 </div>
 <div id="favcounter" name="favcounter" class="hidden"><span></span></div>
 <div id="navmenu" class="navmenu"><ul class="webnav"><li><a href="../../../index.html" title="Anar a l&#39;&iacute;ndex general">Inici</a></li><li><a href="../introduccio.html">Interconnexió de la xarxa</a></li><li>Protocols de nivell d'enllaç</li></ul></div>
	<div id="content" lang="ca" class="hyphenate text">
     <article lang="ca" class="sheet">
        <h1><a id="protocols_de_nivell_d_enllac"> Protocols de nivell d'enllaç </a></h1>
    	
<p>
La capa d’enllaç és la responsable de la transferència fiable d’informació entre dos equips a través del medi de transmissió fent servir els serveis de la capa física. Aquests dos equips han d’estar connectats al mateix medi i aquesta capa s’encarrega de donar-los una adreça perquè es puguin comunicar entre ells. Per fer més fàcil la comunicació, s’agrupa la informació en trames i es controla que arribin a la destinació sense errors, controlant el flux de la comunicació perquè els equips puguin rebre la informació.
</p>

<p>
En el cas que dos equips intentin fer servir el medi al mateix temps, es produirien errors pels encavalcaments. Per tant, aquesta capa també ha de gestionar el moment en què un equip pot accedir al medi i així mitigar les col·lisions.
</p>

<p>
Generalment, l’accés al medi es gestiona des del microprogramari (<em>firmware</em>) de la targeta adaptadora i l’enllaç lògic mitjançant programari en el controlador del dispositiu.
</p>

<h2><a id="serveis_de_la_capa_d_enllac" >Serveis de la capa d&#039;enllaç</a></h2>
<div class="level2">

<p>
Dins de la capa d’enllaç es poden diferenciar dos conjunts de serveis complementaris. D’una banda, la gestió de la informació de la capa de xarxa, com pot ser la comprovació d’errors i la gestió del flux de dades entre equips amb velocitats diferents, s’anomena <em>control d’enllaç</em> (<em>logical link control</em>, LLC).
</p>

<p>
De l’altra, la gestió de l’adreçament físic dels equips, la distribució de les trames i la gestió de l’accés concurrent al medi compartit s’anomena <em>control d’accés al medi</em> (<em>medium access control</em>, MAC).
</p>

</div>

<h3><a id="control_d_enllac_logic" >Control d&#039;enllaç lògic</a></h3>
<div class="level3">

<p>
El control d’enllaç lògic gestiona la transmissió de trames entre dues estacions sense cap node intermedi i, en conseqüència, permet l’accés múltiple. A més, s’encarrega d’especificar l’equip origen i l’equip destinació. En el cas de l’Ethernet, aquesta adreça s’anomena <em>adreça MAC</em> (<em>medium access control address</em>).
</p>

<p>
Aquest protocol defineix mecanismes per controlar l’intercanvi de dades entre estacions. Hi ha tres serveis possibles:
</p>

<p>

</p>
<ol>
<li class="level1"><div class="li"> <strong>Servei no orientat a connexió sense confirmació</strong>: Aquest mecanisme és el més senzill, ja que no inclou mecanismes de control de flux de dades ni de control d’errors, per la qual cosa, amb aquest sistema no es garanteix el lliurament de les dades. <br/>
És útil quan els mecanismes de control de flux i d’integritat ja s’ofereixen en capes superiors. Un exemple d’això és el TCP, que ja ofereix prou mecanismes per assegurar la transmissió de la informació. <br/>
En alguns casos és preferible un servei no orientat a connexió i sense confirmació. Per exemple, pot ser preferible perdre alguns paquets abans que evitar el retard que comporta la retransmissió en una aplicació de videoconferència.</div>
</li>
<li class="level1"><div class="li"> <strong>Servei en mode connexió</strong>: S’estableix una connexió lògica entre els equips prèvia a l’intercanvi de dades. En aquest cas, hi ha un sistema de control de flux i d’errors. <br/>
Sol ser útil en dispositius extremament simples les capes superiors dels quals disposen de poc programari.</div>
</li>
<li class="level1"><div class="li"> <strong>Servei no orientat a connexió amb confirmació</strong>: És una barreja dels anteriors: els datagrames es confirmen quan es reben, però no hi ha connexió. <br/>
Una aplicació possible són els senyals d’alarma: cal confirmar que s’han rebut correctament.</div>
</li>
</ol>

</div>

<h3><a id="control_d_acces_al_medi" >Control d&#039;accés al medi</a></h3>
<div class="level3">
<div class="iocimportant"><div class="ioccontent">
<p>
El control d’accés al medi (MAC, <em>medium access control</em>) fa referència als protocols que decideixen a quin ordinador es permet transmetre dades.
</p>
</div></div>
<p>
A l’hora de parlar del control d’accés al medi és important esmentar les dues categories que hi ha: les deterministes (per torns) i les no deterministes (a grans trets, “el primer que arriba és el primer a ser servit”).
</p>

</div>

<h4><a id="protocols_mac_deterministes" >Protocols MAC deterministes</a></h4>
<div class="level4">

<p>
Els protocols MAC deterministes utilitzen una modalitat basada en la creació de torns. Un exemple d’aquests torns es fonamenta en la transmissió de testimonis (<em>tokens</em>).
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
La tècnica de la transmissió de testimonis es basa en un costum propi de les tribus d’indis nadius americans que, durant les reunions, es passaven el <strong>testimoni</strong> o <strong>“bastó que parla”</strong>. De fet, la persona que tenia a les mans el <strong>“bastó”</strong> era escoltat per tothom fins que finalitzava el parlament, moment en què passava el testimoni a una altra persona.
</p>
</div></div>
<p>
Hi ha un protocol d’enllaç de dades, que rep el nom d’<em>anell de testimoni</em> (<em>token ring</em>), en què els ordinadors que estan connectats a la xarxa es distribueixen en forma d’anell (<span class="figref"><a href="#Figure11"><span>figura</span></a></span>). Per aquest anell circula un testimoni (<em>token</em>) de dades especials que és pres temporalment per l’ordinador que vol transmetre dades. Un cop ha finalitzat la transmissió de dades, l’ordinador deixa lliure el testimoni perquè torni a circular per l’anell i pugui ser pres per un altre ordinador.
</p>
<div class="iocfigure"><a name="Figure11"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Anell de testimoni

</figcaption><img src="../media/ic10m5u3_13.png" alt="" /></figure>
</div>
<p>
Físicament sol substituir-se l’anella per un concentrador al qual hi estan connectats tots els ordinadors.  Aquest concentrador, quan arriba una trama per la connexió número <em>n</em> l’envia per la connexió <em>n+1</em>; quan n’arriba una per la darrera connexió, l’envia per la primera. D’aquesta manera simula una anella. Això permet realitzar una instal·lació física més senzilla.
</p>

<p>
Avui en dia, Token Ring ha quedat obsolet. No obstant això, altres protocols posteriors, com ara FDDI, s’han implementat seguint aquesta mateixa filosofia. FDDI és un dels protocols que treballen amb fibra òptica (però, ni molt menys, l’únic).
</p>

</div>

<h4><a id="protocols_mac_no_deterministes" >Protocols MAC no deterministes</a></h4>
<div class="level4">

<p>
Els protocols MAC no deterministes utilitzen la premissa “el primer que arriba és el primer a ser servit” (FCFS, <em>first-come</em>,<em>first-served</em>) com, per exemple, l’accés múltiple amb detecció de portadora i detecció de col·lisions (CSMA/CD, <em>carrier sense multiple access / collision detect</em>).
</p>

<p>
Aquest tipus de protocol és el que fa servir Ethernet, atès que permet que els dispositius de xarxa esdevinguin els responsables d’administrar el seu dret a transmetre. De fet, la mecànica es fonamenta en el fet que les estacions d’una xarxa CSMA/CD escoltin quin és el millor moment per transmetre. Malgrat tot, en cas que dues estacions transmetin alhora es produeix una col·lisió i cap de les transmissions de les estacions no té èxit.
</p>

<p>
En el moment en què les estacions de la xarxa senten que hi ha hagut una col·lisió, esperen en silenci; és a dir, a partir d’una ordre per torns, les estacions transmissores esperen un període de temps aleatori abans de transmetre. Aquesta espera per part de les estacions permet que no hi hagi una segona col·lisió.
</p>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">Col·lisió</p>
<p>
A l’Ethernet, una col·lisió és el resultat de dos nodes que transmeten simultàniament. Les trames de cadascun dels dispositius col·lideixen i es fan malbé quan es troben en el medi físic.
</p>
</div></div>
<p>
Com heu pogut deduir, hi ha dos punts importants en tot protocol d’accés al medi:
</p>
<ul>
<li class="level1"><div class="li"> On es fa el control? Si el control es fa centralitzat o distribuït.</div>
</li>
<li class="level1"><div class="li"> Com es fa el control? És un compromís entre prestacions, cost i complexitat tenint en compte el tipus de medi que es comparteix.</div>
</li>
</ul>

<p>
En el cas sobre el lloc <em>on es fa el control</em>, si parlem d’un control centralitzat voldrà dir que es designa un equip que fa de controlador del medi. En el cas que sigui un control descentralitzat, tots els equips en conjunt decideixen qui accedeix en aquell moment al medi.
</p>

<p>
Podem classificar el cas sobre la manera <em>com es fa el control</em> en tres grans grups:
</p>
<ol>
<li class="level1"><div class="li"> <strong>Rotació circular</strong>. Mitjançant la tècnica de rotació circular, es dóna a cada estació l’oportunitat de transmetre en una seqüència determinada. Cada estació pot fer-ho dins d’uns límits establerts o bé declinar l’oportunitat. <br/>
En el cas que molts equips tinguin la necessitat de transmetre durant un llarg període de temps és molt eficient, ja que es reparteixen el medi equitativament. Al contrari, si hi ha pocs equips que tinguin la necessitat de transmetre informació durant un llarg període de temps, resulta poc eficient, atès que es perd el temps en què els equips que no volen transmetre es van passant el testimoni.</div>
</li>
<li class="level1"><div class="li"> <strong>Reserva</strong>.L es tècniques amb què es fa una reserva del medi són adequades per al trànsit continu: es divideix el temps en porcions i els equips que volen transmetre fan reserves.</div>
</li>
<li class="level1"><div class="li"> <strong>Contenció</strong>. En el cas de trànsit a ràfegues, són més adequades les tècniques de contenció, que consisteixen a no controlar el torn per transmetre, és a dir, que tots els equips poden transmetre en qualsevol moment. Per això cal determinar alguna manera de saber si el medi ja està en ús. Aquest sistema, per la naturalesa totalment distribuïda que té, és molt eficient quan la càrrega de la xarxa és de mitjana a alta. En cas que la càrrega sigui alta, tendeix a ser menys eficient per les col·lisions que s’hi produeixen.</div>
</li>
</ol>

</div>

<h2><a id="ieee_802" >IEEE 802</a></h2>
<div class="level2">

<p>
Dins del conjunt d’estàndards IEEE 802, podem trobar la definició del medi, la capa física i la capa d’enllaç de protocols com l’Ethernet, l’anell de testimoni, el Wi-Fi, el WiMAX o el Bluetooth.
</p>
<div class="iocnote"><div class="ioccontent">
<p>
Un exemple de protocol d’accés al medi per rotació circular és l’anell de testimoni (IEEE 802.5).
</p>
</div></div><div class="iocnote"><div class="ioccontent">
<p>
Un exemple de protocol d’accés al medi amb reserva és el DQDB (IEEE_802.6).
</p>
</div></div><div class="iocnote"><div class="ioccontent">
<p>
Un exemple de protocol d’accés al medi per contenció és l’Ethernet (IEE 802.3).
</p>
</div></div>
<p>
Cada un dels estàndards pertany a un grup de treball que s’identifica amb un punt i el número. Per exemple, el grup de treball de l’Ethernet s’anomena <em>802.3</em>, el qual defineix tant la capa física com el control d’accés al medi. Amb la capa física també s’inclou l’especificació del medi de transmissió i la topologia de xarxa. El protocol de control d’enllaç lògic no el recull l’IEEE 802.3, sinó que es defineix en l’IEEE 802.2, depenent del tipus de medi (l’Ethernet, anell de testimoni, l’FDDI, 802.11, etc.).
</p>

</div>

<h3><a id="l_ethernet_8023" >L&#039;Ethernet 802.3</a></h3>
<div class="level3">

<p>
La tècnica de control d’accés al medi més usada actualment en topologies en bus i estrella és la d’accés múltiple amb detecció de portadora i detecció d’errors o col·lisions (CSMA/CD, <em>carrier sense multiple access / collision detect</em>). Aquesta tècnica va ser desenvolupada per Xerox per a xarxes locals i va ser la base per a l’especificació posterior IEE 802.3.
</p>

<p>
Aquesta tecnologia de difusió duu a terme tres funcions fonamentals:
</p>
<ol>
<li class="level1"><div class="li"> Transmetre i rebre paquets de dades.</div>
</li>
<li class="level1"><div class="li"> Descodificar paquets de dades i comprovar la validesa de les adreces abans de passar-los a les capes superiors del model de referència OSI.</div>
</li>
<li class="level1"><div class="li"> Detectar els errors que hi pugui haver en la xarxa o en els mateixos paquets que es transmeten.</div>
</li>
</ol>

<p>
En el mètode d’accés múltiple amb detecció de portadora i detecció de col·lisions, els dispositius de la xarxa treballen “escoltant abans de transmetre” (CS, <em>carrier sense</em>); és a dir, quan un dispositiu vol enviar dades, en primer lloc comprova si el medi està ocupat. En cas que estigui lliure, el dispositiu comença a transmetre les dades, tot i que, mentrestant, el dispositiu continua escoltant per confirmar que no hi ha cap altra estació que també transmeti dades. Si s’esdevé aquesta situació, hi podria haver una col·lisió. En cas contrari, el dispositiu finalitza la transmissió i torna a la modalitat d’oient (<span class="figref"><a href="#Figure12"><span>figura</span></a></span>).
</p>

<p>
Quan col·lideixen dues trames perquè fan servir el medi concurrentment, el medi queda inutilitzat mentre dura la transmissió. Les regles que es defineixen per a l’ús del medi són les següents:
</p>
<ul>
<li class="level1"><div class="li"> L’equip transmet si el medi està lliure.</div>
</li>
<li class="level1"><div class="li"> Si el medi està ocupat, l’equip continua escoltant fins que quedi lliure.</div>
</li>
<li class="level1"><div class="li"> Si es detecta una col·lisió, l’equip transmet un senyal d’alerta perquè tots els equips s’adonin de la col·lisió.</div>
</li>
<li class="level1"><div class="li"> Espera un temps aleatori i ho torna a intentar.</div>
</li>
</ul>

<p>
Per tant, es tracta d’un control d’accés al medi per contenció descentralitzat, ja que no hi ha cap equip encarregat de la gestió del medi, sinó que aplicant un conjunt de regles en tots els equips sorgeix un ordre del caos aparent.
</p>
<div class="iocfigure"><a name="Figure12"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Procés CSMA_CD

</figcaption><img src="../media/ic10m5u3_14.png" alt="" /></figure>
</div>
</div>

<h3><a id="anell_de_testimoni_l_ieee_8025" >Anell de testimoni (l&#039;IEEE 802.5)</a></h3>
<div class="level3">

<p>
La tècnica d’anell de testimoni per al control d’accés al medi es basa en una petita trama, anomenada <em>testimoni</em> (<em>token</em>), que va circulant per tots els equips.
</p>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">Detecció de col·lisions</p>
<p>
Els dispositius de xarxa tenen la capacitat de detectar quan s’ha produït una col·lisió, atès que augmenta l’amplitud del senyal (CD, <em>collision detect</em>). Quan hi ha una col·lisió, cadascun dels dispositius que transmet dades continua amb la transmissió durant un espai de temps breu per confirmar que tots els dispositius veuen la col·lisió i introdueixen un algoritme de retard; és a dir, esperen un espai de temps aleatori.
</p>
</div></div>
<p>
En començar a transmetre, es canvia un dels bits del testimoni i comencen a circular les trames de dades. Evidentment, quan una estació transmet desapareix el testimoni i, per tant, totes les estacions s’han de mantenir escoltant. 
</p>

<p>
La trama que s’ha emès fa una volta completa a l’anell i l’estació emissora la torna a llegir (per comprovar que no s’han alterat les dades) i l’elimina. El testimoni es torna a inserir quan l’equip ha acabat de transmetre o si li arriba de nou l’emissió abans d’haver acabat d’emetre. Un cop inserit de nou el testimoni, l’estació següent decideix si vol transmetre o passa el testimoni a la següent.
</p>

<p>
Es tracta d’un sistema poc eficaç si la càrrega del medi és baixa, ja que un equip ha d’esperar que li arribi el testimoni encara que la resta no vulgui transmetre. Tot i això, en cas de càrrega alta és un sistema per torns molt equitatiu que dóna l’oportunitat de transmetre a tots els equips de la xarxa.
</p>

<p>
Els inconvenients principals de la xarxa en anell de testimoni són la definició de procediments per controlar els possibles errors en l’anell. Per exemple, si es perdés el testimoni, cap equip no podria transmetre.
</p>

<p>
En aquest estàndard també podem trobar certes característiques opcionals com uns bits per definir la prioritat d’una trama, l’opció d’alliberament ràpid del testimoni, o bé, una xarxa dedicada per al pas del testimoni.
</p>

<p>
Aquest protocol actualment es troba en desús per la popularització de l’Ethernet.
</p>

</div>

<h3><a id="el_dqdb_l_ieee_8026" >El DQDB (l&#039;IEEE 802.6)</a></h3>
<div class="level3">

<p>
<em>DQDB</em> significa ‘bus dual de cua distribuïda’ (<em>distributed-queue dual-bus network</em>) i ja no s’usa per l’expansió de les xarxes <acronym title="Local Area Network">LAN</acronym> i WAN. Al principi estava dissenyat per ser una xarxa MAN (xarxa d’àrea metropolitana), a mig camí entre una <acronym title="Local Area Network">LAN</acronym> (xarxa d’àrea local) i una WAN (xarxa d’àrea àmplia), que prometia velocitat per a xarxes que s’escapen de l’àrea local.
</p>

<p>
En el cas de l’estàndard IEEE 802.6, és format per dos busos unidireccionals paral·lels per a tota l’àrea que s’ha de cobrir. Quan un equip vol transmetre, de primer ha de confirmar l’adreça del receptor (dreta o esquerra) i després ha de fer servir el bus adequat. Un cop formada la xarxa, cada equip ha de comprovar les adreces dels altres equips, cosa que genera grans esperes, especialment quan la xarxa creix en nombre d’equips.
</p>

</div>

<h3><a id="les_col_lisions" >Les col·lisions</a></h3>
<div class="level3">

<p>
Les col·lisions acostumen a produir-se quan dos o més estacions Ethernet transmeten alhora dins d’un mateix domini de col·lisió. A grans trets, una col·lisió és detectada mentre s’estava transmetent una trama, tot i que, en intents posteriors, la trama s’hagi transmès correctament.
</p>

<p>
Una diferència important que hi ha entre col·lisió i transmissió diferida és que la primera es produeix quan ja s’ha començat a transmetre la trama, mentre que la segona es produeix abans de començar a transmetre la trama.
</p>
<div class="iocreference"><div class="ioccontent">
<p>
Podeu trobar la definició de <strong>domini de col·lisió</strong> a l’apartat “Dominis de col·lisió i difusió (broadcast i segmentació)”.
</p>
</div></div>
<p>
Aquesta situació és diferent en el cas de les trames amb transmissions diferides, atès que permeten la inexistència de col·lisions.
</p>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">Transmissió diferida</p>
<p>
La transmissió diferida és un procés de latència en què entra una estació amb intenció de transmetre si, prèviament, ha confirmat que el medi està ocupat. A grans trets, la transmissió es basa en una cadena de processos, com “esperar, escoltar i transmetre”.
</p>
</div></div><div class="iocimportant"><div class="ioccontent">
<p>
Les trames parcials o totalment fallides són les resultants de l’existència d’una col·lisió i s’anomenen fragments de la col·lisió.
</p>
</div></div>
</div>

<h4><a id="tipus_de_col_lisions" >Tipus de col·lisions</a></h4>
<div class="level4">
<div class="iocimportant"><div class="ioccontent">
<p>
Els principals tipus d’errors que hi poden haver amb trames Ethernet s’anomenen col·lisions locals, col·lisions remotes i, per últim, col·lisions endarrerides.
</p>
</div></div>
<p>
La <strong>col·lisió local</strong> és una situació que es produeix quan un senyal que viatja per un medi es troba amb un senyal d’una altra estació. És en aquest moment quan les ones se solapen, això és, es cancel·len algunes parts del senyal i unes altres es reforcen (és a dir, se’n dobla el valor). Quan es dobla una part del senyal, es produeix un augment del seu voltatge per sobre del nivell màxim permès. Totes les estacions presents en el segment de la xarxa on es produeix aquesta situació notaran aquest augment de la tensió i la identificaran com una col·lisió.
</p>

<p>
Una de les conseqüències d’una col·lisió és la presència de trossets de les trames que han col·lidit circulant per la xarxa. En aquest cas, quan el resultat que es deriva de la col·lisió són trames malmeses que no presenten la longitud mínima i que, a més, tenen una seqüència de verificació (FCS, <em>frame check sequence</em>) errònia s’anomena <strong>col·lisió remota</strong>.
</p>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">Col·lisions endarrerides</p>
<p>
Es pot donar una col·lisió endarrerida si el temps que tarda una senyal a desplaçar-se des d’un extrem de la xarxa a l’altre excedeix, aproximadament, els 57,6 microsegons.
</p>
</div></div>
<p>
Per altra banda, s’anomena <strong>col·lisió endarrerida</strong> la presència d’una trama amb la seqüència de verificació errònia provocada per una targeta d’interfície de xarxa (NIC, <em>network interface card</em>) defectuosa. Val a dir que també es considera col·lisió endarrerida la degradació de la trama d’informació per una longitud de cable de xarxa excessiu.
</p>

<p>
Un cop definits els diferents tipus de col·lisions que hi poden haver, és important situar la seva influència dins de l’estructura d’una trama Ethernet IEEE 802.3 tal com mostra la <span class="figref"><a href="#Figure13"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figure13"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Tipus de col·lisions

</figcaption><img src="../media/ic10m5u3_15.png" alt="" /></figure>
</div>
<p>

</p>

<p>
<strong>Característiques de cada tipus (resum):</strong>
</p>
<ul>
<li class="level1"><div class="li"> Col·lisió local:</div>
<ul>
<li class="level2"><div class="li"> Es produeix quan coincideixen dues trames al mateix segment.</div>
</li>
<li class="level2"><div class="li"> Es detecta per sobrevoltatge al senyal (per coincidència de dades amb voltatge alt —els voltatges es “sumen”—).</div>
</li>
</ul>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> Col·lisió remota:</div>
<ul>
<li class="level2"><div class="li"> Es detecta perquè hi ha fragments de trama circulant pel segment. Aquests fragments tenen una longitud inferior a la mínima i/o una FCS errònia.</div>
</li>
<li class="level2"><div class="li"> Sol originar-se per una col·lisió local en un altre segment. Aquesta col·lisió genera senyals amb sobrevoltatge que no són reenviats pel dispositiu que uneix els segments.</div>
</li>
</ul>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> Col·lisió endarrerida:</div>
<ul>
<li class="level2"><div class="li"> Es detecta per una FCS errònia.</div>
</li>
<li class="level2"><div class="li"> És originada habitualment per una targeta de xarxa defectuosa (NIC) o per la degradació del senyal causada per un cable de xarxa de longitud excessiva.</div>
</li>
</ul>
</li>
</ul>

</div>

<h4><a id="dominis_de_col_lisio_i_difusio_broadcast_i_segmentacio" >Dominis de col·lisió i difusió (broadcast i segmentació)</a></h4>
<div class="level4">

<p>
Un domini de col·lisió és, tal com mostra la <span class="figref"><a href="#Figure14"><span>figura</span></a></span>, un segment físic d’una xarxa d’ordinadors on hi ha possibilitats que els paquets puguin xocar, això és, en el cas que dos ordinadors transmetin per un medi compartit.
</p>

<p>
Un segment de xarxa és qualsevol medi de xarxa compartit com, per exemple, un cable i un dispositiu, és a dir, un commutador o un concentrador.
</p>

<p>
<div class="iocfigurec">
<ul>
<li>
<img src="../media/ic10m5u3_16.png" class="imgB" title="Un segment de xarxa és qualsevol medi de xarxa compartit com, per exemple, un cable i un dispositiu, o sigui un commutador o un concentrador./-25" alt="Un segment de xarxa és qualsevol medi de xarxa compartit com, per exemple, un cable i un dispositiu, o sigui un commutador o un concentrador./-25" /></li><li><small>Un segment de xarxa és qualsevol medi de xarxa compartit com, per exemple, un cable i un dispositiu, o sigui un commutador o un concentrador.</small></li>
</ul></div>

</p>
<div class="iocfigure"><a name="Figure14"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Cinc dominis de col·lisió

</figcaption><img src="../media/ic10m5u3_17.png" alt="" /></figure>
</div><div class="iocimportant"><div class="ioccontent">
<p>
Des del punt de vista dels dispositius que hi ha en una xarxa, cal destacar que els commutadors i els encaminadors segmenten dominis de col·lisió. En el cas dels concentradors, presenten un únic domini de col·lisió, és a dir, en el cas que dos equips provoquin una col·lisió en un segment associat a un port del concentrador, tots els altres dispositius es veuen afectats (encara que estiguin connectats a diferents ports).
</p>
</div></div><div class="ioctext"><div class="ioccontent"><p class="ioctitle">Símbols utilitzats</p>
<p>
Un <strong>commutador</strong> (<em>switch</em>) es representa com un dispositiu rectangular amb 4 fletxes. <br/>
Un <strong>concentrador</strong> (<em>hub</em>) es representa com un dispositiu rectangular amb 2 fletxes. <br/>
Un <strong>encaminador</strong> (<em>router</em>) es representa com un dispositiu de forma circular.
</p>
</div></div>
<p>
Tal com es veu en la <span class="figref"><a href="#Figure15"><span>figura</span></a></span>, un domini de difusió MAC (<em>media access control</em>) està constituït per tots els dispositius que estan connectats a una xarxa d’àrea local i que reben difusions de trames de dades enviades d’una màquina a totes les altres. A grans trets, podem dir que un domini de difusió MAC és un grup de dispositius de la xarxa que envien i reben missatges de difusió entre ells.
</p>
<div class="iocfigure"><a name="Figure15"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Tres dominis de difusió

</figcaption><img src="../media/ic10m5u3_18.png" alt="" /></figure>
</div><div class="iocimportant"><div class="ioccontent">
<p>
Des del punt de vista dels dispositius presents en una xarxa, cal destacar que els encaminadors segmenten els dominis de difusió.
</p>
</div></div>
</div>

	 </article>
     <div class="pnpage">
      <div class="left-corner"></div>
      <div id="prevpage">Anar a la p&agrave;gina anterior:<br /><a href="../../../WebContent/u3/a1/exercicis.html">Exercicis d'autoavaluació</a></div>
      <div id="nextpage">Anar a la p&agrave;gina seg&uuml;ent:<br /><a href="../../../WebContent/u3/a2/exercicis.html">Exercicis d'autoavaluació</a></div>
      <div class="right-corner"></div>
     </div>
    </div>
    <footer class="footer">
      <div><small>Aquest document està subjecte a una llicència oberta de Creative Commons, es reserva el dret de reconeixement de l'autoria, d'exigir que no se'n faci cap mena d'ús comercial. Si altereu o transformeu aquesta obra, o en genereu obres derivades, només podeu distribuir l'obra generada amb una llicència idèntica a aquesta.</small></div>
    </footer>
 </div>
 <div id="back_preview" class="hidden"></div>
 <div id="preview" class="hidden">
  <div class="prevcontent"></div>
 </div>
 <div id="help-tooltips">
  <div id="help-toc" class="hidden tooltip"><span>Taula de continguts:</span> Ofereix una vista general de l&#39;estructura del m&ograve;dul, que us facilitar&agrave; la navegaci&oacute; a trav&eacute;s dels seus continguts.<span class="arrow-left"></span></div> 
  <div id="help-settings" class="hidden tooltip"><span>Opcions de format:</span> Permet configurar el format de lectura a partir de les vostres prefer&egrave;ncies, modificant la mida de la lletra, el color del fons, l&#39;amplada de la p&agrave;gina o l&#39;ocultaci&oacute; dels continguts complementaris, entre d&#39;altres.<span class="arrow-left"></span></div>
  <div id="help-printer" class="hidden tooltip"><span>Imprimir:</span>  Envia el contingut seleccionat a la impressora.<span class="arrow-left"></span></div>
  <div id="help-favorites" class="hidden tooltip"><span>Prefereits:</span> Permet desar aquelles parts del contingut a les que us interessi accedir en un moment posterior; us permetr&agrave; anar creant un repositori personalitzat de les seccions que considereu m&eacute;s rellevants. Un cop l&#39;hageu començat a fer servir se us mostrar&agrave; a sota un comptador que us informar&agrave; del nombre de preferits que s&#39;hagin emmagatzemat fins al moment.<span class="arrow-left"></span></div>
  <div id="help-favcounter" class="hidden tooltip"><span>Comptador i llistat de preferits:</span> Indica el nombre de preferits que s&#39;han desat fins el moment; clicant damunt seu accedireu al llistat de preferits, i a trav&eacute;s d&#39;aquest podreu accedir directament als continguts que hageu emmagatzemat.<span class="arrow-left"></span></div>
  <div id="help-help_icon" class="hidden tooltip"><span>Ajuda:</span> Aquesta opci&oacute; activa la informaci&oacute; de les funcionalitats del web tot situant el punter del ratol&iacute; al damunt dels diferents &iacute;tems.<span class="arrow-left"></span></div>
  <div id="help-sidebar-hide" class="hidden tooltip"><span>Mostrar/Ocultar barra lateral:</span>  Deshabilita la barra d&#39;opcions, permetent la seva recuperaci&oacute; quan es desitgi.<span class="arrow-left"></span></div>
  <div id="help-search" class="hidden tooltip"><span>Cerca:</span>  Introdu&iuml;u les paraules clau sobre aquells conceptes que desitgeu localitzar en els continguts del m&ograve;dul. Tamb&eacute; podeu excloure un terme de la cerca tot afegint-hi el signe &#8220;-&#8221; al davant.<span class="arrow-top"></span></div>
  <div id="help-header" class="hidden tooltip"><span>Cap&ccedil;alera:</span>  Indica l&#39;apartat o secci&oacute; que es mostra en pantalla. Tingueu present que les capçaleres de segon, tercer i quart nivell tamb&eacute; es poden desar com a marcadors.<span class="arrow-left"></span></div>
</div> 
</body>
</html>
