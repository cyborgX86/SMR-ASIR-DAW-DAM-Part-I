<!doctype html>

<!--[if lt IE 7 ]> <html class="ie ie6 no-js" lang="ca"> <![endif]-->
<!--[if IE 7 ]>    <html class="ie ie7 no-js" lang="ca"> <![endif]-->
<!--[if IE 8 ]>    <html class="ie ie8 no-js" lang="ca"> <![endif]-->
<!--[if IE 9 ]>    <html class="ie ie9 no-js" lang="ca"> <![endif]-->
<!--[if gt IE 9]><!--><html class="no-js" lang="ca"><!--<![endif]-->
<!-- the "no-js" class is for Modernizr. -->

<head id="www-sitename-com" data-template-set="html5-reset">

	<meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html">
        
	<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
	<title>Xarxes d'àrea local</title>
	
<!-- <meta name="title" content=""> --> 
	<meta name="description" content="">
	<!-- Google will often use this as its description of your page/site. Make it good. -->
	
	<meta name="google-site-verification" content="">
	<!-- Speaking of Google, don't forget to set your site up: http://google.com/webmasters -->
	
	<meta name="author" content="Institut Obert de Catalunya">
	<meta name="Copyright" content="Copyright Institut Obert de Catalunya 2011. All Rights Reserved.">

	<!-- Dublin Core Metadata : http://dublincore.org/ -->
	<meta name="DC.title" content="Xarxes d'àrea local">
	<meta name="DC.subject" content="Informàtica i comunicacions">
	<meta name="DC.creator" content="Institut Obert de Catalunya">
	
	<!--  Mobile Viewport Fix
	j.mp/mobileviewport & davidbcalhoun.com/2010/viewport-metatag 
	device-width : Occupy full width of the screen in its current orientation
	initial-scale = 1.0 retains dimensions instead of zooming out if page height > device height
	maximum-scale = 1.0 retains dimensions instead of zooming in if page width < device width
	-->
	<!-- Uncomment to use � use thoughtfully!
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
	-->

	<link rel="shortcut icon" href="../../../img/favicon.ico">
	<!-- This is the traditional favicon.
		 - size: 16x16 or 32x32
		 - transparency is OK
		 - see wikipedia for info on browser support: http://mky.be/favicon/ -->
		 
	<link rel="apple-touch-icon" href="../../../img/apple-touch-icon.png">
	<!-- The is the icon for iOS's Web Clip.
		 - size: 57x57 for older iPhones, 72x72 for iPads, 114x114 for iPhone4's retina display (IMHO, just go ahead and use the biggest one)
		 - To prevent iOS from applying its styles to the icon name it thusly: apple-touch-icon-precomposed.png
		 - Transparency is not recommended (iOS will put a black BG behind the icon) -->
	
	<!-- CSS: screen, mobile & print are all in the same file -->
	<link rel="stylesheet" href="../../../_/css/style.css">

	<!-- CSS: jQuery UI -->
	<link rel="stylesheet" href="../../../_/css/jquery-ui.css">
	
	<!-- all our JS is at the bottom of the page, except for Modernizr. -->
	<script src="../../../_/js/modernizr-1.7.min.js"></script>
	<script src="../../../_/js/Hyphenator.js" type="text/javascript"></script>
	<script type="text/javascript">
	   Hyphenator.config({
		minwordlength : 4
	   });
	   Hyphenator.run();
	</script>
    <script src="../../../_/js/build.js" type="text/javascript"></script>
</head>

<body class="style-newspaper">

<div class="wrapper"><!-- not needed? up to you: http://camendesign.com/code/developpeurs_sans_frontieres -->

	<header id="header">
		<div class="head"><a href="http://ioc.gencat.cat"><img src="../../../img/logo.png" alt="Institut Obert de Catalunya"/></a><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/es/deed.ca"><img src="../../../img/license.png" alt="Llic&egrave;ncia" class="license"/></a></div>
		<div class="headdocument"><a href="../../../index.html">Xarxes d'àrea local</a></div>
        <div id="search" class="search" name="search">
         <form id="frmsearch" action="../../../search.html" method="get">
          <input type="text" name="q"/>
        </form>
        </div>
	</header>
   <div id="upbutton" class="upbutton" style="display:none;"><img src="../../../img/uparrow.png" alt="Pujar a l'inici de p&agrave;gina"/></div>
   <aside id="aside">
    <div id="menu">
      <ul>
       <li name="toc"><div><img src="../../../img/toc.png" alt="&Iacute;ndex"/></div></li>
       <li name="settings"><div><img src="../../../img/settings.png" alt="Configuraci&oacute;"/></div></li>
       <li name="printer"><div><img src="../../../img/printer.png" alt="Imprimir"/></div></li>
       <li name="favorites"><div><img src="../../../img/favorites.png" alt="Favorits"/></div></li>
       <li name="help_icon" class="help_icon"><div><img src="../../../img/help_icon.png" alt="Ajuda"/></div></li>
      </ul>
     </div>
   </aside>
   <div id="sidebar-hide" name="sidebar-hide"><img src="../../../img/arrows.png"/></div>
   <section>
     <div id="toc" class="hidden">
      <div class="menucontent">
        <ul>
        <li id="u3" class="parentnode"><p><a class="unit" href="../../../WebContent/u3/introduccio.html">3. Interconnexió de la xarxa</a></p><ul class="expander"><li id="u3introduccio"><a href="../../../WebContent/u3/introduccio.html">Introducció</a></li><li id="u3objectius"><a href="../../../WebContent/u3/objectius.html">Resultats d'aprenentatge</a></li><li id="u3referencies"><a href="../../../WebContent/u3/referencies.html">Referències</a></li><li id="u3resum"><a href="../../../WebContent/u3/resum.html">Resum</a></li><li id="u3a1" class="tocsection"><p id='u3a1continguts'><a class="section" href="../../../WebContent/u3/a1/continguts.html">Adreçament físic i lògic de la xarxa</a><span class="buttonexp"></span></p><ul><li id="u3a1activitats"><a href="../../../WebContent/u3/a1/activitats.html">Activitats</a></li><li id="u3a1annexos"><a href="../../../WebContent/u3/a1/annexos.html">Annexos</a></li><li id="u3a1exercicis"><a href="../../../WebContent/u3/a1/exercicis.html">Exercicis d'autoavaluació</a></li></ul></li><div data-parent-id='u3a1' class='tocssection hidden'><div class="toc"><ul><li><a href="../../../WebContent/u3/a1/continguts.html#adrecament_fisic">Adreçament físic</a></li><li><a href="../../../WebContent/u3/a1/continguts.html#adrecament_logic">Adreçament lògic</a></li></ul></div></div><li id="u3a2" class="tocsection"><p id='u3a2continguts'><a class="section" href="../../../WebContent/u3/a2/continguts.html">Protocols de nivell d'enllaç</a><span class="buttonexp"></span></p><ul><li id="u3a2exercicis"><a href="../../../WebContent/u3/a2/exercicis.html">Exercicis d'autoavaluació</a></li></ul></li><div data-parent-id='u3a2' class='tocssection hidden'><div class="toc"><ul><li><a href="../../../WebContent/u3/a2/continguts.html#serveis_de_la_capa_d_enllac">Serveis de la capa d'enllaç</a></li><li><a href="../../../WebContent/u3/a2/continguts.html#ieee_802">IEEE 802</a></li></ul></div></div><li id="u3a3" class="tocsection"><p id='u3a3continguts'><a class="section" href="../../../WebContent/u3/a3/continguts.html">Protocols de xarxa</a><span class="buttonexp"></span></p><ul><li id="u3a3activitats"><a href="../../../WebContent/u3/a3/activitats.html">Activitats</a></li><li id="u3a3annexos"><a href="../../../WebContent/u3/a3/annexos.html">Annexos</a></li><li id="u3a3exercicis"><a href="../../../WebContent/u3/a3/exercicis.html">Exercicis d'autoavaluació</a></li></ul></li><div data-parent-id='u3a3' class='tocssection hidden'><div class="toc"><ul><li><a href="../../../WebContent/u3/a3/continguts.html#funcions_dels_protocols_de_xarxa">Funcions dels protocols de xarxa</a></li><li><a href="../../../WebContent/u3/a3/continguts.html#ip_internet_protocol">IP (Internet protocol)</a></li><li><a href="../../../WebContent/u3/a3/continguts.html#l_icmp">L'ICMP</a></li><li><a href="../../../WebContent/u3/a3/continguts.html#arp">ARP</a></li><li><a href="../../../WebContent/u3/a3/continguts.html#ipx">IPX</a></li></ul></div></div><li id="u3a4" class="tocsection"><p id='u3a4continguts'><a class="section" href="../../../WebContent/u3/a4/continguts.html">Adreçament IP</a><span class="buttonexp"></span></p><ul><li id="u3a4activitats"><a href="../../../WebContent/u3/a4/activitats.html">Activitats</a></li><li id="u3a4exercicis"><a href="../../../WebContent/u3/a4/exercicis.html">Exercicis d'autoavaluació</a></li></ul></li><div data-parent-id='u3a4' class='tocssection hidden'><div class="toc"><ul><li><a href="../../../WebContent/u3/a4/continguts.html#encapcalament_ip">Encapçalament IP</a></li><li><a href="../../../WebContent/u3/a4/continguts.html#classes_d_adreca_ipv4">Classes d'adreça IPv4</a></li><li><a href="../../../WebContent/u3/a4/continguts.html#creacio_de_subxarxes_o_subneeting">Creació de subxarxes o subneeting</a></li><li><a href="../../../WebContent/u3/a4/continguts.html#adrecament_public_i_privatnat">Adreçament públic i privat: NAT</a></li><li><a href="../../../WebContent/u3/a4/continguts.html#el_protocol_ipv6">El protocol IPv6</a></li></ul></div></div><li id="u3a5" class="tocsection"><p id='u3a5continguts'><a class="section" href="../../../WebContent/u3/a5/continguts.html">Protocols de la capa de transport</a><span class="buttonexp"></span></p><ul><li id="u3a5activitats"><a href="../../../WebContent/u3/a5/activitats.html">Activitats</a></li><li id="u3a5exercicis"><a href="../../../WebContent/u3/a5/exercicis.html">Exercicis d'autoavaluació</a></li></ul></li><div data-parent-id='u3a5' class='tocssection hidden'><div class="toc"><ul><li><a href="../../../WebContent/u3/a5/continguts.html#funcions_de_la_capa_de_transport">Funcions de la capa de transport</a></li><li><a href="../../../WebContent/u3/a5/continguts.html#serveis_orientats_a_connexiointercanvi_de_senyals_a_tres_passes">Serveis orientats a connexió: intercanvi de senyals a tres passes</a></li><li><a href="../../../WebContent/u3/a5/continguts.html#protocols_de_capa_de_transport_i_ports">Protocols de capa de transport i ports</a></li></ul></div></div><li id="u3a6" class="tocsection"><p id='u3a6continguts'><a class="section" href="../../../WebContent/u3/a6/continguts.html">Protocols de la capa d'aplicació</a><span class="buttonexp"></span></p><ul><li id="u3a6activitats"><a href="../../../WebContent/u3/a6/activitats.html">Activitats</a></li><li id="u3a6exercicis"><a href="../../../WebContent/u3/a6/exercicis.html">Exercicis d'autoavaluació</a></li></ul></li><div data-parent-id='u3a6' class='tocssection hidden'><div class="toc"><ul><li><a href="../../../WebContent/u3/a6/continguts.html#model_client-servidor">Model client-servidor</a></li><li><a href="../../../WebContent/u3/a6/continguts.html#assignacio_automatica_d_adreces_ipbootp_i_dhcp">Assignació automàtica d'adreces IP: BOOTP i DHCP</a></li><li><a href="../../../WebContent/u3/a6/continguts.html#noms_de_hosts_i_dns">Noms de hosts i DNS</a></li><li><a href="../../../WebContent/u3/a6/continguts.html#altres_protocols_i_serveissmtp_pop_telnet_ftp_http_ntp_etc">Altres protocols i serveis: SMTP, POP, Telnet, FTP, HTTP, NTP, etc</a></li><li><a href="../../../WebContent/u3/a6/continguts.html#servidors_intermediaris">Servidors intermediaris</a></li><li><a href="../../../WebContent/u3/a6/continguts.html#utilitats_tcp_ip">Utilitats TCP/IP</a></li></ul></div></div></ul></li><li id="" class="indexnode"><p><a href="../../../index.html">Anar a l&#39;&iacute;ndex general</a></p></li>
        </ul>
      </div>
    </div>
   </section>
   <section>
   <div id="settings" class="hidden">
    <div class="menucontent">
     <div class="allsettings">
     <div class="settings">
      <label>Font i Color</label>
		<div class="setting-option">
	        <ul class="fontBackground">
				<li id="style-newspaper" title="Newspaper" class="appearance-style-newspaper"><span>Newspaper</span></li>
                <li id="style-novel" title="Novel" class="appearance-style-novel"><span>Novel</span></li>
                <li id="style-ebook" title="eBook" class="appearance-style-ebook"><span>eBook</span></li>
				<li id="style-inverse" title="Inverse" class="appearance-style-inverse active"><span>Inverse</span></li>
				<li id="style-athelas" title="Athelas" class="appearance-style-athelas"><span>Athelas</span></li>
			</ul>
		</div>
     </div>
	<div class="settings">
      <label>Amplada</label>
		<div class="setting-option">
	        <div id="slider-width"></div>
		</div>
     </div>
     <div class="settings">
      <label>Mida de la font</label>
		<div class="setting-option">
	        <div id="slider-font"></div>
		</div>
     </div>
     <div class="settings">
      <label>Mida de la font</label>
	  <div class="setting-option">
       <form action="" class="sett-options">
		<ul>
		    <li><input type="checkbox" id="secondary-content" /><label for="secondary-content">Mostra recursos complementaris</label></li>
		    <li><input type="checkbox" id="main-images" /><label for="main-images">Mostra imatges</label></li>
		    <li><input type="checkbox" id="text-alignment" /><label for="text-alignment">Text justificat</label></li>
			<li><input type="checkbox" id="text-hyphen" /><label for="text-hyphen">Partici&oacute; sil·l&agrave;bica</label></li>
		</ul>
       </form>
	  </div>
     </div>
     </div>
    </div>
   </div>
   </section>
 <section>
 <div id="favorites" class="hidden"></div>
 </section>   
 <div id="bridge" class="hidden"></div>
 <div id="help" class="hidden">
  <div class="helptitle">Dreceres del teclat<hr></div>
  <div class="helpsection"><span>General</span>
   <ul>
    <li><span class="shortcut">g</span>: Anar al men&uacute; de navegaci&oacute;</li>
    <li><span class="shortcut">o</span>: Anar a opcions</li>
    <li><span class="shortcut">s</span>: Guardar la p&agrave;gina actual a favorits</li>
    <li><span class="shortcut">p</span>: Imprimir la p&agrave;gina actual</li>
    <li><span class="shortcut">?</span>: Mostrar/Ocultar l&#39;ajuda</li>
   </ul>
  </div>
  <div class="helpsection"><span>Navegaci&oacute;</span>
   <ul>
    <li><span class="shortcut">i</span>: Anar a l&#39;&iacute;ndex general</li>
    <li><span class="shortcut">t</span>: Anar a l&#39;inici de p&agrave;gina</li>
    <li><span class="shortcut">b</span>: Anar al final de p&agrave;gina</li>
    <li><span class="shortcut">j</span>: Anar cap endavant dintre la p&agrave;gina</li>
    <li><span class="shortcut">k</span>: Anar cap enrere dintre la p&agrave;gina</li>
    <li><span class="shortcut">h</span>: Anar a la p&agrave;gina anterior:</li>
    <li><span class="shortcut">l</span>: Anar a la p&agrave;gina seg&uuml;ent:</li>
   </ul>
   </div>
 </div>
 <div id="favcounter" name="favcounter" class="hidden"><span></span></div>
 <div id="navmenu" class="navmenu"><ul class="webnav"><li><a href="../../../index.html" title="Anar a l&#39;&iacute;ndex general">Inici</a></li><li><a href="../introduccio.html">Interconnexió de la xarxa</a></li><li>Protocols de la capa d'aplicació</li></ul></div>
	<div id="content" lang="ca" class="hyphenate text">
     <article lang="ca" class="sheet">
        <h1><a id="protocols_de_la_capa_d_aplicacio"> Protocols de la capa d'aplicació</a></h1>
    	
<p>
Com que la <em>suite</em> TCP/IP es va desenvolupar abans que el model OSI, les capes del model TCP/IP no corresponen exactament a les capes del model OSI. La capa d’aplicació de TCP/IP ve a ser l’equivalent de combinar les capes de sessió, presentació i aplicació del model OSI.
</p>

<p>
Els serveis de la capa d’aplicació faciliten la comunicació entre les aplicacions de programari, que corren por sobre d’aquesta capa, i els serveis que presten les capes inferiors, de manera que la xarxa pugui interpretar les sol·licituds provinents d’una aplicació i, alhora, l’aplicació pugui interpretar les dades que li arriben de la xarxa. Mitjançant els protocols de la capa d’aplicació, les aplicacions de programari negocien amb la xarxa aspectes relacionats amb el format de les dades, polítiques de seguretat i sincronització, etc.
</p>

<p>
Així, per exemple, quan es fa ús d’un navegador per obrir una pàgina web, el protocol de la capa d’aplicació HTTP dóna format a la sol·licitud i l’envia des del navegador del client (una aplicació de programari) fins al servidor. El mateix protocol s’encarrega també de donar format i enviar la resposta del servidor web al navegador del client.
</p>

<h2><a id="model_client-servidor" >Model client-servidor</a></h2>
<div class="level2">

<p>
La major part de les aplicacions de programari que funcionen en un entorn de xarxa segueixen un <strong>model client-servidor</strong>. Aquestes aplicacions -com ara <acronym title="File Transfer Protocol">FTP</acronym>, navegadors web i programes de correu electrònic-, tenen dos components que els permeten comunicar-se entre elles: la part client i la part servidor.
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
Un <strong>programa client</strong> és un programa que s’està executant en un <em>host</em> i que sol·licita un servei determinat a un altre <em>host</em> de la xarxa (habitualment un <em>host</em> remot). Un programa client és iniciat per un usuari o per un altre programa, i finalitza quan el programa rep el servei sol·licitat.
</p>
</div></div><div class="iocimportant"><div class="ioccontent">
<p>
Un <strong>programa servidor</strong> és un programa que s’està executant en un <em>host</em> (habitualment remot) i que proporciona determinats serveis a múltiples programes clients. Quan el programa servidor s’inicia, comença a oferir els seus serveis a aquells clients que li ho sol·licitin, i presta aquests serveis de manera ininterrompuda i continuada.
</p>
</div></div>
</div>

<h2><a id="assignacio_automatica_d_adreces_ipbootp_i_dhcp" >Assignació automàtica d&#039;adreces IP: BOOTP i DHCP</a></h2>
<div class="level2">

<p>
Cada <em>host</em> connectat a una xarxa TCP/IP ha de conèixer la informació bàsica següent:
</p>
<ul>
<li class="level1"><div class="li"> la seva adreça IP,</div>
</li>
<li class="level1"><div class="li"> la seva màscara de subxarxa,</div>
</li>
<li class="level1"><div class="li"> l’adreça IP del <em>gateway</em> predeterminat i</div>
</li>
<li class="level1"><div class="li"> l’adreça IP d’un servidor <acronym title="Domain Name System">DNS</acronym>.</div>
</li>
</ul>

<p>
Tota aquesta informació pot estar enregistrada de manera manual a un fitxer de configuració que és consultat quan el <em>host</em> s’engega o, alternativament, pot ser assignada de manera dinàmica durant el procés d’arrencada mitjançant protocols com ara BOOTP o DHCP.
</p>

</div>

<h3><a id="bootp" >BOOTP</a></h3>
<div class="level3">
<div class="iocimportant"><div class="ioccontent">
<p>
<strong>BOOTP</strong> (<em>bootstrap protocol</em>) és un protocol de la capa d’aplicació que utilitza una llista centralitzada d’adreces IP per tal d’assignar, de manera dinàmica, adreces IP als nodes d’una xarxa.
</p>
</div></div>
<p>
Les adreces que assigna BOOTP són, per tant, <strong>adreces IP dinàmiques</strong>, en el sentit que són assignades de manera automàtica per un servidor en resposta a una sol·licitud del client o <em>host</em>, i que poden canviar en el futur també de manera automàtica.
</p>

<p>
En una xarxa on hi ha un servidor BOOTP, el procés d’assignació d’adreces és el següent: quan un dispositiu client o <em>host</em> es connecta a la xarxa, envia un missatge de difusió (<em>broadcast</em>) a la xarxa sol·licitant una adreça IP. En el missatge s’inclou l’adreça física (MAC) del sol·licitant. Llavors, el servidor BOOTP anota l’adreça MAC en la seva llista i li respon un missatge al client amb la informació següent: adreça IP que li assigna, la màscara de subxarxa associada, l’adreça IP i el nom del servidor BOOTP i l’adreça IP d’un encaminador o <em>gateway</em> predeterminat que dóna sortida a l’exterior de la xarxa (a Internet, per exemple).
</p>

<p>
La principal diferència entre els protocols RARP i BOOTP és que el primer no és encaminat (<em>routable</em>), de manera que caldria tenir un servidor RARP per cada segment de xarxa o <acronym title="Local Area Network">LAN</acronym>. A més, el RARP només proporciona l’adreça IP, però no pot assignar màscares de subxarxa ni altra informació addicional, com ara l’adreça IP del servidor o la de l’encaminador.
</p>

</div>

<h3><a id="dhcp" >DHCP</a></h3>
<div class="level3">
<div class="iocimportant"><div class="ioccontent">
<p>
<strong>DHCP</strong> (<em>dynamic host configuration protocol</em>) és un altre protocol de la capa d’aplicació que millora algunes de les funcions del protocol BOOTP. La major part de les xarxes actuals fan ús d’un servidor DHCP per assignar les adreces IP als <em>hosts</em> de manera dinàmica.
</p>
</div></div>
<p>
En les xarxes on es fa servir el protocol DHCP, el servidor DHCP assigna temporalment adreces IP als nodes que s’hi connectin. El temps d’aquesta assignació temporal o préstec està en funció de la configuració concreta del servidor i del client o <em>host</em>. Quan el termini de préstec finalitza, el client pot sol·licitar una renovació. En configurar un servei DHCP és necessari establir un rang d’adreces IP disponibles per a préstec i, si cal, una llista de les adreces reservades que quedaran excloses de préstec. A més, també caldrà configurar quina és la durada predeterminada del préstec.
</p>

<p>
El funcionament del procés d’assignació via DHCP és el següent (<span class="figref"><a href="#Figure48"><span>figura</span></a></span>):
</p>
<div class="iocfigure"><a name="Figure48"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Assignació d’adreces IP mitjançant DHCP

</figcaption><img src="../media/ic10m5u3_53.png" alt="" /></figure>
</div><ol>
<li class="level1"><div class="li"> Quan un client es connecta a una xarxa, envia un paquet de tipus <em>DHCP discover</em> per difusió (<em>broadcast</em>).</div>
</li>
<li class="level1"><div class="li"> Cada servidor DHCP situat en la mateixa subxarxa que el client respon -també en difusió- oferint al client una adreça IP disponible (i d’altra informació addicional: màscara de subxarxa, adreça IP del servidor DHCP, duració del préstec, etc.); a més, el servidor DHCP retira provisionalment aquesta adreça de la llista d’adreces disponibles.</div>
</li>
<li class="level1"><div class="li"> El client accepta la primera oferta d’adreça IP rebuda i envia un missatge d’acceptació en difusió, de manera que la resta de servidors DHCP sàpiguen que ja té una IP i que, per tant, poden tornar a la llista d’adreces disponibles aquelles adreces IP no utilitzades.</div>
</li>
<li class="level1"><div class="li"> Quan el servidor DHCP seleccionat ha rebut el missatge d’acceptació del client, contesta amb un altre missatge de confirmació, el qual incorpora informació addicional (màscara de subxarxa, adreça dels servidors <acronym title="Domain Name System">DNS</acronym>, adreça del <em>gateway</em> o encaminador predeterminat, etc.).</div>
</li>
</ol>

<p>
Un procés semblant al descrit es produeix cada cop que el període de préstec de l’adreça IP finalitza i el client vol demanar la renovació. Des del mateix client -o des del servidor-, es pot forçar també la finalització del préstec d’una adreça IP assignada per DHCP i, fins i tot, forçar l’assignació d’una nova adreça IP.
</p>
<div class="ioctextl"><div class="ioccontent"><p class="ioctitle">Alliberament i renovació de l&#039;adreça IP en Linux</p>
<p>
Per alliberar la màquina de l’adreça IP actualment assignada es pot fer ús de l’ordre <em>dhclient -r</em>. Per demanar una nova adreça IP es pot fer ús de l’ordre <em>dhclient eth0</em> o <em>dhclient wlan0</em>, segons la interfície que vulguem renovar.
</p>
</div></div><div class="ioctextl"><div class="ioccontent"><p class="ioctitle">Alliberament i renovació de l&#039;adreça IP en Windows</p>
<p>
En Windows, per alliberar la màquina de l’adreça IP actualment assignada es pot fer ús de l’ordre <em>ipconfig / release</em>. Per demanar una nova adreça IP es pot fer ús de l’ordre <em>ipconfig /renew</em>.
</p>
</div></div>
</div>

<h2><a id="noms_de_hosts_i_dns" >Noms de hosts i DNS</a></h2>
<div class="level2">

<p>
El adreçament en TCP/IP es fa mitjançant l’ús de nombres (adreces IP, màscares de subxarxa, etc.). Com que per als humans és més fàcil recordar i treballar amb noms que no amb números llargs, les autoritats que gestionen Internet han establert un sistema de noms per a tots els nodes connectats a Internet, de manera que qualsevol <em>host</em> pugui ser fàcilment identificat amb un nom.
</p>

</div>

<h3><a id="noms_de_domini" >Noms de domini</a></h3>
<div class="level3">
<div class="iocimportant"><div class="ioccontent">
<p>
Un <strong>domini</strong> és un grup de nodes que pertanyen a una mateixa organització i que tenen en comú una part de la seva adreça IP. Un domini està identificat per un <strong>nom de domini</strong>, que habitualment està associat a una organització. El <strong>nom complet</strong> d’un <em>host</em> (<em>fully qualified host name</em>) està format pel nom del <em>host</em> més el nom del domini al qual pertany.
</p>
</div></div>
<p>
Un nom de domini es representa mitjançant una sèrie d’etiquetes separades per punts. Cada etiqueta representa un nivell diferent en la jerarquia de noms de domini. Per exemple, en el nom de domini <a href="http://www.ioc.cat" class="urlextern" title="http://www.ioc.cat"  rel="nofollow">www.ioc.cat</a>, “cat” és el <strong>domini de nivell superior</strong> (<em>top-level domain</em>), “ioc” és el domini de segon nivell, i “www” és el domini de tercer nivell. Cada domini de segon nivell pot contenir múltiples dominis de tercer nivell, per exemple:ftp.ioc.cat, eines.ioc.cat, etc.
</p>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">Exclusivitat dels dominis</p>
<p>
Un cop que una organització o individu ha enregistrat un nom de domini per a ús propi a Internet, cap altra organització ni individu pot fer ús del mateix nom de domini a Internet.
</p>
</div></div>
<p>
Els noms de domini han d’estar enregistrats per l’ICANN o, en el seu defecte, per una empresa autoritzada a aquest efecte per aquesta entitat. La <span class="tabref"><a href="#Table11"><span>taula</span></a></span> mostra alguns dels dominis de nivell superior aprovats per l’ICANN.
</p>

<p>
L’ICANN és l’<em>Internet Corporation for Assigned Names and Numbers</em> o, en català, la Corporació d’Internet per a l’Assignació de Noms i Números.
</p>
<div class="ioctable ">
<div class="titletable"><a name="Table11"><span>Taula: </span></a>Exemples de dominis de nivell superior (top-level domains)</div>
<div class="table"><table class="inline">
	<tr class="row0">
		<th class="col0 leftalign"> Domini     </th><th class="col1 leftalign"> Tipus d’organització                                        </th>
	</tr>
	<tr class="row1">
		<td class="col0 leftalign"> <strong>com</strong>    </td><td class="col1 leftalign"> Comercial                                                   </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> <strong>edu</strong>    </td><td class="col1 leftalign"> Educativa (universitats, etc.)                              </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> <strong>gov</strong>    </td><td class="col1 leftalign"> Governamental                                               </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> <strong>org</strong>    </td><td class="col1 leftalign"> Organització sense ànim de lucre                            </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign"> <strong>net</strong>    </td><td class="col1"> Organització que ofereix serveis per a Internet (ISP, etc.) </td>
	</tr>
	<tr class="row6">
		<td class="col0"> <strong>museum</strong> </td><td class="col1 leftalign"> Museus                                                      </td>
	</tr>
	<tr class="row7">
		<td class="col0 leftalign"> <strong>es</strong>     </td><td class="col1 leftalign"> Espanya                                                     </td>
	</tr>
	<tr class="row8">
		<td class="col0 leftalign"> <strong>cat</strong>    </td><td class="col1 leftalign"> Catalunya                                                   </td>
	</tr>
	<tr class="row9">
		<td class="col0 leftalign"> <strong>uk</strong>     </td><td class="col1 leftalign"> Regne Unit                                                  </td>
	</tr>
	<tr class="row10">
		<td class="col0 leftalign"> <strong>fr</strong>     </td><td class="col1 leftalign"> França                                                      </td>
	</tr>
</table></div>
</div><div class="ioctextl"><div class="ioccontent"><p class="ioctitle">Exemples de noms de domini i host</p>
<p>
Alguns exemples de nom de domini són: ioc.cat, uoc.edu, ibm.com, mec.es. Com a exemple de nom de <em>host</em> tenim: host1.ioc.cat.
</p>
</div></div>
</div>

<h3><a id="fitxers_hosts" >Fitxers hosts</a></h3>
<div class="level3">

<p>
En moltes organitzacions es fa ús d’uns fitxers de text anomenats <strong>fitxers</strong>
hosts per tal de mantenir, només per a ús privat (no visible des d’Internet), una taula que associa noms de domini interns (un per cada <em>host</em> de la xarxa) amb les adreces IP corresponents. Cada nom de domini té un <strong>àlies</strong> que serveix de nom curt alternatiu per fer referència al <em>host</em>. A continuació un exemple de fitxer <em>hosts</em>:
</p>
<pre class="code">     GNU nano 2.0.9             Archivo: hosts
     
     127.0.0.1       localhost
     127.0.1.1       laptop
     
     # The following lines are desirable for IPv6 capable hosts
     
     ::1     localhost ip6-localhost ip6-loopback
     fe00::0 ip6-localnet
     ff00::0 ip6-mcastprefix
     ff02::1 ip6-allnodes
     ff02::2 ip6-allrouters
     ff02::3 ip6-allhosts</pre>

</div>

<h3><a id="dns_domain_name_system" >DNS (domain name system)</a></h3>
<div class="level3">
<div class="iocimportant"><div class="ioccontent">
<p>
<strong><acronym title="Domain Name System">DNS</acronym></strong> és un servei de la capa d’aplicació que s’encarrega d’associar noms de domini públics a adreces IP d’Internet. El servei <acronym title="Domain Name System">DNS</acronym> no està centralitzat en cap fitxer ni servidor concret, sinó que és proporcionat per un conjunt de servidors distribuïts per tot el món que segueixen una ordenació jeràrquica o piramidal, en el cim de la qual hi ha tretze <strong>servidors arrel</strong>.
</p>
</div></div>
<p>
Per tal de dirigir el trànsit de manera eficient, el servei <acronym title="Domain Name System">DNS</acronym> es divideix en tres components conceptuals:
</p>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">DNS és un servei fiable</p>
<p>
El fet que <acronym title="Domain Name System">DNS</acronym> sigui un servei distribuït entre servidors de tot el món permet garantir-ne el funcionament fins i tot quan alguns d’aquests servidors no estiguin disponibles per alguna raó.
</p>
</div></div>
<p>
<strong>1. Resolutors</strong>. Pertany a aquesta categoria qualsevol <em>host</em> d’Internet que necessiti esbrinar informació sobre noms de domini. El client resolutor o <em>resolver</em> està integrat en aplicacions TCP/IP, com ara HTTP. Quan s’introdueix en un navegador una adreça web, com ara <a href="http://www.google.es" class="urlextern" title="http://www.google.es"  rel="nofollow">http://www.google.es</a>, el programari client HTTP inicia el servei resolutor per tractar d’esbrinar l’adreça IP associada a <a href="http://www.google.es" class="urlextern" title="http://www.google.es"  rel="nofollow">www.google.es</a>. Si el <em>host</em> havia visitat aquesta pàgina recentment, és probable que l’adreça IP associada estigui encara enregistrada en la memòria del mateix <em>host</em> , per la qual cosa podrà ser recuperada ràpidament. Si no és així, el servei resolutor passarà la consulta al servidor de noms que el <em>host</em> tingui assignat.
</p>

<p>
<strong>2. Servidors de noms de domini (servidors <acronym title="Domain Name System">DNS</acronym>)</strong>. Aquests servidors contenen bases de dades amb noms de domini i adreces IP associades, informació que proporcionen als resolutors (<em>resolvers</em>) quan reben una petició d’aquests. Si un servidor <acronym title="Domain Name System">DNS</acronym> no pot resoldre o esbrinar quina és l’adreça IP que correspon a un nom concret, li passa la consulta a un altre servidor <acronym title="Domain Name System">DNS</acronym> de nivell superior. Aquest procés continua fins a trobar un servidor <acronym title="Domain Name System">DNS</acronym> que conegui l’adreça IP associada al nom de domini especificat (<span class="figref"><a href="#Figure49"><span>figura</span></a></span>).
</p>
<div class="iocfigure"><a name="Figure49"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Procés de resolució de noms de domini

</figcaption><img src="../media/ic10m5u3_54.png" alt="" /></figure>
</div>
<p>
<strong>3. Espai de noms de domini</strong>. Aquest concepte fa referència a la base de dades que conté totes les adreces IP d’Internet (adreces IP públiques) i els noms de domini corresponents. Cal notar que aquesta base de dades no està emmagatzemada en cap servidor concret, sinó que està distribuïda entre molts servidors diferents a Internet.
</p>

<p>
Qualsevol <em>host</em> que s’hagi de comunicar amb altres <em>hosts</em> via Internet ha de tenir un servidor <acronym title="Domain Name System">DNS</acronym> assignat. De fet, és freqüent trobar que un <em>host</em> té assignats dos servidors <acronym title="Domain Name System">DNS</acronym>, un <acronym title="Domain Name System">DNS</acronym> primari i un <acronym title="Domain Name System">DNS</acronym> secundari, de manera que si el servidor <acronym title="Domain Name System">DNS</acronym> primari falla el <em>host</em> pugui recórrer al secundari. Les adreces IP dels servidors <acronym title="Domain Name System">DNS</acronym> (primari i secundari) es poden configurar manualment o bé de manera automàtica mitjançant el servei DHCP.
</p>

</div>

<h3><a id="ddns_dynamic_dns" >DDNS (dynamic DNS)</a></h3>
<div class="level3">

<p>
<acronym title="Domain Name System">DNS</acronym> proporciona una manera ràpida i fiable de trobar l’adreça IP pública associada a un determinat nom de domini sempre que l’adreça IP d’aquest domini sigui estàtica, és a dir, no canviï de manera freqüent amb el temps. Actualment, però, molts usuaris d’Internet disposen d’adreces IP dinàmiques, és a dir, les adreces IP públiques que tenen assignades van canviant amb el temps de manera periòdica. Això no representa cap problema si l’usuari es limita a rebre i enviar missatges de correu electrònic o a navegar per Internet, però sí pot ser un problema si l’usuari vol instal·lar-se un servidor que sigui accessible des d’Internet (per exemple, un servidor HTTP de pàgines web o un servidor <acronym title="File Transfer Protocol">FTP</acronym>).
</p>

<p>
Una possible solució a aquest problema és utilitzar <strong>DDNS (</strong>dynamic <acronym title="Domain Name System">DNS</acronym><strong>)</strong>, que consisteix a instal·lar al <em>host</em> de l’usuari un petit programa que detecta els canvis en l’adreça IP del <em>host</em> i els notifica automàticament a un proveïdor de serveis d’Internet prèviament escollit, el qual s’encarrega d’actualitzar la informació a tots els servidors <acronym title="Domain Name System">DNS</acronym> d’Internet en qüestió de minuts.
</p>

</div>

<h3><a id="servidors_d_impressio_i_zeroconf" >Servidors d&#039;impressió i zeroconf</a></h3>
<div class="level3">

<p>
Els servidors d’impressió proporcionen la possibilitat de compartir impressores entre múltiples clients d’una xarxa.
</p>

<p>

</p>

<p>
Ja siguin servidors dedicats en exclusiva a oferir el servei d’impressió o bé estacions de treball que a més es fan servir per oferir l’accés a una impressora connectada a aquestes estacions, els servidors d’impressió solen tenir instal·lat un programari especial (o, si més no, un sistema operatiu de xarxa) que els permet gestionar les peticions d’ús dels serveis d’impressió per part dels diferents clients. Quan un servidor d’impressió rep una petició d’un client, passa la petició a la impressora si aquesta està lliure; si no ho està, o bé guarda la petició en un <em>buffer</em> o bé la guarda en un disc dur fins que la impressora queda lliure (aquest procés s’anomena gestió de cues o <em>spooling</em>).
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
<strong>Zeroconf (<em>zero configuration</em>)</strong> és un conjunt de protocols dissenyats per simplificar la configuració de nodes en una xarxa TCP/IP. Zeroconf assigna a cada node una adreça IP, és capaç de resoldre o esbrinar l’adreça IP associada a un nom de domini sense fer ús de servidors <acronym title="Domain Name System">DNS</acronym>, i permet descobrir serveis disponibles a la xarxa (serveis d’impressió, etc.).
</p>
</div></div>
<p>
Zeroconf permet la comunicació entre dos <em>hosts</em> directament connectats sense haver de configurar manualment les respectives adreces IP ni haver d’utilitzar servidors DHCP ni servidors <acronym title="Domain Name System">DNS</acronym>. Per fer això, Zeroconf fa ús del protocol <strong>IPv4LL</strong> (<em>IP version 4 link local</em>), que assigna de manera automàtica adreces IP privades en el rang 169.254.1.0 a 169.254.254.255.
</p>

<p>
IPv4LL és especialment útil amb impressores de xarxa: moltes impressores no disposen d’interfícies que permetin a l’administrador de la xarxa configurar fàcilment els seus paràmetres TCP/IP; per contra, si aquestes impressores suporten Zeroconf i IPv4LL, es poden connectar directament a la xarxa sense necessitat de fer cap mena de configuració addicional.
</p>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">Zeroconf davant NetBIOS</p>
<p>
Abans de l’aparició de Zeroconf, la comunicació entre <em>hosts</em> directament connectats era possible quan totes dues eren màquines amb el mateix sistema operatiu (per exemple Windows amb protocol NetBIOS o Macintosh amb protocol AppleTalk), però no quan eren màquines amb diferents sistemes operatius.
</p>
</div></div>
</div>

<h2><a id="altres_protocols_i_serveissmtp_pop_telnet_ftp_http_ntp_etc" >Altres protocols i serveis: SMTP, POP, Telnet, FTP, HTTP, NTP, etc</a></h2>
<div class="level2">

<p>
Els protocols de les capes superiors controlen el procés de donar format als paquets de dades d’acord amb les demandes dels usuaris. A continuació es presenten alguns d’aquests protocols:
</p>
<ul>
<li class="level1"><div class="li"> <strong><acronym title="File Transfer Protocol">FTP</acronym> (<em> file transfer protocol</em>)</strong>. <acronym title="File Transfer Protocol">FTP</acronym> permet als clients pujar i baixar fitxers a un servidor i d’un servidor que estigui executant un servei <acronym title="File Transfer Protocol">FTP</acronym>. Aquest tipus de servei no depèn de cap sistema operatiu concret, motiu pel qual qualsevol client pot fer ús d’aquest protocol amb independència de quin sistema operatiu faci servir. Això converteix <acronym title="File Transfer Protocol">FTP</acronym> en un servei que permet compartir fàcilment la informació entre clients de diferents plataformes. <acronym title="File Transfer Protocol">FTP</acronym> fa ús de TCP per a les comunicacions entre clients i servidors, i utilitza paquets ACK (d’acusament de rebuda) durant la transferència.</div>
</li>
</ul>
<div class="iocimportant"><div class="ioccontent">
<p>
La pila de protocols TCP/IP inclou una utilitat <acronym title="File Transfer Protocol">FTP</acronym> que permet, sense necessitat d’instal·lar cap programa addicional, fer ús del servei <acronym title="File Transfer Protocol">FTP</acronym> mitjançant la línia d’ordres. Per defecte, el servidor <acronym title="File Transfer Protocol">FTP</acronym> utilitza el port 20 per a les connexions, mentre que els clients fan ús del port 21.
</p>
</div></div><ul>
<li class="level1"><div class="li"> <strong>TFTP</strong> <strong>(<em>trivial file transfer protocol</em>)</strong>. TFTP s’utilitza quan la transferència d’un fitxer no requereix l’ús de paquets ACK. Aquest protocol es fa servir habitualment durant la configuració d’encaminadors. Pel que fa al seu funcionament, és semblant a <acronym title="File Transfer Protocol">FTP</acronym>, i les diferències més importants entre tots dos són la velocitat (TFTP és més ràpid atès que no requereix paquets ACK) i l’autenticació (TFTP no proporciona autenticació d’usuari). A més, TFTP només suporta transferència de dades unidireccional (a diferència d’<acronym title="File Transfer Protocol">FTP</acronym>, que permet la transferència en les dues direccions alhora). Per defecte, el servei TFTP opera a través del port 69.</div>
</li>
<li class="level1"><div class="li"> <strong>HTTP (<em>hypertext transfer protocol</em>)</strong>. El protocol HTTP és el que gestiona la major part del trànsit que actualment circula per Internet. Quan un usuari sol·licita un recurs web, aquesta sol·licitud es fa mitjançant HTTP. Així, per exemple, quan s’escriu en un navegador l’adreça <a href="http://www.ioc.cat" class="urlextern" title="http://www.ioc.cat"  rel="nofollow">http://www.ioc.cat</a>, es fa una crida al servei <acronym title="Domain Name System">DNS</acronym> perquè resolgui el nom de domini en una adreça IP. Quan aquesta adreça IP és resolta, s’envia una sol·licitud <em>get</em> al servidor web, el qual retorna una resposta <em>send</em> (totes dues són operacions del protocol HTTP). Aquest tipus de comunicació es produeix diversos cops durant una mateixa sessió en un lloc web. HTTP també fa ús del protocol TCP i opera, per defecte, en el port 80.</div>
</li>
<li class="level1"><div class="li"> <strong>HTTPS (<em>hypertext transfer protocol secure</em>)</strong>. HTTPS s’utilitza per fer transaccions (de dades) segures via web. HTTPS utilitza una tecnologia basada en certificats digitals amb la finalitat de garantir una autenticació mútua entre el client i el servidor que participen de la transacció. A més, HTTPS encripta tots els paquets de dades enviats durant la sessió, la qual cosa garanteix la confidencialitat de les dades. Per poder utilitzar HTTPS, un lloc web ha d’adquirir un certificat digital d’un proveïdor d’aquest tipus de serveis. HTTPS també utilitza TCP i, per defecte, opera en el port 443.</div>
</li>
<li class="level1"><div class="li"> <strong>POP3 (<em>post office protocol v3</em>)</strong>.POP3 és un servei de recepció de correu electrònic que proporciona a l’usuari accés a la seva carpeta <em>Inbox</em> d’entrada de missatges electrònics. POP3 s’encarrega de contactar amb el servidor de correu i de sol·licitar-li els nous missatges destinats al compte de l’usuari. Per tant, POP3 només presta serveis de recepció de missatges electrònics (no gestiona l’enviament de missatges). POP3 utilitza TCP i opera, per defecte, en el port 110.</div>
</li>
<li class="level1"><div class="li"> <strong>SPOP3 (<em>secure post office protocol v3</em>)</strong>. SPOP3 permet l’accés dels usuaris a la seva <em>Inbox</em> de correu electrònic mitjançant una connexió segura. SPOP3 es basa en l’ús de certificats digitals i en l’encriptació de les dades durant la sessió. SPOP3 fa ús del protocol TCP i, per defecte, opera en el port 995.</div>
</li>
<li class="level1"><div class="li"> <strong>IMAP (<em>Internet message access prococol</em>)</strong>. IMAP permet a un client de correu electrònic accedir a altres carpetes més enllà de la carpeta <em>Inbox</em> de correu entrant. Així, IMAP gestiona l’accés a les carpetes de missatges electrònics esborrats, missatges enviats, contactes, etc. Malgrat tot, tant IMAP com POP3 són serveis de recepció de correu electrònic (no gestionen enviament de correu electrònic). IMAP també utilitza TCP i, per defecte, fa ús del port 143.</div>
</li>
<li class="level1"><div class="li"> <strong>SIMAP (<em>secure Internet message access protocol</em>)</strong>. De manera anàloga a allò que passava amb SPOP3, SIMAP proporciona seguretat en la transmissió de missatges electrònics mitjançant l’ús de certificats digitals i de tècniques d’encriptació. SIMAP fa ús del protocol TCP i, per defecte, opera sobre el port 993.</div>
</li>
<li class="level1"><div class="li"> <strong>SMTP (<em>simple mail transport protocol</em>)</strong>. Els serveis POP3, SPOP3, IMAP i SIMAP només gestionen la recepció de correu electrònic. Per gestionar l’enviament de missatges es fa ús del protocol SMTP. Els missatges són enviats des d’un servidor SMTP a un altre servidor SMTP. Per poder fer aquesta operació, cada servidor SMTP fa ús del servei <acronym title="Domain Name System">DNS</acronym>. SMTP utilitza TCP i, per defecte, opera sobre el port 25.</div>
</li>
<li class="level1"><div class="li"> <strong>TELNET (<em>terminal emulation</em>)</strong>. Una aplicació Telnet fa ús del protocol TELNET per connectar un client a un servidor remot. El protocol TELNET proporciona comunicació bidireccional entre clients i servidors. Aquest protocol s’utilitza especialment en tasques d’administració remota d’un servidor mitjançant una consola d’ordres (aplicació Telnet) que s’està operant des del client. TELNET s’utilitza freqüentment per verificar el funcionament correcte de serveis remots (com ara SMTP, POP3 o IMAP) i per obrir ports en el servidor remot. Aquest protocol fa ús de TCP i, per defecte, opera sobre el port 23.</div>
</li>
<li class="level1"><div class="li"> <strong>NNTP</strong> <strong>(<em>network news transfer protocol</em>)</strong>. NNTP és un protocol que millora l’antic BBS (<em>bulletin board system</em>) per a la transferència d’informació entre clients mitjançant l’accés a grups de notícies o <em>newsgroups</em>, els quals contenen informació classificada per tòpics d’interès. NNTP utilitza el protocol TCP i, per defecte, opera sobre el port 119.</div>
</li>
<li class="level1"><div class="li"> <strong>NTP (<em>network time protocol</em>)</strong>. NTP s’utilitza per sincronitzar rellotges entre diferents ordinadors d’una xarxa. Aquest protocol, encara que molt simple, té la seva importància, ja que molts paquets tenen un temps de vida predeterminat que s’ha d’actualitzar constantment, per la qual cosa resulta fonamental que els diferents <em>hosts</em> per on el paquet passa estiguin sincronitzats. NTP fa ús del protocol UDP i, per defecte, opera sobre el port 123.</div>
</li>
<li class="level1"><div class="li"> <strong>SNMP (<em>simple network management protocol</em>)</strong>. SNMP és un protocol de gestió de xarxa que consisteix en dos components: l’agent SNMP (part client) i la consola de gestió SNMP (part servidor). La consola de gestió envia ordres get als agents SNMP per sol·licitar-los informació sobre la configuració de la xarxa, l’ús dels recursos, la configuració DHCP, la configuració <acronym title="Domain Name System">DNS</acronym>, la configuració WINS, la configuració de dispositius, els missatges d’error que s’han produït, etc. Per la seva banda, els agents SNMP responen a la petició mitjançant un missatge trap. Per motius de seguretat, els agents SNMP només contesten les peticions d’aquelles consoles de gestió que reconeixen com a membres de la mateixa xarxa. SNMP és un protocol que s’ha implementat en eines propietàries distintes. Així, per exemple, Hewlett Packard proporciona l’eina HP Open View, mentre que Microsoft proporciona l’eina SNMP Server. SNMP utilitza el protocol UDP per demanar la informació i, per defecte, opera sobre els ports 161 i 162.</div>
</li>
</ul>

</div>

<h2><a id="servidors_intermediaris" >Servidors intermediaris</a></h2>
<div class="level2">
<div class="iocimportant"><div class="ioccontent">
<p>
Un <strong>servidor intermediari o <em>proxy</em></strong> proporciona múltiples avantatges a l’hora de connectar una xarxa d’àrea local a Internet. D’una banda, l’intermediari pot fer les tasques d’un tallafocs (<em>firewall</em>), filtrant el trànsit que entra i surt de la xarxa local i augmentant, d’aquesta manera, la seguretat. D’altra banda, el servidor intermediari també pot proporcionar serveis de cau, la qual cosa permet incrementar el rendiment de la xarxa.
</p>
</div></div><div class="iocfigure"><a name="Figure50"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

El servidor intermediari permet filtrar el trànsit des d’Internet i cap a Internet

</figcaption><img src="../media/ic10m5u3_55.png" alt="" /></figure>
</div>
<p>
En efecte, els servidors intermediaris poden inspeccionar tot el trànsit d’entrada i sortida de la xarxa (des d’Internet i cap a Internet) i determinar si alguna transmissió ha de ser filtrada o s’ha de restringir (<span class="figref"><a href="#Figure50"><span>figura</span></a></span>). Atès que el servidor intermediari filtra les dades en els dos sentits (entrada i sortida), pot evitar l’accés des de la xarxa local a determinades pàgines web i també restringir l’accés no autoritzat d’usuaris externs a recursos o serveis de la xarxa local. Una funció addicional del servidors intermediaris és la d’emmascarar l’adreça IP dels <em>hosts</em> de la xarxa local, de manera que aquesta no sigui visible des d’Internet. Els servidors intermediaris poden ser servidors maquinari dedicats o simplement programari que s’està executant en una estació de treball.
</p>

<p>
Una altra aplicació habitual dels servidors intermediaris-cau és la seva capacitat per emmagatzemar la informació que és demanada amb més assiduïtat. És freqüent que els diferents usuaris d’una mateixa xarxa local consultin les mateixes pàgines web. Quan una persona requereix una pàgina web concreta, l’intermediari connecta amb el lloc, descarrega la pàgina i la desa en memòria. Quan una segona persona torna a demanar la mateixa pàgina, l’intermediari li envia la que ha emmagatzemat en cau, i elimina així la necessitat de fer la sol·licitud a Internet, la qual cosa estalvia temps i trànsit de paquets a Internet. Algunes etiquetes <em>http</em> poden informar el servidor intermediari que certes pàgines o certs continguts són dinàmics (canvien sovint), informació que fa servir l’intermediari per incrementar la freqüència en què actualitza la versió d’aquests continguts en la seva memòria cau.
</p>
<div class="iocnote"><div class="ioccontent">
<p>
Un dels servidors <em>proxy</em> més populars i més utilitzats és Squid.
</p>
</div></div>
</div>

<h2><a id="utilitats_tcp_ip" >Utilitats TCP/IP</a></h2>
<div class="level2">

<p>
En les xarxes on es fa servir el protocol TCP/IP, es pot fer ús d’un conjunt d’utilitats (petites aplicacions) que ajuden a identificar possibles problemes de funcionament o rendiment de la xarxa (dispositius de xarxa que no responen a les peticions, formació de colls d’ampolla en la xarxa, etc.). Entre les utilitats més destacades en entorns Windows (moltes d’elles també estan disponibles en entorns Unix/Linux), trobem les següents: Ping, Tracert, Arp, Netstat, Ipconfig/Ifconfig i Nslookup. A continuació es descriu breument cadascuna d’aquestes utilitats:
</p>
<ul>
<li class="level1"><div class="li"> <strong>Ping</strong>: l’ordre <em>ping</em> es pot fer servir per comprovar la connectivitat entre el nostre <em>host</em> i un determinat <em>host</em> remot. En executar des d’un <em>host</em> A l’ordre <em>ping <strong>&lt;</strong> adreça IP o nom d’un host B <strong>&gt;</strong></em> s’envien un conjunt de paquets de 32 bytes cadascun. Si els paquets arriben a la seva destinació (<em>host</em> B), llavors tots dos <em>hosts</em> es poden comunicar entre ells; en cas contrari (si els paquets enviats es perden pel camí), no hi ha connectivitat entre els <em>hosts</em>. Ping utilitza el protocol ICMP. Per comprovar si la targeta de xarxa del nostre propi <em>host</em> és operativa i té configurada la pila TCP/IP es pot fer un <em>ping 127.0.0.1</em> o, equivalentment, <em>ping localhost</em>.</div>
</li>
</ul>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">Opcions de Ping</p>
<p>
Ping ofereix tota una sèrie d’opcions addicionals que permeten introduir algunes variants interessants. En la consola d’ordres de Linux, aquestes opcions es poden consultar fent un <em>man ping</em>. A Ms Windows es consulten amb <em>ping /?</em>.
</p>
</div></div><pre class="code">
     ioc@ioc-laptop:/# ping -c 5 localhost
     
     PING localhost (127.0.0.1) 56(84) bytes of data.
     64 bytes from localhost (127.0.0.1): icmp_seq=1 ttl=64 time=0.068 ms
     64 bytes from localhost (127.0.0.1): icmp_seq=2 ttl=64 time=0.057 ms
     64 bytes from localhost (127.0.0.1): icmp_seq=3 ttl=64 time=0.062 ms
     64 bytes from localhost (127.0.0.1): icmp_seq=4 ttl=64 time=0.060 ms
     64 bytes from localhost (127.0.0.1): icmp_seq=5 ttl=64 time=0.066 ms
     
     --- localhost ping statistics ---
     5 packets transmitted, 5 received, 0% packet loss, time 4009ms
     rtt min/avg/max/mdev = 0.057/0.062/0.068/0.009 ms
</pre>
<ul>
<li class="level1"><div class="li"> <strong>Traceroute (GNU/Linux) /Tracert (Windows)</strong>: aquesta utilitat permet veure la ruta que segueix un paquet fins a arribar a la seva destinació, és a dir: mostra l’adreça de cadascuna de les interfícies dels encaminadors pels quals passa el paquet TCP/IP. L’ordre que cal fer servir és <em>traceroute <strong>&lt;</strong> adreça IP o nom <acronym title="Domain Name System">DNS</acronym> del host destinació <strong>&gt;</strong></em> (tracert en Windows). Aquesta ordre permet detectar l’existència de colls d’ampolla en una xarxa i identifica l’origen d’aquest problema. La primera columna de la sortida (<em>output</em>) resultant indica el nombre de salt, la segona mostra el nom o l’adreça IP del <em>host</em> corresponent i les tres columnes següents indiquen els temps associats a tres intents d’arribar fins al proper encaminador.</div>
</li>
</ul>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">Opcions de Tracert/Traceroute</p>
<p>
Tracert ofereix tota una sèrie d’opcions addicionals. En la consola d’ordres aquestes opcions es poden consultar fent un <em>man traceroute</em> a Linux o un <em>tracert /?</em> a Windows.
</p>
</div></div><pre class="code">  ioc@ioc-laptop:/# traceroute www.google.com
  
  traceroute to www.google.com (74.125.230.82), 30 hops max, 60 byte packets
   1  192.168.1.1 (192.168.1.1)  1.420 ms  5.337 ms  6.288 ms
   2  192.168.153.1 (192.168.153.1)  45.247 ms  47.201 ms  49.165 ms
   3  145.Red-80-58-117.staticIP.rima-tde.net (80.58.117.145)  51.126 ms  
  53.087 ms  55.045 ms
   4  So2-0-0-0-grtbcntb1.red.telefonica-wholesale.net (84.16.6.65)  56.985 ms  
  58.918 ms  60.879 ms
   5  Xe1-0-0-0-grtpartv2.red.telefonica-wholesale.net (84.16.13.134)  96.820 ms 
  So7-1-0-0-grtbcnes1.red.telefonica-wholesale.net (84.16.12.57)  64.800 ms 
  So4-0-0-0-grtbcnes1.red.telefonica wholesale.net.12.16.84.in-addr.arpa 
  (84.16.12.201)  67.757 ms
   6  Xe9-3-0-0-grtpartv1.red.telefonica-wholesale.net (213.140.49.153)  
  86.708 ms  58.744 ms Xe0-3-0-0-grtpartv1.red.telefonica-wholesale.net 
  (84.16.12.213)  66.798 ms
   7  GOOGLE-xe-9-0-0-0-grtpartv1.red.telefonica-wholesale.net (84.16.6.106)  
  84.733 ms GOOGLE-xe-3-1-0-0-grtpartv1.red.telefonica-wholesale.net (84.16.6.98)  
  86.714 ms GOOGLE-xe-9-0-0-0-grtpartv1.red.telefonica-wholesale.net (84.16.6.106)
  84.633 ms
   8  209.85.250.142 (209.85.250.142)  92.616 ms  98.570 ms  94.532 ms
   9  64.233.175.115 (64.233.175.115)  86.546 ms  86.460 ms  86.456 ms
  10  74.125.230.82 (74.125.230.82)  101.377 ms  98.354 ms  100.301 ms
  ioc@ioc-laptop:/#</pre>
<ul>
<li class="level1"><div class="li"> <strong>Arp:</strong> cada <em>host</em> que utilitza TCP/IP manté una taula ARP en la qual enregistra adreces IP i les corresponents adreces MAC associades. L’ordre <em>arp</em> permet visualitzar aquesta taula (adreces estàtiques i dinàmiques) i també afegir-hi entrades noves (adreces estàtiques). Els registres de la taula ARP tenen un temps de vida màxim (<em>time to live</em> o TTL) i, quan aquest expira, l’entrada corresponent és esborrada de la taula. </div>
</li>
</ul>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">Opcions d&#039;Arp</p>
<p>
Arp ofereix tota una sèrie d’opcions addicionals. A la consola d’ordres aquestes opcions es poden consultar fent un <em>man arp</em> a Linux o <em>arp /?</em> a Windows.
</p>
</div></div><ul>
<li class="level1"><div class="li"> <strong>Ipconfig/Ifconfig:</strong> aquesta utilitat permet veure la configuració TCP/IP (adreça IP del <em>host</em>, màscara de subxarxa, adreça IP del <em>gateway</em>, servidor DHCP, servidor <acronym title="Domain Name System">DNS</acronym>, etc.) associada a cadascuna de les targetes del xarxa del <em>host</em>. L’ordre en sistemes Windows és <em>ipconfig</em>. En el cas de sistemes Unix/Linux, l’ordre és <em>ifconfig</em> (<span class="figref"><a href="#Figure51"><span>figura</span></a></span>).</div>
</li>
</ul>
<div class="iocfigure"><a name="Figure51"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Ús de l’ordre ipconfig

</figcaption><img src="../media/ic10m5u3_56.png" alt="" /></figure>
</div><ul>
<li class="level1"><div class="li"> <strong>Netstat:</strong> aquesta utilitat permet veure les connexions TCP/IP establertes i algunes estadístiques associades. L’ordre que s’ha de fer servir és <em>netstat</em>. La primera columna de la sortida (<em>protocol</em>) resultant indica el protocol utilitzat, la segona i tercera indiquen paquets enviat i rebuts, la quart columna indica el nom i port local, la cinquena columna indica el nom i port de destinació; finalment, la sisena columna indica l’estat de la connexió.</div>
</li>
</ul>
<div class="iocnote"><div class="ioccontent">
<p>
Les diferents opcions d’Ipconfig es poden consultar fent un <em>man ifconfig</em> o <em>ipconfig -?</em> en la consola de windows.
</p>
</div></div><div class="ioctext"><div class="ioccontent"><p class="ioctitle">Opcions de Netstat</p>
<p>
<em>Netstat</em> ofereix tota una sèrie d’opcions addicionals. En la consola d’ordres aquestes opcions es poden consultar fent un <em>man netstat</em> a Linux o un <em>netstat /?</em> a Windows.
</p>
</div></div><pre class="code">  ioc@ioc-laptop:/# netstat                                                     
  Conexiones activas de Internet (servidores w/o)
    
  Protocolo Recv-Q Send-Q Dirección Local    Dirección Externa       Estado               
  tcp       38      0    ioc-laptop.lo:50551 www.dropbox.com:https   CLOSE_WAIT
  tcp       38      0    ioc-laptop.lo:51841 174.36.30.90-stat:https CLOSE_WAIT
  tcp        0      0    ioc-laptop.lo:57128 wy-in-f17.1e100.n:https ESTABLECIDO
  tcp       38      0    ioc-laptop.lo:45816 75.126.115.38-sta:https CLOSE_WAIT
  tcp        0      0    ioc-laptop.lo:60411 208.43.202.47-stati:www ESTABLECIDO
  udp      320      0    ioc-laptop.lo:39074 72.21.194.1:33486       ESTABLECIDO
  udp      320      0    ioc-laptop.lo:49831 72.21.194.1:33488       ESTABLECIDO
  udp        0      0    ioc-laptop.lo:52658 72.21.214.128:33491     ESTABLECIDO
  udp        0      0    ioc-laptop.lo:56506 72.21.194.1:33491       ESTABLECIDO
  udp        0      0    ioc-laptop.lo:33483 72.21.214.128:33492     ESTABLECIDO
  udp      320      0    ioc-laptop.lo:46812 72.21.194.1:33487       ESTABLECIDO
  udp      320      0    ioc-laptop.lo:57573 72.21.194.1:33490       ESTABLECIDO
  udp      320      0    ioc-laptop.lo:45189 72.21.194.1:33489       ESTABLECIDO
  udp      416      0    ioc-laptop.lo:52998 72.21.194.1:33484       ESTABLECIDO
  udp      384      0    ioc-laptop.lo:35086 250.Red-80-58-61:domain ESTABLECIDO
  udp      320      0    ioc-laptop.lo:43278 72.21.194.1:33485       ESTABLECIDO</pre>
<ul>
<li class="level1"><div class="li"> <strong>Nslookup:</strong> aquesta utilitat permet demanar a un servidor <acronym title="Domain Name System">DNS</acronym> per l’adreça IP d’un <em>host</em> del qual es coneix el nom de domini, o bé a l’inrevés, demanar a un servidor <acronym title="Domain Name System">DNS</acronym> el nom de domini associat a una adreça IP coneguda.</div>
</li>
</ul>
<pre class="code">
  ioc@ioc-laptop:/# nslookup www.google.com
  Server:         80.58.61.250
  Address:        80.58.61.250#53
  
  Non-authoritative answer:
  www.google.com  canonical name = www.l.google.com.
  Name:   www.l.google.com
  Address: 74.125.230.83
  Name:   www.l.google.com
  Address: 74.125.230.82
  Name:   www.l.google.com
  Address: 74.125.230.81
  Name:   www.l.google.com
  Address: 74.125.230.80
  Name:   www.l.google.com
  Address: 74.125.230.84
  
  ioc@ioc-laptop:/# nslookup www.muchomasdeporte.com
  Server:         80.58.61.250
  Address:        80.58.61.250#53
  
  Non-authoritative answer:
  Name:   www.muchomasdeporte.com
  Address: 65.61.167.242</pre>

</div>

	 </article>
     <div class="pnpage">
      <div class="left-corner"></div>
      <div id="prevpage">Anar a la p&agrave;gina anterior:<br /><a href="../../../WebContent/u3/a5/exercicis.html">Exercicis d'autoavaluació</a></div>
      <div id="nextpage">Anar a la p&agrave;gina seg&uuml;ent:<br /><a href="../../../WebContent/u3/a6/activitats.html">Activitats</a></div>
      <div class="right-corner"></div>
     </div>
    </div>
    <footer class="footer">
      <div><small>Aquest document està subjecte a una llicència oberta de Creative Commons, es reserva el dret de reconeixement de l'autoria, d'exigir que no se'n faci cap mena d'ús comercial. Si altereu o transformeu aquesta obra, o en genereu obres derivades, només podeu distribuir l'obra generada amb una llicència idèntica a aquesta.</small></div>
    </footer>
 </div>
 <div id="back_preview" class="hidden"></div>
 <div id="preview" class="hidden">
  <div class="prevcontent"></div>
 </div>
 <div id="help-tooltips">
  <div id="help-toc" class="hidden tooltip"><span>Taula de continguts:</span> Ofereix una vista general de l&#39;estructura del m&ograve;dul, que us facilitar&agrave; la navegaci&oacute; a trav&eacute;s dels seus continguts.<span class="arrow-left"></span></div> 
  <div id="help-settings" class="hidden tooltip"><span>Opcions de format:</span> Permet configurar el format de lectura a partir de les vostres prefer&egrave;ncies, modificant la mida de la lletra, el color del fons, l&#39;amplada de la p&agrave;gina o l&#39;ocultaci&oacute; dels continguts complementaris, entre d&#39;altres.<span class="arrow-left"></span></div>
  <div id="help-printer" class="hidden tooltip"><span>Imprimir:</span>  Envia el contingut seleccionat a la impressora.<span class="arrow-left"></span></div>
  <div id="help-favorites" class="hidden tooltip"><span>Prefereits:</span> Permet desar aquelles parts del contingut a les que us interessi accedir en un moment posterior; us permetr&agrave; anar creant un repositori personalitzat de les seccions que considereu m&eacute;s rellevants. Un cop l&#39;hageu començat a fer servir se us mostrar&agrave; a sota un comptador que us informar&agrave; del nombre de preferits que s&#39;hagin emmagatzemat fins al moment.<span class="arrow-left"></span></div>
  <div id="help-favcounter" class="hidden tooltip"><span>Comptador i llistat de preferits:</span> Indica el nombre de preferits que s&#39;han desat fins el moment; clicant damunt seu accedireu al llistat de preferits, i a trav&eacute;s d&#39;aquest podreu accedir directament als continguts que hageu emmagatzemat.<span class="arrow-left"></span></div>
  <div id="help-help_icon" class="hidden tooltip"><span>Ajuda:</span> Aquesta opci&oacute; activa la informaci&oacute; de les funcionalitats del web tot situant el punter del ratol&iacute; al damunt dels diferents &iacute;tems.<span class="arrow-left"></span></div>
  <div id="help-sidebar-hide" class="hidden tooltip"><span>Mostrar/Ocultar barra lateral:</span>  Deshabilita la barra d&#39;opcions, permetent la seva recuperaci&oacute; quan es desitgi.<span class="arrow-left"></span></div>
  <div id="help-search" class="hidden tooltip"><span>Cerca:</span>  Introdu&iuml;u les paraules clau sobre aquells conceptes que desitgeu localitzar en els continguts del m&ograve;dul. Tamb&eacute; podeu excloure un terme de la cerca tot afegint-hi el signe &#8220;-&#8221; al davant.<span class="arrow-top"></span></div>
  <div id="help-header" class="hidden tooltip"><span>Cap&ccedil;alera:</span>  Indica l&#39;apartat o secci&oacute; que es mostra en pantalla. Tingueu present que les capçaleres de segon, tercer i quart nivell tamb&eacute; es poden desar com a marcadors.<span class="arrow-left"></span></div>
</div> 
</body>
</html>
