<!doctype html>

<!--[if lt IE 7 ]> <html class="ie ie6 no-js" lang="ca"> <![endif]-->
<!--[if IE 7 ]>    <html class="ie ie7 no-js" lang="ca"> <![endif]-->
<!--[if IE 8 ]>    <html class="ie ie8 no-js" lang="ca"> <![endif]-->
<!--[if IE 9 ]>    <html class="ie ie9 no-js" lang="ca"> <![endif]-->
<!--[if gt IE 9]><!--><html class="no-js" lang="ca"><!--<![endif]-->
<!-- the "no-js" class is for Modernizr. -->

<head id="www-sitename-com" data-template-set="html5-reset">

	<meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html">
        
	<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
	<title>Serveis de xarxa</title>
	
<!-- <meta name="title" content=""> --> 
	<meta name="description" content="">
	<!-- Google will often use this as its description of your page/site. Make it good. -->
	
	<meta name="google-site-verification" content="">
	<!-- Speaking of Google, don't forget to set your site up: http://google.com/webmasters -->
	
	<meta name="author" content="Institut Obert de Catalunya">
	<meta name="Copyright" content="Copyright Institut Obert de Catalunya 2011. All Rights Reserved.">

	<!-- Dublin Core Metadata : http://dublincore.org/ -->
	<meta name="DC.title" content="Serveis de xarxa">
	<meta name="DC.subject" content="Informàtica i comunicacions">
	<meta name="DC.creator" content="Institut Obert de Catalunya">
	
	<!--  Mobile Viewport Fix
	j.mp/mobileviewport & davidbcalhoun.com/2010/viewport-metatag 
	device-width : Occupy full width of the screen in its current orientation
	initial-scale = 1.0 retains dimensions instead of zooming out if page height > device height
	maximum-scale = 1.0 retains dimensions instead of zooming in if page width < device width
	-->
	<!-- Uncomment to use � use thoughtfully!
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
	-->

	<link rel="shortcut icon" href="../../../img/favicon.ico">
	<!-- This is the traditional favicon.
		 - size: 16x16 or 32x32
		 - transparency is OK
		 - see wikipedia for info on browser support: http://mky.be/favicon/ -->
		 
	<link rel="apple-touch-icon" href="../../../img/apple-touch-icon.png">
	<!-- The is the icon for iOS's Web Clip.
		 - size: 57x57 for older iPhones, 72x72 for iPads, 114x114 for iPhone4's retina display (IMHO, just go ahead and use the biggest one)
		 - To prevent iOS from applying its styles to the icon name it thusly: apple-touch-icon-precomposed.png
		 - Transparency is not recommended (iOS will put a black BG behind the icon) -->
	
	<!-- CSS: screen, mobile & print are all in the same file -->
	<link rel="stylesheet" href="../../../_/css/style.css">

	<!-- CSS: jQuery UI -->
	<link rel="stylesheet" href="../../../_/css/jquery-ui.css">
	
	<!-- all our JS is at the bottom of the page, except for Modernizr. -->
	<script src="../../../_/js/modernizr-1.7.min.js"></script>
	<script src="../../../_/js/Hyphenator.js" type="text/javascript"></script>
	<script type="text/javascript">
	   Hyphenator.config({
		minwordlength : 4
	   });
	   Hyphenator.run();
	</script>
    <script src="../../../_/js/build.js" type="text/javascript"></script>
</head>

<body class="style-newspaper">

<div class="wrapper"><!-- not needed? up to you: http://camendesign.com/code/developpeurs_sans_frontieres -->

	<header id="header">
		<div class="head"><a href="http://ioc.gencat.cat"><img src="../../../img/logo.png" alt="Institut Obert de Catalunya"/></a><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/es/deed.ca"><img src="../../../img/license.png" alt="Llic&egrave;ncia" class="license"/></a></div>
		<div class="headdocument"><a href="../../../index.html">Serveis de xarxa</a></div>
        <div id="search" class="search" name="search">
         <form id="frmsearch" action="../../../search.html" method="get">
          <input type="text" name="q"/>
        </form>
        </div>
	</header>
   <div id="upbutton" class="upbutton" style="display:none;"><img src="../../../img/uparrow.png" alt="Pujar a l'inici de p&agrave;gina"/></div>
   <aside id="aside">
    <div id="menu">
      <ul>
       <li name="toc"><div><img src="../../../img/toc.png" alt="&Iacute;ndex"/></div></li>
       <li name="settings"><div><img src="../../../img/settings.png" alt="Configuraci&oacute;"/></div></li>
       <li name="printer"><div><img src="../../../img/printer.png" alt="Imprimir"/></div></li>
       <li name="favorites"><div><img src="../../../img/favorites.png" alt="Favorits"/></div></li>
       <li name="help_icon" class="help_icon"><div><img src="../../../img/help_icon.png" alt="Ajuda"/></div></li>
      </ul>
     </div>
   </aside>
   <div id="sidebar-hide" name="sidebar-hide"><img src="../../../img/arrows.png"/></div>
   <section>
     <div id="toc" class="hidden">
      <div class="menucontent">
        <ul>
        <li id="u4" class="parentnode"><p><a class="unit" href="../../../WebContent/u4/introduccio.html">4. Accés a sistemes remots</a></p><ul class="expander"><li id="u4introduccio"><a href="../../../WebContent/u4/introduccio.html">Introducció</a></li><li id="u4mapa"><a href="../../../WebContent/u4/mapa.html">Mapa conceptual</a></li><li id="u4referencies"><a href="../../../WebContent/u4/referencies.html">Més informació</a></li><li id="u4resultats"><a href="../../../WebContent/u4/resultats.html">Resultats d'aprenentatge</a></li><li id="u4resum"><a href="../../../WebContent/u4/resum.html">Resum</a></li><li id="u4a1" class="tocsection"><p id='u4a1continguts'><a class="section" href="../../../WebContent/u4/a1/continguts.html">Introducció a l'accés remot a equips</a><span class="buttonexp"></span></p><ul><li id="u4a1activitats"><a href="../../../WebContent/u4/a1/activitats.html">Activitats</a></li><li id="u4a1exercicis"><a href="../../../WebContent/u4/a1/exercicis.html">Exercicis d'autoavaluació</a></li></ul></li><div data-parent-id='u4a1' class='tocssection hidden'><div class="toc"><ul><li><a href="../../../WebContent/u4/a1/continguts.html#usos_mes_frequeents_de_l_acces_remot_a_ordinadors">Usos més freqüents de l'accés remot a ordinadors</a></li><li><a href="../../../WebContent/u4/a1/continguts.html#diferents_tipus_d_acces_remot">Diferents tipus d'accés remot</a></li></ul></div></div><li id="u4a2" class="tocsection"><p id='u4a2continguts'><a class="section" href="../../../WebContent/u4/a2/continguts.html">Administració remota basada en la línea d'ordres</a><span class="buttonexp"></span></p><ul><li id="u4a2activitats"><a href="../../../WebContent/u4/a2/activitats.html">Activitats</a></li><li id="u4a2annexos"><a href="../../../WebContent/u4/a2/annexos.html">Annexos</a></li><li id="u4a2exercicis"><a href="../../../WebContent/u4/a2/exercicis.html">Exercicis d'autoavaluació</a></li></ul></li><div data-parent-id='u4a2' class='tocssection hidden'><div class="toc"><ul><li><a href="../../../WebContent/u4/a2/continguts.html#telnet">Telnet</a></li><li><a href="../../../WebContent/u4/a2/continguts.html#introduccio_a_ssh">Introducció a SSH</a></li></ul></div></div><li id="u4a3" class="tocsection"><p id='u4a3continguts'><a class="section" href="../../../WebContent/u4/a3/continguts.html">Administració remota amb interfície gràfica</a><span class="buttonexp"></span></p><ul><li id="u4a3activitats"><a href="../../../WebContent/u4/a3/activitats.html">Activitats</a></li><li id="u4a3annexos"><a href="../../../WebContent/u4/a3/annexos.html">Annexos</a></li><li id="u4a3exercicis"><a href="../../../WebContent/u4/a3/exercicis.html">Exercicis d'autoavaluació</a></li></ul></li><div data-parent-id='u4a3' class='tocssection hidden'><div class="toc"><ul><li><a href="../../../WebContent/u4/a3/continguts.html#la_transparencia_de_xarxa_del_sistema_x_window">La transparència de xarxa del sistema X Window</a></li><li><a href="../../../WebContent/u4/a3/continguts.html#vnc_virtual_network_computing">VNC Virtual Network Computing</a></li></ul></div></div><li id="u4a4" class="tocsection"><p id='u4a4continguts'><a class="section" href="../../../WebContent/u4/a4/continguts.html">Gestió remota mitjançant una aplicació local</a><span class="buttonexp"></span></p><ul><li id="u4a4activitats"><a href="../../../WebContent/u4/a4/activitats.html">Activitats</a></li><li id="u4a4exercicis"><a href="../../../WebContent/u4/a4/exercicis.html">Exercicis d'autoavaluació</a></li></ul></li><div data-parent-id='u4a4' class='tocssection hidden'><div class="toc"><ul><li><a href="../../../WebContent/u4/a4/continguts.html#introduccio_a_webmin">Introducció a Webmin</a></li></ul></div></div></ul></li><li id="" class="indexnode"><p><a href="../../../index.html">Anar a l&#39;&iacute;ndex general</a></p></li>
        </ul>
      </div>
    </div>
   </section>
   <section>
   <div id="settings" class="hidden">
    <div class="menucontent">
     <div class="allsettings">
     <div class="settings">
      <label>Font i Color</label>
		<div class="setting-option">
	        <ul class="fontBackground">
				<li id="style-newspaper" title="Newspaper" class="appearance-style-newspaper"><span>Newspaper</span></li>
                <li id="style-novel" title="Novel" class="appearance-style-novel"><span>Novel</span></li>
                <li id="style-ebook" title="eBook" class="appearance-style-ebook"><span>eBook</span></li>
				<li id="style-inverse" title="Inverse" class="appearance-style-inverse active"><span>Inverse</span></li>
				<li id="style-athelas" title="Athelas" class="appearance-style-athelas"><span>Athelas</span></li>
			</ul>
		</div>
     </div>
	<div class="settings">
      <label>Amplada</label>
		<div class="setting-option">
	        <div id="slider-width"></div>
		</div>
     </div>
     <div class="settings">
      <label>Mida de la font</label>
		<div class="setting-option">
	        <div id="slider-font"></div>
		</div>
     </div>
     <div class="settings">
      <label>Mida de la font</label>
	  <div class="setting-option">
       <form action="" class="sett-options">
		<ul>
		    <li><input type="checkbox" id="secondary-content" /><label for="secondary-content">Mostra recursos complementaris</label></li>
		    <li><input type="checkbox" id="main-images" /><label for="main-images">Mostra imatges</label></li>
		    <li><input type="checkbox" id="text-alignment" /><label for="text-alignment">Text justificat</label></li>
			<li><input type="checkbox" id="text-hyphen" /><label for="text-hyphen">Partici&oacute; sil·l&agrave;bica</label></li>
		</ul>
       </form>
	  </div>
     </div>
     </div>
    </div>
   </div>
   </section>
 <section>
 <div id="favorites" class="hidden"></div>
 </section>   
 <div id="bridge" class="hidden"></div>
 <div id="help" class="hidden">
  <div class="helptitle">Dreceres del teclat<hr></div>
  <div class="helpsection"><span>General</span>
   <ul>
    <li><span class="shortcut">g</span>: Anar al men&uacute; de navegaci&oacute;</li>
    <li><span class="shortcut">o</span>: Anar a opcions</li>
    <li><span class="shortcut">s</span>: Guardar la p&agrave;gina actual a favorits</li>
    <li><span class="shortcut">p</span>: Imprimir la p&agrave;gina actual</li>
    <li><span class="shortcut">?</span>: Mostrar/Ocultar l&#39;ajuda</li>
   </ul>
  </div>
  <div class="helpsection"><span>Navegaci&oacute;</span>
   <ul>
    <li><span class="shortcut">i</span>: Anar a l&#39;&iacute;ndex general</li>
    <li><span class="shortcut">t</span>: Anar a l&#39;inici de p&agrave;gina</li>
    <li><span class="shortcut">b</span>: Anar al final de p&agrave;gina</li>
    <li><span class="shortcut">j</span>: Anar cap endavant dintre la p&agrave;gina</li>
    <li><span class="shortcut">k</span>: Anar cap enrere dintre la p&agrave;gina</li>
    <li><span class="shortcut">h</span>: Anar a la p&agrave;gina anterior:</li>
    <li><span class="shortcut">l</span>: Anar a la p&agrave;gina seg&uuml;ent:</li>
   </ul>
   </div>
 </div>
 <div id="favcounter" name="favcounter" class="hidden"><span></span></div>
 <div id="navmenu" class="navmenu"><ul class="webnav"><li><a href="../../../index.html" title="Anar a l&#39;&iacute;ndex general">Inici</a></li><li><a href="../introduccio.html">Servidors web i intermediaris</a></li><li><a href="continguts.html">Gestió de servidors web</a></li><li>Activitats</li></ul></div>
	<div id="content" lang="ca" class="hyphenate text">
     <article lang="ca" class="sheet">
        <h1><a id="activitats"> Activitats </a></h1>
    	
<h2><a id="instal_lacio_del_servidor_web_iis_en_el_sistema_operatiu_windows" >Instal·lació del servidor web IIS en el sistema operatiu Windows</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és conèixer els serveis de programari que admeten la creació, la configuració i l’administració dels llocs web mitjançant programari de pagament.
</p>

<p>
Considerant que el sistema d’informació d’Internet (IIS, <em>Internet information server</em>) del Windows es troba disponible dins del CD de Windows (versions del 2000 i de l’XP), instal·leu el programari i definiu un o més dominis d’Internet (per exemple, <a href="http://www.catalunya.cat" class="urlextern" title="http://www.catalunya.cat"  rel="nofollow">www.catalunya.cat</a> o <a href="http://www.girona.cat" class="urlextern" title="http://www.girona.cat"  rel="nofollow">www.girona.cat</a>) perquè qualsevol usuari pugui penjar-hi tot tipus de pàgina web des de qualsevol adreça IP de classe C (per exemple).
</p>

<p>
<form action=""><div class="solution ioccontent">
<p>
La instal·lació de l’IIS és relativament senzilla perquè estarà disponible en el CD de Windows. De fet, es distribueix gratuïtament amb les versions de Windows basades en NT, com per exemple: Windows 2000 Professional o Windows 2000 Server, així com amb  Windows XP en les seves versions Professional i Server.
</p>

<p>
En primer lloc, haurem d’adreçar-nos al tauler de control, o bé, dins de les eines d’administració per accedir a l’administrador del servidor d’informació d’Internet.
</p>

<p>
<div class="imgelem">
<img src="../media/wic10_m7_uf3_u3_02.gif" alt="" /></div>

</p>

<p>
Un cop dins de la consola d’administració, podrem accedir als diferents llocs web que puguem haver definit i creat dins del nostre servidor web. De fet, cada cop que un usuari sol·liciti els noms de domini definits, accedirà a les pàgines definides dins de les carpetes. Per exemple, sempre que no es defineixi el contrari, la pàgina per defecte que es carregarà serà l’<em>index.htm</em>.
</p>

<p>
<div class="imgelem">
<img src="../media/wic10_m7_uf3_u3_03.gif" alt="" /></div>

</p>

<p>
Val a dir que sempre que creem un lloc web i, a més, vulguem que estigui accessible per Internet, haurem de fer les configuracions corresponents en el servidor de dominis de nom (<acronym title="Domain Name System">DNS</acronym>, <em>domain name server</em>), ja que permetrà definir l’equivalència corresponent entre l’adreça IP (<em>Internet protocol</em>) i el nom de domini seleccionat. En el nostre cas, treballarem amb l’exemple del nom de domini <code>www.municipi.cat<em>’’.

<div class="imgelem">
<img src="../media/wic10_m7_uf3_u3_04.gif" alt="" /></div>


Un cop ja haguem definit els principals paràmetres de la correspondència entre l’adreça IP i el nom de domini propis del servidor <acronym title="Domain Name System">DNS</acronym>, ja podrem arrencar l’assistent de creació de nous llocs web mitjançant l’accés del botó dret del ratolí picant sobre la carpeta “llocs web”.

Un cop dins, ja podrem definir el lloc web des de l’arxiu corresponent.

<div class="imgelem">
<img src="../media/wic10_m7_uf3_u3_05.gif" alt="" /></div>


En primer lloc, haurem de definir el nostre lloc web mitjançant una descripció. L’opció més habitual és utilitzar el nom de domini seleccionat.

A continuació, haurem de definir el port pel qual el nostre servidor web esperarà les peticions dels clients. En aquest cas, el port per defecte per als llocs web és el 80.

Paral·lelament, com a encapçalat de l’ordinador principal, utilitzarem el nom del domini que haguem configurat en el servidor de noms de domini.

<div class="imgelem">
<img src="../media/wic10_m7_uf3_u3_06.gif" alt="" /></div>


En el cas de la ruta d’accés, haurem de definir on s’ubicaran els arxius del lloc web. En moltes ocasions, s’opta per utilitzar el nom de domini com a nom de carpeta. A més, també disposarem de la possibilitat de facilitar l’accés al lloc web per a qualsevol usuari no identificat. La possibilitat d’accedir al lloc web per part d’usuaris anònims és el mateix Internet.

Des del punt de vista dels permisos, aquests ens permetran configurar el tipus d’accés que els usuaris i programadors tindran al nostre lloc web.

<div class="imgelem">
<img src="../media/wic10_m7_uf3_u3_07.gif" alt="" /></div>


Arribats a aquest punt, ja podrem definir les principals propietats del nostre lloc web, això és, el seu nom, el port per on el servidor esperarà les peticions dels clients, o bé l’habilitació del registre on cada petició web que el client registri quedarà emmagatzemada en la carpeta corresponent.

<div class="imgelem">
<img src="../media/wic10_m7_uf3_u3_08.gif" alt="" /></div>


Un altre factor important que haurem de tenir en compte és el rendiment donat, del qual tant podrem limitar l’ample de banda, això és, limitar el nombre de kB per segon sobre un lloc web, com el nombre d’usuaris que s’hi puguin connectar alhora.

<div class="imgelem">
<img src="../media/wic10_m7_uf3_u3_09.gif" alt="" /></div>


A l’hora de definir el directori particular des d’on es bolcaran els continguts del lloc web, haurem de configurar-ne la ubicació física mitjançant l’establiment del directori de l’equip corresponent, un recurs compartit, o bé, un redreçament a una adreça web diferent.

<div class="imgelem">
<img src="../media/wic10_m7_uf3_u3_10.gif" alt="" /></div>


Amb anterioritat hem vist que, de la consola d’administració, podíem accedir als diferents llocs web presents dins del nostre servidor web i els documents HTM continguts com, per l’exemple, l’</em>index.htm<em>. És, per tant, arribats a aquest punt, on podrem definir quins documents volem que sorgeixin quan els clients obrin el lloc web i no hagi indicat cap nom d’arxiu mitjançant l’adreça web. En moltes ocasions, la pàgina </em>index.htm<em> és la que apareix per defecte.

<div class="imgelem">
<img src="../media/wic10_m7_uf3_u3_11.gif" alt="" /></div>


Davant de la rellevància de la seguretat en els continguts de les pàgines web, no està de més establir unes mesures de seguretat per als directoris. Per exemple, l’autenticació i el control d’accés ens permetran identificar aquells usuaris que vulguin accedir a una carpeta o a tot el lloc web. Per altra banda, en cas que ho consideréssim necessari, podem restringir l’accés al lloc web segons l’adreça IP dels ordinadors client.

<div class="imgelem">
<img src="../media/wic10_m7_uf3_u3_12.gif" alt="" /></div>


Per acabar, no hem de deixar de banda la possibilitat de personalitzar els missatges d’error que veuran els usuaris.

<div class="imgelem">
<img src="../media/wic10_m7_uf3_u3_13.gif" alt="" /></div>

</p>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

<h2><a id="aplicacio_de_mesures_de_seguretat_per_a_l_acces_a_les_carpetes" >Aplicació de mesures de seguretat  per a l&#039;accés a les carpetes</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és és conèixer les principals mesures de seguretat i confidencialitat que es poden oferir i aplicar en l’entorn dels llocs web. Per aconseguir-ho, instal·larem el mòdul SSL (capa de sòcol segur o <em>secure sockets layer</em>) per a l’Apache2 amb la finalitat que el nostre servidor web pugui utilitzar el protocol de transferència d’hipertext segur (HTTPS, <em>hypertext transfer protocol secure</em>) en lloc del protocol de transferència d’hipertext (HTTP, <em>hypertext transfer protocol</em>).
</p>

<p>
Una pàgina web segura o un lloc web segur és un lloc web que utilitza el protocol de transferència d’hipertext segur (HTTPS, <em>hypertext transfer protocol secure</em>) enlloc del protocol<em> de transferència </em>d’hipertext (HTTP, <em>hypertext transfer protocol</em>).
</p>

<p>
El protocol HTTPS és idèntic al protocol HTTP, tot i que la informació transferida entre el navegador web (el client) i el servidor web viatja per la xarxa de forma xifrada mitjançant algorismes de xifrat de dades que proporciona el paquet OpenSSL.
</p>

<p>
Els algorismes de xifrat utilitzats proporcionen les eines necessàries perquè la informació que es transmet des del servidor fins al client (i en sentit contrari) estigui xifrada i, únicament, pugui ser desxifrada pel client i el servidor, respectivament. Per exemple, si un pirata informàtic fes una còpia dels paquets de dades transmesos i intentés desxifrar-los, tardaria molt de temps a trobar la via per fer-ho.
</p>

<p>
Si bé durant la transmissió, s’utilitzen algorismes de xifrat simètrics, per intercanviar les claus de xifrat, hi ha una sessió inicial de xifrat asimètric.
</p>

<p>
<form action=""><div class="solution ioccontent">
<p>
Quan instal·lem l’Apache2, també s’instal·la el mòdul SSL (<em>secure sockets layer)</em> per a l’Apache2; per tant, no serà necessari instal·lar cap paquet addicional. De fet, únicament, haurem de generar un certificat per al servidor i activar el mòdul SSL.
</p>

<p>
Amb la intenció que el nostre servidor pugui utilitzar el protocol de transferència d’hipertext segur, necessitarem que disposi d’un certificat. Aquest certificat permetrà que el nostre servidor utilitzi el xifrat asimètric per intercanviar les claus de xifrat per als clients abans d’arrencar una transmissió segura d’informació. Val a dir que, inicialment, el client haurà d’acceptar el certificat del servidor, atès que generarem un certificat autosignat. Si volem evitar-ho, hauríem de contractar un certificat a una entitat certificadora de confiança però que té un cost força elevat. Per tant, amb la intenció de generar el nostre certificat autosignat, escriurem i executarem la comanda corresponent.
</p>
<pre class="code"># make-ssl-cert /usr/share/ssl-cert/ssleay.cnf\ /etc/ssl/certs/apache2.pem</pre>

<p>
Durant l’execució de la comanda make-ssl-cert, el procés d’instal·lació ens pot sol·licitar informació tan rellevant com el nom del servidor, el país, etc. A continuació, es crearà l’arxiu <code>/etc/ssl/certs/apache.pem</code>, que conté les claus que facilitaran que el servidor utilitzi un xifrat asimètric.
</p>

<p>
Posteriorment, haurem de configurar un servidor virtual perquè utilitzi el certificat sol·licitat.
</p>

<p>
Per crear un servidor virtual segur en Apache2, haurem de crear, en primer lloc, una carpeta anomenada websegura dins de <code>/var/www</code> que esdevindrà l’arrel dels documents (DocumentRoot) del nostre servidor virtual segur perquè a tot allò que col·loquem dins d’aquesta carpeta s’haurà d’accedir mitjançant el protocol de transferència d’hipertext segur. Val a dir que, considerant que aquest protocol utilitza el port 443, haurem d’habilitar aquest port perquè l’Apache l’utilitzi. En cas que el port 443 ja estigués habilitat, no hauríem de fer res.
</p>

<p>
En cas que l’haguéssim d’habilitar, haurem d’accedir a l’arxiu /etc/apache2/ports.conf i escriure la següent línia:
</p>
<pre class="code">Listen 443</pre>

<p>
A continuació, haurem de crear el servidor virtual en el servidor web Apache. El nostre servidor virtual disposarà d’una adreça d’Internet d’accés diferent al de la nostra pàgina web principal (per exemple, websegura.llom.com) i serà accessible mitjançant el protocol de transferència d’hipertext segur, per tant, haurem d’habilitar l’SSL i indicar la ruta de l’arxiu que conté el certificat. Tot això haurem de fer-ho editant l’arxiu <code>/etc/apache2/sites-available/default</code>:
</p>
<pre class="code">// Afegir en la secció final de l&#039;arxiu /etc/apache2/sites-available/default
NameVirtualHost websegura.llom.com:443
&lt;VirtualHost websegura.llom.com:443&gt;
    ServerName websegura.llom.com 
    DocumentRoot /var/www/websegura
    SSLEngine On
    SSLCertificateFile /etc/ssl/certs/apache2.pem
    ErrorLog /var/log/apache2/error.log
    CustomLog /var/log/apache2/access.log combined
&lt;/VirtualHost&gt; 

&lt;Directory &quot;/var/www/websegura&quot;&gt;
    Options Indexes FollowSymlinks MultiViews
    AllowOverride None
    Order allow, deny
    Allow from all
    SSLRequireSSL
&lt;/Directory&gt;</pre>

<p>
Posteriorment, haurem d’habilitar el mòdul SSL del servidor Apache:
</p>
<pre class="code"># a2enmod ssl</pre>

<p>
I, a continuació, haurem d’arrencar de nou el servidor Apache:
</p>
<pre class="code"># /etc/init.d/apache2 restart</pre>

<p>
Arribats a aquest punt, ja podem provar l’accés a la pàgina web segura; ara bé, si no disposem d’un servidor de noms de domini que funcioni, haurem d’incloure dins de l’arxiu /etc/hosts una línia per resoldre localment el nom del nostre servidor per la seva adreça d’Internet IP perquè, en aquest cas, navegar amb l’adreça d’Internet no funcionarà.
</p>
<pre class="code">// Resoldre el nom localment; per aconseguir-ho, afegirem dins de /etc/hosts

192.168.1.240 websegura.llom.com</pre>

<p>
Val a dir que per accedir a les pàgines segures del nostre servidor web, ens adreçarem al navegador web, des de la barra de navegació, per escriure <code><a href="http://websegura.llom.com" class="urlextern" title="http://websegura.llom.com"  rel="nofollow">http://websegura.llom.com</a></code>. El primer que apareixerà serà l’alerta de seguretat que ens indica que el certificat no està emès per una AC, autoritat de certificació (en anglès CA  <em>certification authority</em>)  en la qual confiem:
</p>

<p>
<div class="imgelem">
<img src="../media/wic10_m7_uf3_u3_14.gif" alt="" /></div>

</p>

<p>
Arribats a aquest punt, haurem d’adreçar-nos a l’enllaç que ens apareix en l’àrea inferior de la finestra que ens ha sorgit per, un cop dins, obtenir un certificat. De fet, si polsem sobre el botó “Veure”, podrem conèixer tant la informació relacionada amb el certificat com l’entitat certificadora que el signa.
</p>

<p>
<div class="imgelem">
<img src="../media/wic10_m7_uf3_u3_15.gif" alt="" /></div>

</p>

<p>
Si acceptem el certificat, voldrà dir que, tot i que estigui signat per una entitat certificadora que és de confiança par al nostre navegador web, l’acceptem. De fet, haurem d’indicar al navegador si acceptem el certificat per a sempre, o bé, únicament, per a aquesta ocasió. En aquest cas, com que tindrem la seguretat que el certificat és bo, atès que l’hem creat nosaltres mateixos, podem acceptar-lo per a sempre.
</p>

<p>
En conseqüència, el navegador web no ens tornarà a plantejar cap altra qüestió respecte el certificat donat, ja que ja li haurem indicat manualment que confiem en aquest certificat.
</p>

<p>
Arribats a aquest punt, ja disposem d’accés a la pàgina web segura mitjançant el protocol de transferència d’hipertext segur, per tant, ja tenim garantit que la informació de la pàgina web, abans de sortir del servidor, ha estat xifrada i, alhora, la transferència de dades des del servidor al nostre navegador web s’ha produït de forma segura.
</p>

<p>
Quan les dades arriben al nostre navegador, ja s’han desxifrat. De fet, el cadenat tancat que apareix en la secció inferior dreta del navegador web indica que la transferència de dades s’ha realitzat de forma segura.
</p>

<p>
<div class="imgelem">
<img src="../media/wic10_m7_uf3_u3_16.gif" alt="" /></div>

</p>

<p>
Considerant que coneixem la ruta d’accés a la carpeta segura, en cas que intentéssim accedir a la carpeta segura utilitzant el protocol de transferència d’hipertext segur mitjançant el navegador web (introduint <a href="http://www.llom.com/websegura" class="urlextern" title="http://www.llom.com/websegura"  rel="nofollow">http://www.llom.com/websegura</a> en la barra de navegació), el servidor web Apache denegaria l’accés, atès que dins de /etc/apache2/sites-available/default s’ha especificat que la carpeta ha d’estar accessible mitjançant el protocol de transferència d’hipertext.
</p>

<p>
<div class="imgelem">
<img src="../media/wic10_m7_uf3_u3_17.gif" alt="" /></div>

</p>

<p>
Un cop haguem configurat el nostre accés segur a les carpetes, pot sorgir la necessitat que els usuaris disposin d’una carpeta web segura on poder col·locar continguts accessibles mitjançant el protocol de capa de connexió segura SSL; en aquest cas, una possible solució seria crear una carpeta dins de la carpeta /var/www/websegura perquè l’usuari pugui pujar-hi continguts mitjançant el protocol de transferència d’arxius (<acronym title="File Transfer Protocol">FTP</acronym>, <em>File transfer protocol</em>).
</p>

<p>
Paral·lelament, considerant que haguéssim creat un usuari SecureBernat amb una carpeta /var/www/websegura/bernat, l’accés als continguts des d’un navegador web seria introduint l’adreça <a href="https://websegura.llom.com/bernat" class="urlextern" title="https://websegura.llom.com/bernat"  rel="nofollow">https://websegura.llom.com/bernat</a> en la barra de navegació.
</p>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

	 </article>
     <div class="pnpage">
      <div class="left-corner"></div>
      <div id="prevpage">Anar a la p&agrave;gina anterior:<br /><a href="../../../WebContent/u3/a1/continguts.html">Gestió de servidors web</a></div>
      <div id="nextpage">Anar a la p&agrave;gina seg&uuml;ent:<br /><a href="../../../WebContent/u3/a1/exercicis.html">Exercicis d'autoavaluació</a></div>
      <div class="right-corner"></div>
     </div>
    </div>
    <footer class="footer">
      <div><small>Aquest document està subjecte a una llicència oberta de Creative Commons, es reserva el dret de reconeixement de l'autoria, d'exigir que no se'n faci cap mena d'ús comercial. Si altereu o transformeu aquesta obra, o en genereu obres derivades, només podeu distribuir l'obra generada amb una llicència idèntica a aquesta.</small></div>
    </footer>
 </div>
 <div id="back_preview" class="hidden"></div>
 <div id="preview" class="hidden">
  <div class="prevcontent"></div>
 </div>
 <div id="help-tooltips">
  <div id="help-toc" class="hidden tooltip"><span>Taula de continguts:</span> Ofereix una vista general de l&#39;estructura del m&ograve;dul, que us facilitar&agrave; la navegaci&oacute; a trav&eacute;s dels seus continguts.<span class="arrow-left"></span></div> 
  <div id="help-settings" class="hidden tooltip"><span>Opcions de format:</span> Permet configurar el format de lectura a partir de les vostres prefer&egrave;ncies, modificant la mida de la lletra, el color del fons, l&#39;amplada de la p&agrave;gina o l&#39;ocultaci&oacute; dels continguts complementaris, entre d&#39;altres.<span class="arrow-left"></span></div>
  <div id="help-printer" class="hidden tooltip"><span>Imprimir:</span>  Envia el contingut seleccionat a la impressora.<span class="arrow-left"></span></div>
  <div id="help-favorites" class="hidden tooltip"><span>Prefereits:</span> Permet desar aquelles parts del contingut a les que us interessi accedir en un moment posterior; us permetr&agrave; anar creant un repositori personalitzat de les seccions que considereu m&eacute;s rellevants. Un cop l&#39;hageu començat a fer servir se us mostrar&agrave; a sota un comptador que us informar&agrave; del nombre de preferits que s&#39;hagin emmagatzemat fins al moment.<span class="arrow-left"></span></div>
  <div id="help-favcounter" class="hidden tooltip"><span>Comptador i llistat de preferits:</span> Indica el nombre de preferits que s&#39;han desat fins el moment; clicant damunt seu accedireu al llistat de preferits, i a trav&eacute;s d&#39;aquest podreu accedir directament als continguts que hageu emmagatzemat.<span class="arrow-left"></span></div>
  <div id="help-help_icon" class="hidden tooltip"><span>Ajuda:</span> Aquesta opci&oacute; activa la informaci&oacute; de les funcionalitats del web tot situant el punter del ratol&iacute; al damunt dels diferents &iacute;tems.<span class="arrow-left"></span></div>
  <div id="help-sidebar-hide" class="hidden tooltip"><span>Mostrar/Ocultar barra lateral:</span>  Deshabilita la barra d&#39;opcions, permetent la seva recuperaci&oacute; quan es desitgi.<span class="arrow-left"></span></div>
  <div id="help-search" class="hidden tooltip"><span>Cerca:</span>  Introdu&iuml;u les paraules clau sobre aquells conceptes que desitgeu localitzar en els continguts del m&ograve;dul. Tamb&eacute; podeu excloure un terme de la cerca tot afegint-hi el signe &#8220;-&#8221; al davant.<span class="arrow-top"></span></div>
  <div id="help-header" class="hidden tooltip"><span>Cap&ccedil;alera:</span>  Indica l&#39;apartat o secci&oacute; que es mostra en pantalla. Tingueu present que les capçaleres de segon, tercer i quart nivell tamb&eacute; es poden desar com a marcadors.<span class="arrow-left"></span></div>
</div> 
</body>
</html>
