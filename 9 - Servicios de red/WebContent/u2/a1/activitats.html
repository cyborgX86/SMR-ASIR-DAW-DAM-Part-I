<!doctype html>

<!--[if lt IE 7 ]> <html class="ie ie6 no-js" lang="ca"> <![endif]-->
<!--[if IE 7 ]>    <html class="ie ie7 no-js" lang="ca"> <![endif]-->
<!--[if IE 8 ]>    <html class="ie ie8 no-js" lang="ca"> <![endif]-->
<!--[if IE 9 ]>    <html class="ie ie9 no-js" lang="ca"> <![endif]-->
<!--[if gt IE 9]><!--><html class="no-js" lang="ca"><!--<![endif]-->
<!-- the "no-js" class is for Modernizr. -->

<head id="www-sitename-com" data-template-set="html5-reset">

	<meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html">
        
	<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
	<title>Serveis de xarxa</title>
	
<!-- <meta name="title" content=""> --> 
	<meta name="description" content="">
	<!-- Google will often use this as its description of your page/site. Make it good. -->
	
	<meta name="google-site-verification" content="">
	<!-- Speaking of Google, don't forget to set your site up: http://google.com/webmasters -->
	
	<meta name="author" content="Institut Obert de Catalunya">
	<meta name="Copyright" content="Copyright Institut Obert de Catalunya 2011. All Rights Reserved.">

	<!-- Dublin Core Metadata : http://dublincore.org/ -->
	<meta name="DC.title" content="Serveis de xarxa">
	<meta name="DC.subject" content="Informàtica i comunicacions">
	<meta name="DC.creator" content="Institut Obert de Catalunya">
	
	<!--  Mobile Viewport Fix
	j.mp/mobileviewport & davidbcalhoun.com/2010/viewport-metatag 
	device-width : Occupy full width of the screen in its current orientation
	initial-scale = 1.0 retains dimensions instead of zooming out if page height > device height
	maximum-scale = 1.0 retains dimensions instead of zooming in if page width < device width
	-->
	<!-- Uncomment to use � use thoughtfully!
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
	-->

	<link rel="shortcut icon" href="../../../img/favicon.ico">
	<!-- This is the traditional favicon.
		 - size: 16x16 or 32x32
		 - transparency is OK
		 - see wikipedia for info on browser support: http://mky.be/favicon/ -->
		 
	<link rel="apple-touch-icon" href="../../../img/apple-touch-icon.png">
	<!-- The is the icon for iOS's Web Clip.
		 - size: 57x57 for older iPhones, 72x72 for iPads, 114x114 for iPhone4's retina display (IMHO, just go ahead and use the biggest one)
		 - To prevent iOS from applying its styles to the icon name it thusly: apple-touch-icon-precomposed.png
		 - Transparency is not recommended (iOS will put a black BG behind the icon) -->
	
	<!-- CSS: screen, mobile & print are all in the same file -->
	<link rel="stylesheet" href="../../../_/css/style.css">

	<!-- CSS: jQuery UI -->
	<link rel="stylesheet" href="../../../_/css/jquery-ui.css">
	
	<!-- all our JS is at the bottom of the page, except for Modernizr. -->
	<script src="../../../_/js/modernizr-1.7.min.js"></script>
	<script src="../../../_/js/Hyphenator.js" type="text/javascript"></script>
	<script type="text/javascript">
	   Hyphenator.config({
		minwordlength : 4
	   });
	   Hyphenator.run();
	</script>
    <script src="../../../_/js/build.js" type="text/javascript"></script>
</head>

<body class="style-newspaper">

<div class="wrapper"><!-- not needed? up to you: http://camendesign.com/code/developpeurs_sans_frontieres -->

	<header id="header">
		<div class="head"><a href="http://ioc.gencat.cat"><img src="../../../img/logo.png" alt="Institut Obert de Catalunya"/></a><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/es/deed.ca"><img src="../../../img/license.png" alt="Llic&egrave;ncia" class="license"/></a></div>
		<div class="headdocument"><a href="../../../index.html">Serveis de xarxa</a></div>
        <div id="search" class="search" name="search">
         <form id="frmsearch" action="../../../search.html" method="get">
          <input type="text" name="q"/>
        </form>
        </div>
	</header>
   <div id="upbutton" class="upbutton" style="display:none;"><img src="../../../img/uparrow.png" alt="Pujar a l'inici de p&agrave;gina"/></div>
   <aside id="aside">
    <div id="menu">
      <ul>
       <li name="toc"><div><img src="../../../img/toc.png" alt="&Iacute;ndex"/></div></li>
       <li name="settings"><div><img src="../../../img/settings.png" alt="Configuraci&oacute;"/></div></li>
       <li name="printer"><div><img src="../../../img/printer.png" alt="Imprimir"/></div></li>
       <li name="favorites"><div><img src="../../../img/favorites.png" alt="Favorits"/></div></li>
       <li name="help_icon" class="help_icon"><div><img src="../../../img/help_icon.png" alt="Ajuda"/></div></li>
      </ul>
     </div>
   </aside>
   <div id="sidebar-hide" name="sidebar-hide"><img src="../../../img/arrows.png"/></div>
   <section>
     <div id="toc" class="hidden">
      <div class="menucontent">
        <ul>
        <li id="u3" class="parentnode"><p><a class="unit" href="../../../WebContent/u3/introduccio.html">3. Servidors web i intermediaris</a></p><ul class="expander"><li id="u3introduccio"><a href="../../../WebContent/u3/introduccio.html">Introducció</a></li><li id="u3mapa"><a href="../../../WebContent/u3/mapa.html">Mapa conceptual</a></li><li id="u3referencies"><a href="../../../WebContent/u3/referencies.html">Més informació</a></li><li id="u3resultats"><a href="../../../WebContent/u3/resultats.html">Resultats d'aprenentatge</a></li><li id="u3resum"><a href="../../../WebContent/u3/resum.html">Resum</a></li><li id="u3a1" class="tocsection"><p id='u3a1continguts'><a class="section" href="../../../WebContent/u3/a1/continguts.html">Gestió de servidors web</a><span class="buttonexp"></span></p><ul><li id="u3a1activitats"><a href="../../../WebContent/u3/a1/activitats.html">Activitats</a></li><li id="u3a1exercicis"><a href="../../../WebContent/u3/a1/exercicis.html">Exercicis d'autoavaluació</a></li></ul></li><div data-parent-id='u3a1' class='tocssection hidden'><div class="toc"><ul><li><a href="../../../WebContent/u3/a1/continguts.html#el_protocol_http">El protocol HTTP</a></li><li><a href="../../../WebContent/u3/a1/continguts.html#el_servidor_apache">El servidor Apache</a></li><li><a href="../../../WebContent/u3/a1/continguts.html#configuracio_de_la_seguretat">Configuració de la seguretat</a></li><li><a href="../../../WebContent/u3/a1/continguts.html#servidors_virtuals">Servidors virtuals</a></li><li><a href="../../../WebContent/u3/a1/continguts.html#els_llocs_virtuals">Els llocs virtuals</a></li></ul></div></div><li id="u3a2" class="tocsection"><p id='u3a2continguts'><a class="section" href="../../../WebContent/u3/a2/continguts.html">Interconnexió de xarxes privades amb xarxes públiques</a><span class="buttonexp"></span></p><ul><li id="u3a2activitats"><a href="../../../WebContent/u3/a2/activitats.html">Activitats</a></li><li id="u3a2exercicis"><a href="../../../WebContent/u3/a2/exercicis.html">Exercicis d'autoavaluació</a></li></ul></li><div data-parent-id='u3a2' class='tocssection hidden'><div class="toc"><ul><li><a href="../../../WebContent/u3/a2/continguts.html#passarel_les_a_nivell_d_aplicacio_emmagatzematge_en_memoria_cau">Passarel·les a nivell d’aplicació. Emmagatzematge en memòria cau</a></li><li><a href="../../../WebContent/u3/a2/continguts.html#instal_lacio_d_una_aplicacio_que_faci_de_passarel_la">Instal·lació d'una aplicació que faci de passarel·la</a></li></ul></div></div></ul></li><li id="" class="indexnode"><p><a href="../../../index.html">Anar a l&#39;&iacute;ndex general</a></p></li>
        </ul>
      </div>
    </div>
   </section>
   <section>
   <div id="settings" class="hidden">
    <div class="menucontent">
     <div class="allsettings">
     <div class="settings">
      <label>Font i Color</label>
		<div class="setting-option">
	        <ul class="fontBackground">
				<li id="style-newspaper" title="Newspaper" class="appearance-style-newspaper"><span>Newspaper</span></li>
                <li id="style-novel" title="Novel" class="appearance-style-novel"><span>Novel</span></li>
                <li id="style-ebook" title="eBook" class="appearance-style-ebook"><span>eBook</span></li>
				<li id="style-inverse" title="Inverse" class="appearance-style-inverse active"><span>Inverse</span></li>
				<li id="style-athelas" title="Athelas" class="appearance-style-athelas"><span>Athelas</span></li>
			</ul>
		</div>
     </div>
	<div class="settings">
      <label>Amplada</label>
		<div class="setting-option">
	        <div id="slider-width"></div>
		</div>
     </div>
     <div class="settings">
      <label>Mida de la font</label>
		<div class="setting-option">
	        <div id="slider-font"></div>
		</div>
     </div>
     <div class="settings">
      <label>Mida de la font</label>
	  <div class="setting-option">
       <form action="" class="sett-options">
		<ul>
		    <li><input type="checkbox" id="secondary-content" /><label for="secondary-content">Mostra recursos complementaris</label></li>
		    <li><input type="checkbox" id="main-images" /><label for="main-images">Mostra imatges</label></li>
		    <li><input type="checkbox" id="text-alignment" /><label for="text-alignment">Text justificat</label></li>
			<li><input type="checkbox" id="text-hyphen" /><label for="text-hyphen">Partici&oacute; sil·l&agrave;bica</label></li>
		</ul>
       </form>
	  </div>
     </div>
     </div>
    </div>
   </div>
   </section>
 <section>
 <div id="favorites" class="hidden"></div>
 </section>   
 <div id="bridge" class="hidden"></div>
 <div id="help" class="hidden">
  <div class="helptitle">Dreceres del teclat<hr></div>
  <div class="helpsection"><span>General</span>
   <ul>
    <li><span class="shortcut">g</span>: Anar al men&uacute; de navegaci&oacute;</li>
    <li><span class="shortcut">o</span>: Anar a opcions</li>
    <li><span class="shortcut">s</span>: Guardar la p&agrave;gina actual a favorits</li>
    <li><span class="shortcut">p</span>: Imprimir la p&agrave;gina actual</li>
    <li><span class="shortcut">?</span>: Mostrar/Ocultar l&#39;ajuda</li>
   </ul>
  </div>
  <div class="helpsection"><span>Navegaci&oacute;</span>
   <ul>
    <li><span class="shortcut">i</span>: Anar a l&#39;&iacute;ndex general</li>
    <li><span class="shortcut">t</span>: Anar a l&#39;inici de p&agrave;gina</li>
    <li><span class="shortcut">b</span>: Anar al final de p&agrave;gina</li>
    <li><span class="shortcut">j</span>: Anar cap endavant dintre la p&agrave;gina</li>
    <li><span class="shortcut">k</span>: Anar cap enrere dintre la p&agrave;gina</li>
    <li><span class="shortcut">h</span>: Anar a la p&agrave;gina anterior:</li>
    <li><span class="shortcut">l</span>: Anar a la p&agrave;gina seg&uuml;ent:</li>
   </ul>
   </div>
 </div>
 <div id="favcounter" name="favcounter" class="hidden"><span></span></div>
 <div id="navmenu" class="navmenu"><ul class="webnav"><li><a href="../../../index.html" title="Anar a l&#39;&iacute;ndex general">Inici</a></li><li><a href="../introduccio.html">Correu electrònic i transmissió d’arxius</a></li><li><a href="continguts.html">Instal·lació de serveis de transferència de fitxers</a></li><li>Activitats</li></ul></div>
	<div id="content" lang="ca" class="hyphenate text">
     <article lang="ca" class="sheet">
        <h1><a id="activitats"> Activitats </a></h1>
    	
<h2><a id="instal_lacio_i_configuracio_d_un_servidor_ftp_en_el_sistema_operatiu_windows" >Instal·lació i configuració d&#039;un servidor FTP en el sistema operatiu Windows</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és conèixer els processos d’instal·lació del servidor de protocol de transferència d’arxius i els paràmetres que s’han de considerar en el procés d’instal·lació i configuració en funció de la idiosincràsia i les necessitats dels usuaris que l’hagin d’utilitzar.
</p>

<p>
Com a administradors d’una xarxa basada en un servidor <acronym title="File Transfer Protocol">FTP</acronym>, hem de conèixer el procés d’instal·lació i configuració d’un servidor <acronym title="File Transfer Protocol">FTP</acronym> Filezilla que es troba disponible a l’adreça web <a href="http://filezilla.sourceforge.net/" class="urlextern" title="http://filezilla.sourceforge.net/"  rel="nofollow">http://filezilla.sourceforge.net/</a>. Els passos per a la instal·lació del servidor <acronym title="File Transfer Protocol">FTP</acronym> Filezilla són els següents:
</p>
<ol>
<li class="level1"><div class="li"> Accediu a l’adreça web facilitada.</div>
</li>
<li class="level1"><div class="li"> Descarregueu l’arxiu d’execució adient.</div>
</li>
<li class="level1"><div class="li"> Instal·leu i configureu el servidor <acronym title="File Transfer Protocol">FTP</acronym> Filezilla.</div>
</li>
</ol>

<p>
<form action=""><div class="solution ioccontent">
<p>
Si ens adrecem a l’adreça web <a href="http://filezilla.sourceforge.net/" class="urlextern" title="http://filezilla.sourceforge.net/"  rel="nofollow">http://filezilla.sourceforge.net/</a> podrem sol·licitar la descàrrega de l’arxiu d’execució (amb extensió .exe) per a la instal·lació del nostre servidor <acronym title="File Transfer Protocol">FTP</acronym>. En el cas de voler descarregar el programari, i davant del ventall de les diferents versions que puguem trobar, escollirem l’últim arxiu estable, atès que les versions beta ens poden donar problemes en el moment de l’execució.
</p>

<p>
En el procés d’instal·lació, el programari controla el servidor <acronym title="File Transfer Protocol">FTP</acronym> connectant-s’hi per mitjà d’un port, en aquest cas, el port 14147. Això permet que es pugui controlar el servidor <acronym title="File Transfer Protocol">FTP</acronym> de forma remota.
</p>

<p>
<div class="imgelem">
<img src="../media/w_ic10m7uf2_01.jpg" title="w_ic10m7uf2_01.jpg" alt="w_ic10m7uf2_01.jpg" /></div>

</p>

<p>
<div class="imgelem">
<img src="../media/w_ic10m7uf2_02.jpg" title="w_ic10m7uf2_02.jpg" alt="w_ic10m7uf2_02.jpg" /></div>

</p>

<p>
<div class="imgelem">
<img src="../media/w_ic10m7uf2_03.jpg" title="w_ic10m7uf2_03.jpg" alt="w_ic10m7uf2_03.jpg" /></div>

</p>

<p>
<div class="imgelem">
<img src="../media/w_ic10m7uf2_04.jpg" title="w_ic10m7uf2_04.jpg" alt="w_ic10m7uf2_04.jpg" /></div>

</p>

<p>
<div class="imgelem">
<img src="../media/w_ic10m7uf2_05.jpg" title="w_ic10m7uf2_05.jpg" alt="w_ic10m7uf2_05.jpg" /></div>

</p>

<p>
<strong>Configuració del servidor <acronym title="File Transfer Protocol">FTP</acronym> Filezilla en el sistema operatiu Windows</strong>
</p>

<p>
Un cop feta la instal·lació, en el moment d’accedir al programari, se’ns demanarà l’adreça IP on es troba el nostre servidor <acronym title="File Transfer Protocol">FTP</acronym>, és per això que, tant podem escriure l’adreça IP d’un altre ordinador, o bé, en el cas que vulguem fer-ho mitjançant la nostra pròpia màquina (amb la qual treballem en el nostre dia a dia) podem escriure l’adreça IP 127.0.0.1, que és la que hi ha per conveni.
</p>

<p>
<div class="imgelem">
<img src="../media/w_ic10m7uf2_06.jpg" title="w_ic10m7uf2_06.jpg" alt="w_ic10m7uf2_06.jpg" /></div>

</p>

<p>
D’altra banda, el programari ens sol·licitarà el port pel qual connectar-nos i la contrasenya per a l’usuari que actua com a administrador. De fet, el port que apareix, per defecte, és el 14147, però hi ha la possibilitat de canviar-lo mitjançant la configuració del servidor i, d’altra banda, la contrasenya es pot deixar en blanc.
</p>

<p>
<div class="imgelem">
<img src="../media/w_ic10m7uf2_07.jpg" title="w_ic10m7uf2_07.jpg" alt="w_ic10m7uf2_07.jpg" /></div>

</p>

<p>
<div class="imgelem">
<img src="../media/w_ic10m7uf2_08.jpg" title="w_ic10m7uf2_08.jpg" alt="w_ic10m7uf2_08.jpg" /></div>

</p>

<p>
Un cop establertes aquestes premisses, arribarem a una pantalla de configuració on, per exemple, se’ns indicarà que estem connectats correctament, i se’ns donarà l’opció de canviar la contrasenya de l’administrador com a principal mesura de seguretat. En cas de no establir-hi una contrasenya, qualsevol usuari que es connectés al nostre servidor <acronym title="File Transfer Protocol">FTP</acronym> podria canviar-ne la configuració.
</p>

<p>
<div class="imgelem">
<img src="../media/w_ic10m7uf2_09.jpg" title="w_ic10m7uf2_09.jpg" alt="w_ic10m7uf2_09.jpg" /></div>

</p>

<p>
Hi ha, a més, tot un conjunt d’opcions que, tot i no ser essencials, poden ajudar-nos a personalitzar el nostre servidor <acronym title="File Transfer Protocol">FTP</acronym>.
</p>
<ul>
<li class="level1"><div class="li"> Welcome Message (<em>Missatge de benvinguda</em>). Ens permet canviar el missatge de benvinguda que apareixerà a la pantalla del programari client <acronym title="File Transfer Protocol">FTP</acronym> en el moment de la connexió.</div>
</li>
</ul>

<p>
<div class="imgelem">
<img src="../media/w_ic10m7uf2_10.jpg" title="w_ic10m7uf2_10.jpg" alt="w_ic10m7uf2_10.jpg" /></div>

</p>
<ul>
<li class="level1"><div class="li"> IP Filter (<em>Filtre IP</em>). Com a mesura de seguretat, podem evitar que certes adreces IP es connectin al nostre servidor o, per contra que solament s’hi puguin connectar aquelles adreces que nosaltres desitgem.</div>
</li>
<li class="level1"><div class="li"> Logging (<em>Accés</em>). Com a administradors tenim l’opció de conèixer qui es connecta al nostre servidor i els arxius que s’hi pugen.</div>
</li>
<li class="level1"><div class="li"> Speed Limit (<em>Límit de velocitat</em>). És molt important que repartim la nostra amplada de banda, atès que nosaltres també podem estar transferint arxius, per exemple, i necessitarem un cert marge de velocitat per fer-ho.</div>
</li>
</ul>

<p>
<div class="imgelem">
<img src="../media/w_ic10m7uf2_11.jpg" title="w_ic10m7uf2_11.jpg" alt="w_ic10m7uf2_11.jpg" /></div>

</p>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

<h2><a id="instal_lacio_i_configuracio_del_client_ftp_filezilla_en_el_sistema_operatiu_windows" >Instal·lació i configuració del client FTP Filezilla en el sistema operatiu Windows</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és conèixer els processos d’instal·lació del servidor de protocol de transferència d’arxius i els paràmetres que s’han de considerar en el procés d’instal·lació i configuració en funció de la idiosincràsia i les necessitats dels usuaris que l’hagin d’utilitzar.
</p>

<p>
És important que per demostrar l’assoliment dels principals conceptes del client <acronym title="File Transfer Protocol">FTP</acronym> es domini sense problema la instal·lació del client <acronym title="File Transfer Protocol">FTP</acronym> Filezilla que es troba disponible en l’adreça web <a href="http://filezilla.sourceforge.net/" class="urlextern" title="http://filezilla.sourceforge.net/"  rel="nofollow">http://filezilla.sourceforge.net/</a>. Els passos per a la instal·lació del client <acronym title="File Transfer Protocol">FTP</acronym> Filezilla són els següents:
</p>
<ol>
<li class="level1"><div class="li"> Accediu a l’adreça web facilitada.</div>
</li>
<li class="level1"><div class="li"> Descarregueu l’arxiu d’execució adient.</div>
</li>
<li class="level1"><div class="li"> Instal·leu i configureu el client <acronym title="File Transfer Protocol">FTP</acronym> Filezilla.</div>
</li>
</ol>

<p>
<form action=""><div class="solution ioccontent">
<p>
Durant l’inici de la instal·lació haurem d’indicar al programari l’idioma i, a continuació, acceptar la llicència GNU del Programari lliure. Posteriorment, sempre que no vulguem realitzar una instal·lació personalitzada, escollirem la instal·lació estàndard.
</p>

<p>
<div class="imgelem">
<img src="../media/w_ic10m7uf2_12.jpg" title="w_ic10m7uf2_12.jpg" alt="w_ic10m7uf2_12.jpg" /></div>

</p>

<p>
<div class="imgelem">
<img src="../media/w_ic10m7uf2_13.jpg" title="w_ic10m7uf2_13.jpg" alt="w_ic10m7uf2_13.jpg" /></div>

</p>

<p>
<div class="imgelem">
<img src="../media/w_ic10m7uf2_14.jpg" title="w_ic10m7uf2_14.jpg" alt="w_ic10m7uf2_14.jpg" /></div>

</p>

<p>
<div class="imgelem">
<img src="../media/w_ic10m7uf2_15.jpg" title="w_ic10m7uf2_15.jpg" alt="w_ic10m7uf2_15.jpg" /></div>

</p>

<p>
És a partir d’aquest pas on té inici la configuració del programa. Com veurem, se’ns donarà a escollir dues opcions d’ús: mode segur i mode no segur. La primera modalitat mai emmagatzemarà els noms d’usuari ni les mateixes contrasenyes dels servidors als quals ens connectarem. En canvi, la segona modalitat, sí que ho farà.
</p>

<p>
<div class="imgelem">
<img src="../media/w_ic10m7uf2_16.jpg" title="w_ic10m7uf2_16.jpg" alt="w_ic10m7uf2_16.jpg" /></div>

</p>

<p>
El criteri per escollir una opció o altra dependrà de l’ordinador amb el qual estiguem treballant. Per exemple, si ens trobem a l’ordinador de casa, per exemple, podrem escollir la modalitat no segura, atès que això farà que el programari sigui qui ompli els noms d’usuari i les contrasenyes a partir del primer accés. Ara bé, si volem realitzar les transferències amb un cert nivell de seguretat, escollirem la modalitat segura.
</p>

<p>
Un cop definida la modalitat de transferència dels fitxers, el programari ens proposarà on escriure la informació de configuració. De fet, el més recomanable és escollir un arxiu XML.
</p>

<p>
Ja tenim accés a la pàgina principal del programari.
</p>

<p>
<div class="imgelem">
<img src="../media/w_ic10m7uf2_17.jpg" title="w_ic10m7uf2_17.jpg" alt="w_ic10m7uf2_17.jpg" /></div>

</p>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

<h2><a id="prova_del_servidor_ftp" >Prova del servidor FTP</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és conèixer les funcions i les icones principals que integren la interfície gràfica del menú principal del programari.
</p>

<p>
Un cop haguem instal·lat el servidor i el client <acronym title="File Transfer Protocol">FTP</acronym>, comproveu-ne que funciona correctament. De fet, perquè aquesta activitat tingui prou validesa (o una dificultat prou representativa), heu de tenir instal·lats ambdós programes en dos ordinadors diferents. Per tant, heu d’enviar un arxiu situat a l’ordinador client fins a l’ordinador que actua com a servidor.
</p>

<p>
<form action=""><div class="solution ioccontent">
<p>
Des de l’ordinador on hi hagi instal·lat el client <acronym title="File Transfer Protocol">FTP</acronym> s’haurà de connectar en primer lloc amb l’ordinador que actua com a servidor. Per fer-ho, haurem d’indicar l’adreça IP de l’ordinador <em>servidor</em> i inserir l’usuari definit prèviament a l’ordinador <em>servidor</em>.
</p>

<p>
<div class="imgelem">
<img src="../media/w_ic10m7uf2_18.jpg" title="w_ic10m7uf2_18.jpg" alt="w_ic10m7uf2_18.jpg" /></div>

</p>

<p>
Un cop s’hagi connectat amb el servidor, s’haurà d’indicar l’arxiu a pujar des de la finestra on es mostra l’arbre de directoris de l’ordinador client. Un cop marcat l’arxiu, s’haurà de moure fins a l’arbre de directoris de l’ordinador <em>servidor</em>.
</p>

<p>
<div class="imgelem">
<img src="../media/w_ic10m7uf2_19.jpg" title="w_ic10m7uf2_19.jpg" alt="w_ic10m7uf2_19.jpg" /></div>

</p>

<p>
Un cop realitzat el procés de transferència, s’haurà d’accedir al directori indicat com a <em>directori compartit</em> (<em>shared folder</em>) dins de l’ordinador <em>servidor</em> i confirmar que l’arxiu hi és i s’hi pot accedir sense problema.
</p>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

<h2><a id="servidor_sftp" >Servidor SFTP</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és conèixer les característiques principals dels servidors de protocol de transferència d’arxius en la modalitat segura, o bé adequats per a entorns que requereixen un grau de seguretat alt.
</p>

<p>
Moltes vegades hem requerit disposar d’un espai en xarxa on emmagatzemar les dades compartides mitjançant connexions segures i amb un espai limitat correctament. En aquest cas, estem parlant d’un servidor sFTP que, a diferència d’un servidor <acronym title="File Transfer Protocol">FTP</acronym> normal i corrent, ens garanteix un alt grau de seguretat.
</p>

<p>
Instal·leu i configureu un servidor <acronym title="File Transfer Protocol">FTP</acronym> segur amb gàbies en un sistema operatiu Linux.
</p>

<p>
<form action=""><div class="solution ioccontent">
<p>
Per aconseguir l’accés segur de, per exemple, 5 usuaris a un servidor SFTP (SSH+<acronym title="File Transfer Protocol">FTP</acronym>) haurem d’establir tot un ventall de paràmetres essencials per garantir la seguretat de les seves connexions i la del servidor d’arxius.
</p>

<p>
En el nostre cas, tot i que crearem cinc usuaris, únicament treballarem amb un, atès que, posteriorment, haurem de repetir el mateix procés fins a cobrir el nombre d’usuaris total.
</p>

<p>
En primer lloc, des del terminal d’ordres del sistema operatiu, instal·larem el servidor SSH mitjançant l’execució de l’ordre següent: apt-get install openssh-server.
</p>

<p>
<div class="imgelem">
<img src="../media/w_ic10m7uf2_20.jpg" title="w_ic10m7uf2_20.jpg" alt="w_ic10m7uf2_20.jpg" /></div>

</p>

<p>
Per comprovar que la instal·lació s’ha realitzat correctament, podrem connectar-nos a nosaltres mateixos mitjançant l’ordre ssh 127.0.0.1.
</p>

<p>
Arribats en aquest punt, ja podríem accedir al sistema des de qualsevol altre ordinador de la xarxa indicant, únicament, un nom d’usuari i l’adreça IP del servidor (per exemple, sftp usuari1de5@ipdelservidor). Ara bé, per poder sol·licitar accés mitjançant un nom d’usuari, aquest ha d’existir en l’equip remot perquè la nostra petició sigui acceptada. Per tant, haurem de crear un usuari amb uns permisos concrets i amb un accés delimitat a una zona del servidor. Això és el que es coneix com una gàbia.
</p>

<p>
En primer lloc, crearem l’usuari mitjançant l’execució de l’ordre useradd usuari1de5. A continuació crearem la carpeta o gàbia on enviarem a l’usuari quan accedeixi mitjançant l’ordre mkdir /gàbia/usuari1de5. Paral·lelament, modificarem aquesta carpeta perquè sigui propietat de root i disposi dels mínims permisos per poder operar sense problemes.
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1">chown root:usuari1de5 /gàbia/usuari1de5</div></li><li class="li1"><div class="de1">chmod 755 /gàbia/usuari1de5</div></li></ol></pre>

<p>
Val a dir que, en cas que ho considerem necessari, podem crear una carpeta on l’usuari ja disposi de permisos de lectura i escriptura.
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1">cd usuari1de5</div></li><li class="li1"><div class="de1">mkdir dades</div></li><li class="li1"><div class="de1">chown usuari1de5:usuari1de5 dades</div></li><li class="li1"><div class="de1">chmod 755 dades</div></li></ol></pre>

<p>
Arribats en aquest punt, podrem assignar la gàbia al directori de l’usuari usuari1de5.
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1">usermod -d /gabia/usuari1de5 usuari1de5</div></li></ol></pre>

<p>
A més, també li assignarem una shell mitjançant l’execució de l’ordre usermod -s /bin/false usuari1de5 i li definirem una contrasenya mitjançant l’ordre passwd usuari1de5.
</p>

<p>
Per últim, modificarem l’arxiu de configuració del servidor SSH mitjançant l’execució de l’ordre d’edició nano /etc/ssh/sshd_config.
</p>

<p>
<div class="imgelem">
<img src="../media/w_ic10m7uf2_21.jpg" title="w_ic10m7uf2_21.jpg" alt="w_ic10m7uf2_21.jpg" /></div>

</p>

<p>
Cal destacar que no deixa de ser important editar la següent línia per evitar que es pugui accedir amb un compte root.
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1">PermitRootLogin no</div></li></ol></pre>

<p>
Paral·lelament, buscarem la línia Subsystem sftp i l’eliminarem o la comentarem per deixar-la com a Subsystem sftp internal-sftp.
</p>

<p>
A la part final de l’arxiu afegirem el següent:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1">Match User usuari1de5</div></li><li class="li1"><div class="de1">ChrootDirectory /gàbia/usuari1de5</div></li><li class="li1"><div class="de1">ForceCommand internal-sftp</div></li></ol></pre>

<p>
Un cop afegides aquestes línies a la part final de l’arxiu, ja podrem tornar a arrencar el servidor SSH mitjançant l’execució de l’ordre /etc/init.d/ssh restart.
</p>

<p>
A continuació, ja podrem accedir al nostre espai amb l’usuari usuari1de5.
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1">sftp usuari1de5@ipdelservidor</div></li></ol></pre>

<p>
En aquest cas, un cop l’usuari usuari1de5 accedeix al servidor, serà enviat al seu espai, on disposarà de permisos per llegir i escriure, però no podrà sortir d’aquest espai.
</p>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

<h2><a id="configuracio_d_un_servidor_vsftpd_en_un_sistema_operatiu_linux" >Configuració d&#039;un servidor VSFTPD en un sistema operatiu Linux</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és conèixer les característiques principals que ha de tenir el programari de transferència d’arxius perquè es pugui utilitzar en entorns que requereixen un grau de seguretat alt.
</p>

<p>
El protocol de transferència de fitxers molt segur (VSFTPD, <em>Very Secure <acronym title="File Transfer Protocol">FTP</acronym> Daemon</em>) és una eina lògica utilitzada per implementar servidors d’arxius mitjançant el protocol de transferència de fitxers (<acronym title="File Transfer Protocol">FTP</acronym>, <em>File Transfer Protocol</em>). Destaca, a més, per disposar d’uns valors per defecte molt segurs i, alhora, per la seva senzillesa en la configuració.
</p>

<p>
Configureu un servidor VSFTPD en un sistema operatiu Linux.
</p>

<p>
<form action=""><div class="solution ioccontent">
<p>
Val a dir que l’elecció d’aquest tipus de servidor radica en la seva facilitat d’instal·lació i configuració i el seu ús estès com a servidor anònim.
</p>

<p>
Per tant, atès que instal·larem el programari en el sistema operatiu Linux podem procedir a instal·lar-lo mitjançant el terminal d’ordres. En aquest cas, per fer l’operació haurem de treballar mitjançant l’ordre <em>sudo</em> amb un usuari amb privilegis de <em>sudo</em> o, directament, essent <em>root</em>.
</p>

<p>
<div class="imgelem">
<img src="../media/w_ic10m7uf2_22.jpg" title="w_ic10m7uf2_22.jpg" alt="w_ic10m7uf2_22.jpg" /></div>

</p>

<p>
L’execució d’aquesta ordre facilitarà la instal·lació del servidor i, a més, la creació d’un nou usuari anomenat <em>ftp</em> en el nostre sistema operatiu, que serà inclòs dins del grup nogroup.
</p>

<p>
El directori <em>home</em> de l’usuari és propietat de <em>root</em> i el grup propietari és <em>nogroup</em>. Val a dir que és en aquest directori on s’allotjaran els arxius que desitgem compartir mitjançant el servidor <acronym title="File Transfer Protocol">FTP</acronym> per als usuaris anònims.
</p>

<p>
Arribats en aquest punt, és important destacar els diferents arxius de configuració presents dins del nostre sistema en el moment de la instal·lació del servidor vsftp.
</p>
<ul>
<li class="level1"><div class="li"> <strong>/etc/init.d/vsftpd</strong>: Arxiu per arrencar el servidor <acronym title="File Transfer Protocol">FTP</acronym>.</div>
</li>
<li class="level1"><div class="li"> <strong>/etc/vsftpd.conf</strong>: Arxiu de configuració del servidor vsftpd.</div>
</li>
<li class="level1"><div class="li"> <strong>/etc/ftpusers</strong>: Arxiu on es troba una llista dels usuaris que es podran connectar al servidor.</div>
</li>
<li class="level1"><div class="li"> <strong>/home/ftp</strong>: Directori que conté els arxius que comparteixen el servidor.</div>
</li>
<li class="level1"><div class="li"> <strong>/usr/sbin/vsftpd</strong>: Arxiu executable del servei <acronym title="File Transfer Protocol">FTP</acronym>.</div>
</li>
</ul>

<p>
Després de la instal·lació del servidor, hem de configurar el servidor. Per fer-ho, haurem d’adreçar-nos a l’arxiu que conté la configuració, això és, /etc/vsftpd.conf.
</p>

<p>
<div class="imgelem">
<img src="../media/w_ic10m7uf2_23.jpg" title="w_ic10m7uf2_23.jpg" alt="w_ic10m7uf2_23.jpg" /></div>

</p>

<p>
L’estructura de les línies de l’arxiu /etc/vsftpd.conf segueix el següent patró:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1">directriu=valor</div></li></ol></pre>

<p>
on directriu és el nom de la propietat que volem configurar i valor serà el valor que voldrem assignar a aquesta directriu. En aquest cas, si volem habilitar una directriu haurem de treure el caràcter de comentari (#).
</p>

<p>
Cal destacar que, entre les diferents opcions presents dins de l’arxiu /etc/vsftpd.conf, hi ha algunes que són booleanes, unes altres són numèriques i la resta són igual a cadenes de caràcters.
</p>

<p>
Cal destacar que algunes de les directrius que hi apareixen són força rellevants com, per exemple, servidor standalone. De fet, el servidor pot executar-se com un procés independent (standalone). Ara bé, per aconseguir-ho, la directriu listen=YES haurà d’estar activada (sense el caràcter de comentari).
</p>

<p>
Des del punt de vista de la gestió dels usuaris, és important destacar que, per defecte, els usuaris que poden utilitzar el servidor són els anònims i tots aquells que disposin d’un compte en el sistema. En aquest cas, per activar-ne les funcions, haurem d’activar les línies anonymous_enable=YES i local_enable=YES.
</p>

<p>
Respecte de la descàrrega d’arxius, quan un usuari anònim (anomymous) es connecta al servidor <acronym title="File Transfer Protocol">FTP</acronym>, aquest usuari accedirà al directori home de l’usuari anonymous (/home/ftp, per defecte). Val a dir que aquest usuari es trobarà en una mena de gàbia o entorn d’engabiament, això és, el seu directori arrel (directori /).
</p>

<p>
Els usuaris poden descarregar arxius que es trobin en el directori /home/ftp i en els seus subdirectoris.
</p>

<p>
D’altra banda, quan un usuari local es connecti tindrem dues opcions de configuració del seu inici, això és, no engabiar-lo i permetre que interaccioni amb el sistema en funció dels seus permisos i privilegis, o bé, engabiar-lo en el seu directori d’inici per motius de seguretat. En aquest cas, per activar la segona opció haurem d’activar la directriu chroot_local_user=YES.
</p>

<p>
Ara bé, en el cas que volguessin que algun dels usuaris no fos engabiat, podríem establir els nous paràmetres mitjançant les directrius chroot_list_enable=YES i chroot_list_file=/etc/vsftpd.chroot_lista. La primera directriu indica que hi ha una llista d’usuaris que, en el moment de la connexió, no han de ser engabiats i, per contra, la segona directriu informa del nom del fitxer on es troben aquests usuaris.
</p>

<p>
Si volem permetre que els usuaris locals pugin arxius al servidor <acronym title="File Transfer Protocol">FTP</acronym>, haurem d’habilitar la directriu write_enable=YES. De fet, hem de tenir en compte que, per establir els permisos per defecte per als usuaris que carreguen arxius al servidor, podrem utilitzar la directriu local_umask=022.
</p>

<p>
En el cas de la càrrega d’arxius per part d’usuaris anònims, la càrrega per defecte està desactivada. De fet, per activar-la, haurem d’incloure la directriu anon_upload_enable=YES; a més, haurem de crear un directori en el qual els permisos permetin escriure-hi.
</p>

<p>
De fet, com en el cas dels usuaris locals, haurem de posar una màscara per establir els permisos dels arxius que carreguen els usuaris anònims.
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1">anon_umask=022</div></li></ol></pre>

<p>
D’altra banda, en el cas que volguéssim que els usuaris anònims modifiquessin arxius d’altres usuaris anònims i que, a més, poguessin crear directoris, haurem d’incloure les directrius següents:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1">anon_other_write_enable=YES</div></li><li class="li1"><div class="de1">anon_mkdir_write_enable=YES</div></li></ol></pre>

<p>
Quan ens connectem al servidor <acronym title="File Transfer Protocol">FTP</acronym>, i fem un canvi de directori, podem habilitar la visualització de missatges emmagatzemant el text del missatge en un arxiu que anomenarem amb un altre nom. Per fer-ho, haurem de seguir els passos següents:
</p>
<ol>
<li class="level1"><div class="li"> Crear un arxiu i incloure-hi el text escollit.</div>
</li>
<li class="level1"><div class="li"> Incloure les directrius següents:</div>
</li>
</ol>
<pre class="code bash"><ol><li class="li1"><div class="de1">dirmessage_enable=YES</div></li><li class="li1"><div class="de1">message_file=.missatge</div></li></ol></pre>

<p>
Mitjançant el registre d’activitat, podrem realitzar un control de l’activitat desenvolupada en el nostre servidor <acronym title="File Transfer Protocol">FTP</acronym>. Aquest registre es realitzarà mitjançant l’arxiu /var/log/vsftpd.log i les directrius xferlog_enable=YES i xferlog_file=/var/log/vsftpd.log.
</p>

<p>
Des del punt de vista del temps de connexió, amb la intenció d’identificar alguns dels temps que fan referència a configuracions del nostre servidor tenim les directrius següents:
</p>
<ul>
<li class="level1"><div class="li"> accept_timeout: Temps per establir una connexió en mode passiu d’un usuari remot.</div>
</li>
<li class="level1"><div class="li"> data_connection_timeout: Temps màxim que el servidor espera quan una transferència no progressa.</div>
</li>
<li class="level1"><div class="li"> idle_session_timeout: Temps màxim que es concedeix a un usuari remot que no està actiu, això és, executant ordres.</div>
</li>
</ul>

<p>
Per últim, un cop haguem configurat el nostre servidor <acronym title="File Transfer Protocol">FTP</acronym>, només ens quedarà llençar-lo. Aquesta acció la realitzarem mitjançant l’execució de l’ordre /etc/init.d/vsftpd start.
</p>

<p>
Paral·lelament, altres opcions de les quals disposem són:
</p>
<ul>
<li class="level1"><div class="li"> stop: per aturar el servidor.</div>
</li>
<li class="level1"><div class="li"> reload: per recarregar els paràmetres de configuració.</div>
</li>
<li class="level1"><div class="li"> restart: per aturar i tornar a arrencar el servidor.</div>
</li>
</ul>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

	 </article>
     <div class="pnpage">
      <div class="left-corner"></div>
      <div id="prevpage">Anar a la p&agrave;gina anterior:<br /><a href="../../../WebContent/u2/a1/continguts.html">Instal·lació de serveis de transferència de fitxers</a></div>
      <div id="nextpage">Anar a la p&agrave;gina seg&uuml;ent:<br /><a href="../../../WebContent/u2/a1/exercicis.html">Exercicis d'autoavaluació</a></div>
      <div class="right-corner"></div>
     </div>
    </div>
    <footer class="footer">
      <div><small>Aquest document està subjecte a una llicència oberta de Creative Commons, es reserva el dret de reconeixement de l'autoria, d'exigir que no se'n faci cap mena d'ús comercial. Si altereu o transformeu aquesta obra, o en genereu obres derivades, només podeu distribuir l'obra generada amb una llicència idèntica a aquesta.</small></div>
    </footer>
 </div>
 <div id="back_preview" class="hidden"></div>
 <div id="preview" class="hidden">
  <div class="prevcontent"></div>
 </div>
 <div id="help-tooltips">
  <div id="help-toc" class="hidden tooltip"><span>Taula de continguts:</span> Ofereix una vista general de l&#39;estructura del m&ograve;dul, que us facilitar&agrave; la navegaci&oacute; a trav&eacute;s dels seus continguts.<span class="arrow-left"></span></div> 
  <div id="help-settings" class="hidden tooltip"><span>Opcions de format:</span> Permet configurar el format de lectura a partir de les vostres prefer&egrave;ncies, modificant la mida de la lletra, el color del fons, l&#39;amplada de la p&agrave;gina o l&#39;ocultaci&oacute; dels continguts complementaris, entre d&#39;altres.<span class="arrow-left"></span></div>
  <div id="help-printer" class="hidden tooltip"><span>Imprimir:</span>  Envia el contingut seleccionat a la impressora.<span class="arrow-left"></span></div>
  <div id="help-favorites" class="hidden tooltip"><span>Prefereits:</span> Permet desar aquelles parts del contingut a les que us interessi accedir en un moment posterior; us permetr&agrave; anar creant un repositori personalitzat de les seccions que considereu m&eacute;s rellevants. Un cop l&#39;hageu començat a fer servir se us mostrar&agrave; a sota un comptador que us informar&agrave; del nombre de preferits que s&#39;hagin emmagatzemat fins al moment.<span class="arrow-left"></span></div>
  <div id="help-favcounter" class="hidden tooltip"><span>Comptador i llistat de preferits:</span> Indica el nombre de preferits que s&#39;han desat fins el moment; clicant damunt seu accedireu al llistat de preferits, i a trav&eacute;s d&#39;aquest podreu accedir directament als continguts que hageu emmagatzemat.<span class="arrow-left"></span></div>
  <div id="help-help_icon" class="hidden tooltip"><span>Ajuda:</span> Aquesta opci&oacute; activa la informaci&oacute; de les funcionalitats del web tot situant el punter del ratol&iacute; al damunt dels diferents &iacute;tems.<span class="arrow-left"></span></div>
  <div id="help-sidebar-hide" class="hidden tooltip"><span>Mostrar/Ocultar barra lateral:</span>  Deshabilita la barra d&#39;opcions, permetent la seva recuperaci&oacute; quan es desitgi.<span class="arrow-left"></span></div>
  <div id="help-search" class="hidden tooltip"><span>Cerca:</span>  Introdu&iuml;u les paraules clau sobre aquells conceptes que desitgeu localitzar en els continguts del m&ograve;dul. Tamb&eacute; podeu excloure un terme de la cerca tot afegint-hi el signe &#8220;-&#8221; al davant.<span class="arrow-top"></span></div>
  <div id="help-header" class="hidden tooltip"><span>Cap&ccedil;alera:</span>  Indica l&#39;apartat o secci&oacute; que es mostra en pantalla. Tingueu present que les capçaleres de segon, tercer i quart nivell tamb&eacute; es poden desar com a marcadors.<span class="arrow-left"></span></div>
</div> 
</body>
</html>
