<!doctype html>

<!--[if lt IE 7 ]> <html class="ie ie6 no-js" lang="ca"> <![endif]-->
<!--[if IE 7 ]>    <html class="ie ie7 no-js" lang="ca"> <![endif]-->
<!--[if IE 8 ]>    <html class="ie ie8 no-js" lang="ca"> <![endif]-->
<!--[if IE 9 ]>    <html class="ie ie9 no-js" lang="ca"> <![endif]-->
<!--[if gt IE 9]><!--><html class="no-js" lang="ca"><!--<![endif]-->
<!-- the "no-js" class is for Modernizr. -->

<head id="www-sitename-com" data-template-set="html5-reset">

	<meta charset="utf-8">
	
	<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
	<title>Administració de sistemes operatius</title>
	
<!-- <meta name="title" content=""> --> 
	<meta name="description" content="">
	<!-- Google will often use this as its description of your page/site. Make it good. -->
	
	<meta name="google-site-verification" content="">
	<!-- Speaking of Google, don't forget to set your site up: http://google.com/webmasters -->
	
	<meta name="author" content="Institut Obert de Catalunya">
	<meta name="Copyright" content="Copyright Institut Obert de Catalunya 2011. All Rights Reserved.">

	<!-- Dublin Core Metadata : http://dublincore.org/ -->
	<meta name="DC.title" content="Administració de sistemes operatius">
	<meta name="DC.subject" content="Informàtica i comunicacions">
	<meta name="DC.creator" content="Institut Obert de Catalunya">
	
	<!--  Mobile Viewport Fix
	j.mp/mobileviewport & davidbcalhoun.com/2010/viewport-metatag 
	device-width : Occupy full width of the screen in its current orientation
	initial-scale = 1.0 retains dimensions instead of zooming out if page height > device height
	maximum-scale = 1.0 retains dimensions instead of zooming in if page width < device width
	-->
	<!-- Uncomment to use � use thoughtfully!
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
	-->

	<link rel="shortcut icon" href="../../../img/favicon.ico">
	<!-- This is the traditional favicon.
		 - size: 16x16 or 32x32
		 - transparency is OK
		 - see wikipedia for info on browser support: http://mky.be/favicon/ -->
		 
	<link rel="apple-touch-icon" href="../../../img/apple-touch-icon.png">
	<!-- The is the icon for iOS's Web Clip.
		 - size: 57x57 for older iPhones, 72x72 for iPads, 114x114 for iPhone4's retina display (IMHO, just go ahead and use the biggest one)
		 - To prevent iOS from applying its styles to the icon name it thusly: apple-touch-icon-precomposed.png
		 - Transparency is not recommended (iOS will put a black BG behind the icon) -->
	
	<!-- CSS: screen, mobile & print are all in the same file -->
	<link rel="stylesheet" href="../../../_/css/style.css">

	<!-- CSS: jQuery UI -->
	<link rel="stylesheet" href="../../../_/css/jquery-ui.css">
	
	<!-- all our JS is at the bottom of the page, except for Modernizr. -->
	<script src="../../../_/js/modernizr-1.7.min.js"></script>
	<script src="../../../_/js/Hyphenator.js" type="text/javascript"></script>
	<script type="text/javascript">
	   Hyphenator.config({
		minwordlength : 4
	   });
	   Hyphenator.run();
	</script>
    <script src="../../../_/js/build.js" type="text/javascript"></script>
</head>

<body class="style-newspaper">

<div class="wrapper"><!-- not needed? up to you: http://camendesign.com/code/developpeurs_sans_frontieres -->

	<header id="header">
		<div class="head"><a href="http://ioc.gencat.cat"><img src="../../../img/logo.png" alt="Institut Obert de Catalunya"/></a><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/es/deed.ca"><img src="../../../img/license.png" alt="Llic&egrave;ncia" class="license"/></a></div>
		<div class="headdocument"><a href="../../../index.html">Administració de sistemes operatius</a></div>
        <div id="search" class="search" name="search">
         <form id="frmsearch" action="../../../search.html" method="get">
          <input type="text" name="q"/>
        </form>
        </div>
	</header>
   <div id="upbutton" class="upbutton" style="display:none;"><img src="../../../img/uparrow.png" alt="Pujar a l'inici de p&agrave;gina"/></div>
   <aside id="aside">
    <div id="menu">
      <ul>
       <li name="toc"><div><img src="../../../img/toc.png" alt="&Iacute;ndex"/></div></li>
       <li name="settings"><div><img src="../../../img/settings.png" alt="Configuraci&oacute;"/></div></li>
       <li name="printer"><div><img src="../../../img/printer.png" alt="Imprimir"/></div></li>
       <li name="favorites"><div><img src="../../../img/favorites.png" alt="Favorits"/></div></li>
       <li name="help_icon" class="help_icon"><div><img src="../../../img/help_icon.png" alt="Ajuda"/></div></li>
      </ul>
     </div>
   </aside>
   <div id="sidebar-hide" name="sidebar-hide"><img src="../../../img/arrows.png"/></div>
   <section>
     <div id="toc" class="hidden">
      <div class="menucontent">
        <ul>
        <li id="u4" class="parentnode"><p><a href="../../../WebContent/u4/introduccio.html">4. Llenguatges de guions i automatització de tasques</a></p><ul class="expander"><li id="u4introduccio"><a href="../../../WebContent/u4/introduccio.html">Introducció</a></li><li id="u4resum"><a href="../../../WebContent/u4/resum.html">Resum</a></li><li id="u4resultats"><a href="../../../WebContent/u4/resultats.html">Resultats de l'aprenentatge</a></li><li id="u4referencies"><a href="../../../WebContent/u4/referencies.html">Més informació</a></li><li id="u4a1" class="tocsection"><p id="u4a1continguts"><a href="../../../WebContent/u4/a1/continguts.html">Llenguatges de guions de shell</a><span class="buttonexp"></span></p><ul><li id="u4a1activitats"><a href="../../../WebContent/u4/a1/activitats.html">Activitats</a></li><li id="u4a1exercicis"><a href="../../../WebContent/u4/a1/exercicis.html">Exercicis d'autoavaluació</a></li></ul></li><li id="u4a2" class="tocsection"><p id="u4a2continguts"><a href="../../../WebContent/u4/a2/continguts.html">Programació del shell Bash</a><span class="buttonexp"></span></p><ul><li id="u4a2activitats"><a href="../../../WebContent/u4/a2/activitats.html">Activitats</a></li><li id="u4a2exercicis"><a href="../../../WebContent/u4/a2/exercicis.html">Exercicis</a></li></ul></li><li id="u4a3" class="tocsection"><p id="u4a3continguts"><a href="../../../WebContent/u4/a3/continguts.html">Planificació i automatització de tasques</a><span class="buttonexp"></span></p><ul><li id="u4a3activitats"><a href="../../../WebContent/u4/a3/activitats.html">Activitats</a></li><li id="u4a3exercicis"><a href="../../../WebContent/u4/a3/exercicis.html">Exercicis</a></li></ul></li></ul></li><li id="" class="indexnode"><p><a href="../../../index.html">Anar a l&#39;&iacute;ndex general</a></p></li>
        </ul>
      </div>
    </div>
   </section>
   <section>
   <div id="settings" class="hidden">
    <div class="menucontent">
     <div class="allsettings">
     <div class="settings">
      <label>Font i Color</label>
		<div class="setting-option">
	        <ul class="fontBackground">
				<li id="style-newspaper" title="Newspaper" class="appearance-style-newspaper"><span>Newspaper</span></li>
                <li id="style-novel" title="Novel" class="appearance-style-novel"><span>Novel</span></li>
                <li id="style-ebook" title="eBook" class="appearance-style-ebook"><span>eBook</span></li>
				<li id="style-inverse" title="Inverse" class="appearance-style-inverse active"><span>Inverse</span></li>
				<li id="style-athelas" title="Athelas" class="appearance-style-athelas"><span>Athelas</span></li>
			</ul>
		</div>
     </div>
	<div class="settings">
      <label>Amplada</label>
		<div class="setting-option">
	        <div id="slider-width"></div>
		</div>
     </div>
     <div class="settings">
      <label>Mida de la font</label>
		<div class="setting-option">
	        <div id="slider-font"></div>
		</div>
     </div>
     <div class="settings">
      <label>Mida de la font</label>
	  <div class="setting-option">
       <form action="" class="sett-options">
		<ul>
		    <li><input type="checkbox" id="secondary-content" /><label for="secondary-content">Mostra recursos complementaris</label></li>
		    <li><input type="checkbox" id="main-images" /><label for="main-images">Mostra imatges</label></li>
		    <li><input type="checkbox" id="text-alignment" /><label for="text-alignment">Text justificat</label></li>
			<li><input type="checkbox" id="text-hyphen" /><label for="text-hyphen">Partici&oacute; sil·l&agrave;bica</label></li>
		</ul>
       </form>
	  </div>
     </div>
     </div>
    </div>
   </div>
   </section>
 <section>
 <div id="favorites" class="hidden"></div>
 </section>   
 <div id="bridge" class="hidden"></div>
 <div id="help" class="hidden">
  <div class="helptitle">Dreceres del teclat<hr></div>
  <div class="helpsection"><span>General</span>
   <ul>
    <li><span class="shortcut">g</span>: Anar al men&uacute; de navegaci&oacute;</li>
    <li><span class="shortcut">o</span>: Anar a opcions</li>
    <li><span class="shortcut">s</span>: Guardar la p&agrave;gina actual a favorits</li>
    <li><span class="shortcut">p</span>: Imprimir la p&agrave;gina actual</li>
    <li><span class="shortcut">?</span>: Mostrar/Ocultar l&#39;ajuda</li>
   </ul>
  </div>
  <div class="helpsection"><span>Navegaci&oacute;</span>
   <ul>
    <li><span class="shortcut">i</span>: Anar a l&#39;&iacute;ndex general</li>
    <li><span class="shortcut">t</span>: Anar a l&#39;inici de p&agrave;gina</li>
    <li><span class="shortcut">b</span>: Anar al final de p&agrave;gina</li>
    <li><span class="shortcut">j</span>: Anar cap endavant dintre la p&agrave;gina</li>
    <li><span class="shortcut">k</span>: Anar cap enrere dintre la p&agrave;gina</li>
    <li><span class="shortcut">h</span>: Anar a la p&agrave;gina anterior:</li>
    <li><span class="shortcut">l</span>: Anar a la p&agrave;gina seg&uuml;ent:</li>
   </ul>
   </div>
 </div>
 <div id="favcounter" name="favcounter" class="hidden"><span></span></div>
 <div id="navmenu" class="navmenu"><ul class="webnav"><li><a href="../../../index.html" title="Anar a l&#39;&iacute;ndex general">Inici</a></li><li><a href="../introduccio.html">Llenguatges de guions i automatització de tasques</a></li><li><a href="continguts.html">Llenguatges de guions de shell</a></li><li>Activitats</li></ul></div>
	<div id="content" lang="ca" class="hyphenate text">
     <article lang="ca" class="sheet">
        <h1><a id="activitats"> Activitats </a></h1>
    	
<h2><a id="els_shells_dels_sistemes_de_tipus_unix" >Els shells dels sistemes de tipus Unix</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és comprovar aspectes sobre els <em>shells</em> disponibles en els sistemes de tipus Unix. 
</p>

<p>
Obriu un terminal en una distribució de Linux Debian i comproveu:
</p>
<ol>
<li class="level1"><div class="li"> El <em>shell</em> amb el qual esteu treballant en iniciar una sessió amb el vostre usuari.</div>
</li>
<li class="level1"><div class="li"> Els <em>shells</em> vàlids per iniciar sessió en el vostre sistema.</div>
</li>
<li class="level1"><div class="li"> El <em>shell</em> per defecte que s’inicia per a l’usuari <em>root</em> del sistema.</div>
</li>
</ol>

<p>
<form action=""><div class="solution ioccontent">
<p>
A la distribució de Linux Debian accedim a un terminal des d’<em>Aplicacions</em> &gt; <em>Accessoris</em> &gt; <em>Terminal</em>.
</p>

<p>
En iniciar la sessió podem saber el <em>shell</em> amb el qual estem treballant executant:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"><span class="kw3">echo</span> <span class="re1">$SHELL</span></div></li></ol></pre>

<p>
El <em>shell</em> ens mostra el contingut de la variable <em>SHELL</em>, per exemple:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"><span class="sy0">/</span>bin<span class="sy0">/</span><span class="kw2">bash</span></div></li></ol></pre>

<p>
El fitxer <code>/etc/shells</code> dóna informació sobre els <em>shells</em> vàlids per iniciar sessió en un sistema Unix determinat. Que siguin vàlids no significa que estiguin instal·lats. Si es volen utilitzar cal que prèviament ens assegurem que estan instal·lats en el sistema. Executem:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"><span class="kw2">cat</span> <span class="sy0">/</span>etc<span class="sy0">/</span>shells</div></li></ol></pre>

<p>
El <em>shell</em> per defecte que s’executa quan un usuari inicia sessió queda definit en el fitxer <code>/etc/passwd</code>, en el darrer camp de la línia corresponent a l’usuari. Executem:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"><span class="kw2">grep</span> root <span class="sy0">/</span>etc<span class="sy0">/</span><span class="kw2">passwd</span></div></li></ol></pre>

<p>
El darrer camp ens mostra el <em>shell</em> d’inici de sessió de l’usuari:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1">root:x:<span class="nu0">0</span>:<span class="nu0">0</span>:root:<span class="sy0">/</span>root:<span class="sy0">/</span>bin<span class="sy0">/</span><span class="kw2">bash</span></div></li></ol></pre>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

<h2><a id="generacio_de_noms_de_fitxers_amb_expressions_regulars" >Generació de noms de fitxers amb expressions regulars</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és utilitzar expressions regulars en la generació de noms de fitxers.
</p>
<ol>
<li class="level1"><div class="li"> Obriu un terminal amb Bash i situeu-vos al directori /bin del sistema. Executeu l’ordre <em>ls</em> amb les expressions regulars necessàries per llistar els noms dels fitxers que:</div>
<ul>
<li class="level2"><div class="li"> Comencin per <em>z</em>.</div>
</li>
<li class="level2"><div class="li"> Comencin per <em>z</em> i acabin per <em>e</em>.</div>
</li>
<li class="level2"><div class="li"> Comencin per <em>c</em> i tinguin al menys dos caràcters.</div>
</li>
<li class="level2"><div class="li"> Comencin per un caràcter alfabètic (minúscules) i tinguin només tres caràcters.</div>
</li>
<li class="level2"><div class="li"> Comencin per <em>d</em>, <em>c</em> o<em> l</em> i tinguin només tres caràcters. </div>
</li>
<li class="level2"><div class="li"> Comencin per <em>d</em>, <em>c</em> o <em>l</em>, tinguin al menys tres caràcters i acabin per <em>s</em> o <em>d</em>.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> Digueu quin és el significat de les següents expressions regulars utilitzades en la generació de noms de fitxers:</div>
<ul>
<li class="level2"><div class="li"> [aAbB]</div>
</li>
<li class="level2"><div class="li"> [aA][bB]</div>
</li>
<li class="level2"><div class="li"> [A”-“Z]*</div>
</li>
<li class="level2"><div class="li"> [A-Z]*</div>
</li>
<li class="level2"><div class="li"> [!AZ]*</div>
</li>
<li class="level2"><div class="li"> [AZ]??</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> Digueu quines expressions regulars podeu utilitzar per a la generació dels noms de fitxers següents:</div>
<ul>
<li class="level2"><div class="li"> Tots els noms que comencin per punt i la segona lletra dels quals sigui una vocal.</div>
</li>
<li class="level2"><div class="li"> Tots els noms que tinguin cinc caràcters i el darrer no sigui un caràcter numèric.</div>
</li>
<li class="level2"><div class="li"> Tots els noms que comencin per un caràcter alfabètic o numèric.</div>
</li>
</ul>
</li>
</ol>

<p>
<form action=""><div class="solution ioccontent">
<p>
<strong>1.</strong> Les ordres són les següents:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"><span class="kw3">cd</span> <span class="sy0">/</span>bin</div></li><li class="li1"><div class="de1"><span class="kw2">ls</span> z<span class="sy0">*</span></div></li><li class="li1"><div class="de1"><span class="kw2">ls</span> z<span class="sy0">*</span>e</div></li><li class="li1"><div class="de1"><span class="kw2">ls</span> c?<span class="sy0">*</span></div></li><li class="li1"><div class="de1"><span class="kw2">ls</span> <span class="br0">&#91;</span>a-z<span class="br0">&#93;</span>??</div></li><li class="li1"><div class="de1"><span class="kw2">ls</span> <span class="br0">&#91;</span>dcl<span class="br0">&#93;</span>??</div></li><li class="li1"><div class="de1"><span class="kw2">ls</span> <span class="br0">&#91;</span>dcl<span class="br0">&#93;</span>?<span class="br0">&#91;</span>sd<span class="br0">&#93;</span></div></li></ol></pre>

<p>
<strong>2.</strong> El significat de les expressions regulars és:
</p>
<ul>
<li class="level1"><div class="li"> <code>[aAbB]</code> Un sol caràcter que sigui <em>a</em>, <em>A</em>, <em>b</em> o <em>B</em>.</div>
</li>
<li class="level2"><div class="li"> <code>[aA][bB]</code> Dos caràcters, el primer, <em>a</em> o <em>A</em>, i el segon, <em>b</em> o <em>B</em>.</div>
</li>
<li class="level2"><div class="li"> <code>[A”-“Z]*</code> Qualsevol cadena que comenci per <em>A</em>, <em>-</em> o <em>Z</em>.</div>
</li>
<li class="level2"><div class="li"> <code>[A-Z]*</code> Qualsevol cadena que comenci per lletra majúscula.</div>
</li>
<li class="level2"><div class="li"> <code>[!AZ]*</code> Qualsevol cadena que no comenci per <em>A</em> ni <em>Z</em>.</div>
</li>
<li class="level2"><div class="li"> <code>[AZ]??</code> Qualsevol cadena de tres caràcters que comenci per <em>A</em> o <em>Z</em>.</div>
</li>
</ul>

<p>
<strong>3.</strong> Les expressions regulars que podem utilitzar són:
</p>
<ul>
<li class="level1"><div class="li"> Tots els noms que comencin per punt i la segona lletra dels quals sigui una vocal: <code>.[aeiou]*</code></div>
</li>
<li class="level2"><div class="li"> Tots els noms que tinguin cinc caràcters i el darrer dels quals no sigui un caràcter numèric: <code>????[!0-9]</code></div>
</li>
<li class="level2"><div class="li"> Tots els noms que comencin per un caràcter alfabètic o numèric: <code>[a-bA-B0-9]*</code></div>
</li>
</ul>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

<h2><a id="variables_d_entorn" >Variables d’entorn</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activat és comprovar el valor de les variables d’entorn que hi ha predefinides en iniciar una sessió amb Bash.
</p>

<p>
Obriu una sessió amb Bash i consulteu el valor de les variables d’entorn que estan definides quan inicieu una sessió.
</p>

<p>
Quin significat tenen les variables <em>HOME</em>, <em>LOGNAME</em>, <em>PS1</em>, <em>SHELL</em>, <em>PATH</em> i <em>RANDOM</em>? Consulteu el valor de cada una d’elles per separat.
</p>

<p>
<form action=""><div class="solution ioccontent">
<p>
Per consultar el valor de les variables d’entorn en la nostra sessió executem:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"><span class="kw2">env</span></div></li></ol></pre>

<p>
El significat de les variables és:
</p>
<ul>
<li class="level1"><div class="li"> <em>HOME</em>: directori d’inici de l’usuari.</div>
</li>
<li class="level1"><div class="li"> <em>LOGNAME</em>: nom de l’usuari connectat.</div>
</li>
<li class="level1"><div class="li"> <em>PS1</em>: indicador d’ordres (<em>prompt</em>) primari.</div>
</li>
<li class="level1"><div class="li"> <em>SHELL</em>: intèrpret d’ordres utilitzat.</div>
</li>
<li class="level1"><div class="li"> <em>PATH</em>: llista de directoris on el <em>shell</em> ha de localitzar els programes quan els escrivim sense indicar el camí on es troben.</div>
</li>
<li class="level1"><div class="li"> <em>RANDOM</em>: número aleatori.</div>
</li>
</ul>

<p>
Per consultar el valor de cada una de les variables per separat executem:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"><span class="kw3">echo</span> <span class="re1">$NOM_VARIABLE</span></div></li></ol></pre>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

<h2><a id="substitucio_d_ordres" >Substitució d&#039;ordres</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és utilitzar el mecanisme de substitució d’ordres que proporciona el <em>shell</em> Bash.
</p>

<p>
Doneu valor a les variables següents fent ús de la substitució d’ordres i visualitzeu el seu valor amb l’ordre <em>echo</em>:
</p>
<ul>
<li class="level1"><div class="li"> Una variable anomenada <em>NOM</em> amb el nom del vostre usuari. Utilitzeu l’ordre <em>whoami</em>.</div>
</li>
<li class="level1"><div class="li"> Una variable anomenada <em>SERVIDOR</em> amb el nom del vostre sistema. Utilitzeu l’ordre <em>hostname</em>.</div>
</li>
<li class="level1"><div class="li"> Una variable anomenada <em>DATA</em> amb la data actual amb format mm/dd/aa. Utilitzeu l’ordre <em>date</em> amb el modificador necessari.</div>
</li>
<li class="level1"><div class="li"> Una variable anomenada <em>HORA</em> amb l’hora actual amb format hh:mm:ss. Utilitzeu l’ordre <em>date</em> amb el modificador necessari.</div>
</li>
<li class="level1"><div class="li"> Una variable anomenada <em>DIA</em> amb el dia del mes (01… 31). Utilitzeu l’ordre <em>date</em> amb el modificador necessari.</div>
</li>
<li class="level1"><div class="li"> Una variable anomenada <em>SENARS</em> amb la llista dels nombres senars que hi ha entre el 0 i el 20.</div>
</li>
<li class="level1"><div class="li"> Una variable anomenada <em>FITXERS</em> amb els fitxers del vostre directori d’inici. Utilitzeu l’ordre <em>ls</em>.</div>
</li>
</ul>

<p>
<form action=""><div class="solution ioccontent"><pre class="code bash"><ol><li class="li1"><div class="de1"><span class="re2">NOM</span>=$<span class="br0">&#40;</span><span class="kw2">whoami</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="kw3">echo</span> <span class="re1">$NOM</span></div></li><li class="li1"><div class="de1"><span class="re2">SERVIDOR</span>=$<span class="br0">&#40;</span><span class="kw2">hostname</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="kw3">echo</span> <span class="re1">$SERVIDOR</span></div></li><li class="li1"><div class="de1"><span class="re2">DATA</span>=$<span class="br0">&#40;</span><span class="kw2">date</span> +<span class="sy0">%</span>x<span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="kw3">echo</span> <span class="re1">$DATA</span></div></li><li class="li1"><div class="de1"><span class="re2">DATA</span>=$<span class="br0">&#40;</span><span class="kw2">date</span> +<span class="sy0">%</span>X<span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="kw3">echo</span> <span class="re1">$DATA</span></div></li><li class="li1"><div class="de1"><span class="re2">DATA</span>=$<span class="br0">&#40;</span><span class="kw2">date</span> +<span class="sy0">%</span>d<span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="kw3">echo</span> <span class="re1">$DATA</span></div></li><li class="li1"><div class="de1"><span class="re2">SENARS</span>=$<span class="br0">&#40;</span><span class="kw2">seq</span> <span class="nu0">1</span> <span class="nu0">2</span> <span class="nu0">20</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="kw3">echo</span> <span class="re1">$SENARS</span></div></li><li class="li1"><div class="de1"><span class="re2">FITXERS</span>=$<span class="br0">&#40;</span><span class="kw2">ls</span> ~<span class="br0">&#41;</span></div></li><li class="li1"><div class="de1"><span class="kw3">echo</span> <span class="re1">$FITXERS</span></div></li></ol></pre>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

<h2><a id="filtres_i_pipelines" >Filtres i pipelines</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és fer <em>pipelines</em> utilitzant les ordres d’Unix que anomenem <em>filtres</em> (<em>grep</em>, <em>cut</em>, <em>sort</em>, <em>wc</em>, etc.).
</p>

<p>
Obriu una sessió amb Bash i mireu amb l’ordre <em>cat</em> el fitxer /etc/passwd. Aquest fitxer conté informació de tots els usuaris que tenen un compte en el sistema. Cada línia correspon a un usuari diferent. Un exemple d’una línia corresponent a un usuari en aquest fitxer podria ser la següent:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1">maria:x:<span class="nu0">1010</span>:<span class="nu0">1004</span>:Maria Claret:<span class="sy0">/</span>home<span class="sy0">/</span>maria:<span class="sy0">/</span>bin<span class="sy0">/</span><span class="kw2">bash</span></div></li></ol></pre>

<p>
Cada un dels camps d’aquestes línies venen delimitats pel caràcter <em>: </em>i tenen el significat següent:
</p>
<ul>
<li class="level1"><div class="li"> Camp 1: nom d’usuari (a l’exemple: Maria).</div>
</li>
<li class="level1"><div class="li"> Camp 2: password codificat en forma d’<em>x</em>.</div>
</li>
<li class="level1"><div class="li"> Camp 3: identificador numèric de l’usuari (a l’exemple: 1010).</div>
</li>
<li class="level1"><div class="li"> Camp 4: identificador numèric del grup primari al qual pertany l’usuari (a l’exemple: 1004).</div>
</li>
<li class="level1"><div class="li"> Camp 5: informació de l’usuari (a l’exemple: Maria Claret).</div>
</li>
<li class="level1"><div class="li"> Camp 6: directori de treball de l’usuari (a l’exemple: /home/maria).</div>
</li>
<li class="level1"><div class="li"> Camp 7: intèrpret d’ordres utilitzat per aquest usuari (a l’exemple: /bin/bash).</div>
</li>
</ul>

<p>
Utilitzant les ordres que anomenem <em>filtres</em> i tenint en compte el format de les línies del fitxer /etc/passwd, resoleu les qüestions següents amb <em>pipelines</em>:
</p>

<p>
Mostreu el contingut del fitxer /etc/passwd ordenat alfabèticament i fent una pausa cada cop que s’omple la pantalla.
</p>
<ol>
<li class="level1"><div class="li"> Compteu el nombre d’usuaris donats d’alta al sistema.</div>
</li>
<li class="level1"><div class="li"> Comproveu si existeix o no una entrada del vostre usuari en aquest fitxer.</div>
</li>
<li class="level1"><div class="li"> Llisteu tots els usuaris del mateix grup que el vostre que existeixin en aquest fitxer.</div>
</li>
<li class="level1"><div class="li"> Llisteu només els noms d’usuari ordenats alfabèticament.</div>
</li>
<li class="level1"><div class="li"> Llisteu només els identificadors numèrics d’usuari ordenats numèricament.</div>
</li>
<li class="level1"><div class="li"> Llisteu només els diferents <em>shells</em> usats pels usuaris del sistema.</div>
</li>
<li class="level1"><div class="li"> Llisteu els noms dels usuari que tinguin un <em>shell</em> d’inici diferent de /bin/bash.</div>
</li>
</ol>

<p>
<form action=""><div class="solution ioccontent"><pre class="code bash"><ol><li class="li1"><div class="de1"><span class="kw2">cat</span> <span class="sy0">/</span>etc<span class="sy0">/</span><span class="kw2">passwd</span> <span class="sy0">|</span> <span class="kw2">wc</span> <span class="re5">-l</span></div></li><li class="li1"><div class="de1"><span class="kw2">grep</span> ^<span class="re1">$USER</span> <span class="sy0">/</span>etc<span class="sy0">/</span><span class="kw2">passwd</span></div></li><li class="li1"><div class="de1"><span class="kw2">grep</span> ^.<span class="sy0">*</span>:.<span class="sy0">*</span>:<span class="re1">$GROUPS</span> <span class="sy0">/</span>etc<span class="sy0">/</span><span class="kw2">passwd</span></div></li><li class="li1"><div class="de1"><span class="kw2">cut</span> <span class="re5">-f1</span> -d: <span class="sy0">/</span>etc<span class="sy0">/</span><span class="kw2">passwd</span> <span class="sy0">|</span> <span class="kw2">sort</span></div></li><li class="li1"><div class="de1"><span class="kw2">cut</span> <span class="re5">-f3</span> -d: <span class="sy0">/</span>etc<span class="sy0">/</span><span class="kw2">passwd</span> <span class="sy0">|</span> <span class="kw2">sort</span> <span class="re5">-n</span></div></li><li class="li1"><div class="de1"><span class="kw2">cut</span> <span class="re5">-f7</span> -d: <span class="sy0">/</span>etc<span class="sy0">/</span><span class="kw2">passwd</span> <span class="sy0">|</span> <span class="kw2">sort</span> <span class="re5">-u</span></div></li><li class="li1"><div class="de1"><span class="kw2">cut</span> -f1,<span class="nu0">7</span> -d: <span class="sy0">/</span>etc<span class="sy0">/</span><span class="kw2">passwd</span> <span class="sy0">|</span> <span class="kw2">grep</span> <span class="re5">-v</span> <span class="kw2">bash</span> <span class="sy0">|</span> <span class="kw2">cut</span> <span class="re5">-f1</span> -d:</div></li></ol></pre>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

	 </article>
     <div class="pnpage">
      <div class="left-corner"></div>
      <div id="prevpage">Anar a la p&agrave;gina anterior:<br /><a href="../../../WebContent/u4/a1/continguts.html">Llenguatges de guions de shell</a></div>
      <div id="nextpage">Anar a la p&agrave;gina seg&uuml;ent:<br /><a href="../../../WebContent/u4/a1/exercicis.html">Exercicis d'autoavaluació</a></div>
      <div class="right-corner"></div>
     </div>
    </div>
    <footer class="footer">
      <div><small>Aquest document està subjecte a una llicència oberta de Creative Commons, es reserva el dret de reconeixement de l'autoria, d'exigir que no se'n faci cap mena d'ús comercial. Si altereu o transformeu aquesta obra, o en genereu obres derivades, només podeu distribuir l'obra generada amb una llicència idèntica a aquesta.</small></div>
    </footer>
 </div>
 <div id="back_preview" class="hidden"></div>
 <div id="preview" class="hidden">
  <div class="prevcontent"></div>
 </div>
 <div id="help-tooltips">
  <div id="help-toc" class="hidden tooltip"><span>Taula de continguts:</span> Ofereix una vista general de l&#39;estructura del m&ograve;dul, que us facilitar&agrave; la navegaci&oacute; a trav&eacute;s dels seus continguts.<span class="arrow-left"></span></div> 
  <div id="help-settings" class="hidden tooltip"><span>Opcions de format:</span> Permet configurar el format de lectura a partir de les vostres prefer&egrave;ncies, modificant la mida de la lletra, el color del fons, l&#39;amplada de la p&agrave;gina o l&#39;ocultaci&oacute; dels continguts complementaris, entre d&#39;altres.<span class="arrow-left"></span></div>
  <div id="help-printer" class="hidden tooltip"><span>Imprimir:</span>  Envia el contingut seleccionat a la impressora.<span class="arrow-left"></span></div>
  <div id="help-favorites" class="hidden tooltip"><span>Prefereits:</span> Permet desar aquelles parts del contingut a les que us interessi accedir en un moment posterior; us permetr&agrave; anar creant un repositori personalitzat de les seccions que considereu m&eacute;s rellevants. Un cop l&#39;hageu començat a fer servir se us mostrar&agrave; a sota un comptador que us informar&agrave; del nombre de preferits que s&#39;hagin emmagatzemat fins al moment.<span class="arrow-left"></span></div>
  <div id="help-favcounter" class="hidden tooltip"><span>Comptador i llistat de preferits:</span> Indica el nombre de preferits que s&#39;han desat fins el moment; clicant damunt seu accedireu al llistat de preferits, i a trav&eacute;s d&#39;aquest podreu accedir directament als continguts que hageu emmagatzemat.<span class="arrow-left"></span></div>
  <div id="help-help_icon" class="hidden tooltip"><span>Ajuda:</span> Aquesta opci&oacute; activa la informaci&oacute; de les funcionalitats del web tot situant el punter del ratol&iacute; al damunt dels diferents &iacute;tems.<span class="arrow-left"></span></div>
  <div id="help-sidebar-hide" class="hidden tooltip"><span>Mostrar/Ocultar barra lateral:</span>  Deshabilita la barra d&#39;opcions, permetent la seva recuperaci&oacute; quan es desitgi.<span class="arrow-left"></span></div>
  <div id="help-search" class="hidden tooltip"><span>Cerca:</span>  Introdu&iuml;u les paraules clau sobre aquells conceptes que desitgeu localitzar en els continguts del m&ograve;dul. Tamb&eacute; podeu excloure un terme de la cerca tot afegint-hi el signe &#8220;-&#8221; al davant.<span class="arrow-top"></span></div>
  <div id="help-header" class="hidden tooltip"><span>Cap&ccedil;alera:</span>  Indica l&#39;apartat o secci&oacute; que es mostra en pantalla. Tingueu present que les capçaleres de segon, tercer i quart nivell tamb&eacute; es poden desar com a marcadors.<span class="arrow-left"></span></div>
</div> 
</body>
</html>
