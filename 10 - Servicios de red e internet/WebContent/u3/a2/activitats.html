<!doctype html>

<!--[if lt IE 7 ]> <html class="ie ie6 no-js" lang="ca"> <![endif]-->
<!--[if IE 7 ]>    <html class="ie ie7 no-js" lang="ca"> <![endif]-->
<!--[if IE 8 ]>    <html class="ie ie8 no-js" lang="ca"> <![endif]-->
<!--[if IE 9 ]>    <html class="ie ie9 no-js" lang="ca"> <![endif]-->
<!--[if gt IE 9]><!--><html class="no-js" lang="ca"><!--<![endif]-->
<!-- the "no-js" class is for Modernizr. -->

<head id="www-sitename-com" data-template-set="html5-reset">

	<meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html">
        
	<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
	<title>Serveis de Xarxa i Internet</title>
	
<!-- <meta name="title" content=""> --> 
	<meta name="description" content="">
	<!-- Google will often use this as its description of your page/site. Make it good. -->
	
	<meta name="google-site-verification" content="">
	<!-- Speaking of Google, don't forget to set your site up: http://google.com/webmasters -->
	
	<meta name="author" content="Institut Obert de Catalunya">
	<meta name="Copyright" content="Copyright Institut Obert de Catalunya 2011. All Rights Reserved.">

	<!-- Dublin Core Metadata : http://dublincore.org/ -->
	<meta name="DC.title" content="Serveis de Xarxa i Internet">
	<meta name="DC.subject" content="Informàtica i comunicacions">
	<meta name="DC.creator" content="Institut Obert de Catalunya">
	
	<!--  Mobile Viewport Fix
	j.mp/mobileviewport & davidbcalhoun.com/2010/viewport-metatag 
	device-width : Occupy full width of the screen in its current orientation
	initial-scale = 1.0 retains dimensions instead of zooming out if page height > device height
	maximum-scale = 1.0 retains dimensions instead of zooming in if page width < device width
	-->
	<!-- Uncomment to use � use thoughtfully!
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
	-->

	<link rel="shortcut icon" href="../../../img/favicon.ico">
	<!-- This is the traditional favicon.
		 - size: 16x16 or 32x32
		 - transparency is OK
		 - see wikipedia for info on browser support: http://mky.be/favicon/ -->
		 
	<link rel="apple-touch-icon" href="../../../img/apple-touch-icon.png">
	<!-- The is the icon for iOS's Web Clip.
		 - size: 57x57 for older iPhones, 72x72 for iPads, 114x114 for iPhone4's retina display (IMHO, just go ahead and use the biggest one)
		 - To prevent iOS from applying its styles to the icon name it thusly: apple-touch-icon-precomposed.png
		 - Transparency is not recommended (iOS will put a black BG behind the icon) -->
	
	<!-- CSS: screen, mobile & print are all in the same file -->
	<link rel="stylesheet" href="../../../_/css/style.css">

	<!-- CSS: jQuery UI -->
	<link rel="stylesheet" href="../../../_/css/jquery-ui.css">
	
	<!-- all our JS is at the bottom of the page, except for Modernizr. -->
	<script src="../../../_/js/modernizr-1.7.min.js"></script>
	<script src="../../../_/js/Hyphenator.js" type="text/javascript"></script>
	<script type="text/javascript">
	   Hyphenator.config({
		minwordlength : 4
	   });
	   Hyphenator.run();
	</script>
    <script src="../../../_/js/build.js" type="text/javascript"></script>
</head>

<body class="style-newspaper">

<div class="wrapper"><!-- not needed? up to you: http://camendesign.com/code/developpeurs_sans_frontieres -->

	<header id="header">
		<div class="head"><a href="http://ioc.gencat.cat"><img src="../../../img/logo.png" alt="Institut Obert de Catalunya"/></a><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/es/deed.ca"><img src="../../../img/license.png" alt="Llic&egrave;ncia" class="license"/></a></div>
		<div class="headdocument"><a href="../../../index.html">Serveis de Xarxa i Internet</a></div>
        <div id="search" class="search" name="search">
         <form id="frmsearch" action="../../../search.html" method="get">
          <input type="text" name="q"/>
        </form>
        </div>
	</header>
   <div id="upbutton" class="upbutton" style="display:none;"><img src="../../../img/uparrow.png" alt="Pujar a l'inici de p&agrave;gina"/></div>
   <aside id="aside">
    <div id="menu">
      <ul>
       <li name="toc"><div><img src="../../../img/toc.png" alt="&Iacute;ndex"/></div></li>
       <li name="settings"><div><img src="../../../img/settings.png" alt="Configuraci&oacute;"/></div></li>
       <li name="printer"><div><img src="../../../img/printer.png" alt="Imprimir"/></div></li>
       <li name="favorites"><div><img src="../../../img/favorites.png" alt="Favorits"/></div></li>
       <li name="help_icon" class="help_icon"><div><img src="../../../img/help_icon.png" alt="Ajuda"/></div></li>
      </ul>
     </div>
   </aside>
   <div id="sidebar-hide" name="sidebar-hide"><img src="../../../img/arrows.png"/></div>
   <section>
     <div id="toc" class="hidden">
      <div class="menucontent">
        <ul>
        <li id="u3" class="parentnode"><p><a class="unit" href="../../../WebContent/u3/introduccio.html">3. Correu electrònic i missatgeria</a></p><ul class="expander"><li id="u3introduccio"><a href="../../../WebContent/u3/introduccio.html">Introducció</a></li><li id="u3resum"><a href="../../../WebContent/u3/resum.html">Resum</a></li><li id="u3resultats"><a href="../../../WebContent/u3/resultats.html">Resultats d'aprenentatge</a></li><li id="u3referencies"><a href="../../../WebContent/u3/referencies.html">Referències</a></li><li id="u3a1" class="tocsection"><p id='u3a1continguts'><a class="section" href="../../../WebContent/u3/a1/continguts.html">Instal·lació i administració del servei de correu electrònic</a><span class="buttonexp"></span></p><ul><li id="u3a1activitats"><a href="../../../WebContent/u3/a1/activitats.html">Activitats</a></li><li id="u3a1exercicis"><a href="../../../WebContent/u3/a1/exercicis.html">Exercicis</a></li><li id="u3a1annexos"><a href="../../../WebContent/u3/a1/annexos.html">Annexos</a></li></ul></li><div data-parent-id='u3a1' class='tocssection hidden'><div class="toc"><ul><li><a href="../../../WebContent/u3/a1/continguts.html#protocols_de_correu_electronic">Protocols de correu electrònic</a></li><li><a href="../../../WebContent/u3/a1/continguts.html#instal_lacio_d_un_servidor">Instal·lació d'un servidor</a></li><li><a href="../../../WebContent/u3/a1/continguts.html#acces_remot_al_correu">Accés remot al correu</a></li><li><a href="../../../WebContent/u3/a1/continguts.html#correu_encriptat_i_signat">Correu encriptat i signat</a></li><li><a href="../../../WebContent/u3/a1/continguts.html#servidor_de_correu_segur">Servidor de correu segur</a></li></ul></div></div><li id="u3a2" class="tocsection"><p id='u3a2continguts'><a class="section" href="../../../WebContent/u3/a2/continguts.html">Instal·lació i administració de serveis de missatgeria instantània, notícies i llistes de distribuci...</a><span class="buttonexp"></span></p><ul><li id="u3a2activitats"><a href="../../../WebContent/u3/a2/activitats.html">Activitats</a></li><li id="u3a2exercicis"><a href="../../../WebContent/u3/a2/exercicis.html">Exercicis</a></li><li id="u3a2annexos"><a href="../../../WebContent/u3/a2/annexos.html">Annexos</a></li></ul></li><div data-parent-id='u3a2' class='tocssection hidden'><div class="toc"><ul><li><a href="../../../WebContent/u3/a2/continguts.html#missatgeria_instantania">Missatgeria instantània</a></li><li><a href="../../../WebContent/u3/a2/continguts.html#llistes_de_distribucio">Llistes de distribució</a></li><li><a href="../../../WebContent/u3/a2/continguts.html#servei_de_noticies">Servei de notícies</a></li></ul></div></div></ul></li><li id="" class="indexnode"><p><a href="../../../index.html">Anar a l&#39;&iacute;ndex general</a></p></li>
        </ul>
      </div>
    </div>
   </section>
   <section>
   <div id="settings" class="hidden">
    <div class="menucontent">
     <div class="allsettings">
     <div class="settings">
      <label>Font i Color</label>
		<div class="setting-option">
	        <ul class="fontBackground">
				<li id="style-newspaper" title="Newspaper" class="appearance-style-newspaper"><span>Newspaper</span></li>
                <li id="style-novel" title="Novel" class="appearance-style-novel"><span>Novel</span></li>
                <li id="style-ebook" title="eBook" class="appearance-style-ebook"><span>eBook</span></li>
				<li id="style-inverse" title="Inverse" class="appearance-style-inverse active"><span>Inverse</span></li>
				<li id="style-athelas" title="Athelas" class="appearance-style-athelas"><span>Athelas</span></li>
			</ul>
		</div>
     </div>
	<div class="settings">
      <label>Amplada</label>
		<div class="setting-option">
	        <div id="slider-width"></div>
		</div>
     </div>
     <div class="settings">
      <label>Mida de la font</label>
		<div class="setting-option">
	        <div id="slider-font"></div>
		</div>
     </div>
     <div class="settings">
      <label>Mida de la font</label>
	  <div class="setting-option">
       <form action="" class="sett-options">
		<ul>
		    <li><input type="checkbox" id="secondary-content" /><label for="secondary-content">Mostra recursos complementaris</label></li>
		    <li><input type="checkbox" id="main-images" /><label for="main-images">Mostra imatges</label></li>
		    <li><input type="checkbox" id="text-alignment" /><label for="text-alignment">Text justificat</label></li>
			<li><input type="checkbox" id="text-hyphen" /><label for="text-hyphen">Partici&oacute; sil·l&agrave;bica</label></li>
		</ul>
       </form>
	  </div>
     </div>
     </div>
    </div>
   </div>
   </section>
 <section>
 <div id="favorites" class="hidden"></div>
 </section>   
 <div id="bridge" class="hidden"></div>
 <div id="help" class="hidden">
  <div class="helptitle">Dreceres del teclat<hr></div>
  <div class="helpsection"><span>General</span>
   <ul>
    <li><span class="shortcut">g</span>: Anar al men&uacute; de navegaci&oacute;</li>
    <li><span class="shortcut">o</span>: Anar a opcions</li>
    <li><span class="shortcut">s</span>: Guardar la p&agrave;gina actual a favorits</li>
    <li><span class="shortcut">p</span>: Imprimir la p&agrave;gina actual</li>
    <li><span class="shortcut">?</span>: Mostrar/Ocultar l&#39;ajuda</li>
   </ul>
  </div>
  <div class="helpsection"><span>Navegaci&oacute;</span>
   <ul>
    <li><span class="shortcut">i</span>: Anar a l&#39;&iacute;ndex general</li>
    <li><span class="shortcut">t</span>: Anar a l&#39;inici de p&agrave;gina</li>
    <li><span class="shortcut">b</span>: Anar al final de p&agrave;gina</li>
    <li><span class="shortcut">j</span>: Anar cap endavant dintre la p&agrave;gina</li>
    <li><span class="shortcut">k</span>: Anar cap enrere dintre la p&agrave;gina</li>
    <li><span class="shortcut">h</span>: Anar a la p&agrave;gina anterior:</li>
    <li><span class="shortcut">l</span>: Anar a la p&agrave;gina seg&uuml;ent:</li>
   </ul>
   </div>
 </div>
 <div id="favcounter" name="favcounter" class="hidden"><span></span></div>
 <div id="navmenu" class="navmenu"><ul class="webnav"><li><a href="../../../index.html" title="Anar a l&#39;&iacute;ndex general">Inici</a></li><li><a href="../introduccio.html">Correu electrònic i missatgeria</a></li><li><a href="continguts.html">Instal·lació i administració de serveis de missatgeria instantània, no...</a></li><li>Activitats</li></ul></div>
	<div id="content" lang="ca" class="hyphenate text">
     <article lang="ca" class="sheet">
        <h1><a id="activitats"> Activitats </a></h1>
    	
<h2><a id="identificacio_dels_rfc_relatius_al_protocol_xmpp" >Identificació dels RFC relatius al protocol XMPP</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és familiaritzar-se amb el format dels documents <acronym title="Request for Comments">RFC</acronym>, que descriuen els estàndards d’internet, i aprendre a navegar per l’estructura de documentació de l’IETF.
</p>

<p>
Descarregueu de l’IETF els <acronym title="Request for Comments">RFC</acronym> corresponents al protocol XMPP. Anoteu en una llista el número i el nom dels <acronym title="Request for Comments">RFC</acronym> actuals.
</p>

<p>
<form action=""><div class="solution ioccontent">
<p>
En aquestes adreces podeu consultar les especificacions de l’estàndard XMPP: 
</p>

<p>
<a href="http://www.ietf.org/rfc/rfc6120.txt" class="urlextern" title="http://www.ietf.org/rfc/rfc6120.txt"  rel="nofollow">RFC 6120</a>
</p>

<p>
<a href="http://www.ietf.org/rfc/rfc6121.txt" class="urlextern" title="http://www.ietf.org/rfc/rfc6121.txt"  rel="nofollow">RFC 6121</a>
</p>

<p>
<a href="http://www.ietf.org/rfc/rfc7622.txt" class="urlextern" title="http://www.ietf.org/rfc/rfc7622.txt"  rel="nofollow">RFC 7622</a>
</p>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

<h2><a id="instal_lacio_i_configuracio_un_servidor_de_missatgeria_instantania_amb_ejjaberd" >Instal·lació i configuració un servidor de missatgeria instantània amb ejjaberd</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és instal·lar i configurar el servidor ejabberd de missatgeria instantània que utilitza el protocol XMPP. Com que el protocol XMPP és obert, utilitzarem dos clients diferents per a les proves: Gajim i Psi.
</p>

<p>
Realitzeu els següents passos:
</p>
<ol>
<li class="level1"><div class="li"> Instal·lació i configuració del servidor ejabberd de missatgeria instantània.</div>
</li>
<li class="level1"><div class="li"> Verificació del funcionament del servidor de missatgeria instantània amb el client Gajim.</div>
</li>
</ol>

<p>
<form action=""><div class="solution ioccontent">
<p>
<strong>1. Instal·lació i configuració del servidor ejabberd de missatgeria instantània</strong>
</p>

<p>
Instal·lem ejabberd:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"># apt-get install ejabberd</div></li><li class="li1"><div class="de1">S'està llegint la llista de paquets… Fet </div></li><li class="li1"><div class="de1">S'està construint l'arbre de dependències       </div></li><li class="li1"><div class="de1">S'està llegint la informació de l'estat… Fet</div></li><li class="li1"><div class="de1">S'instal·laran els següents paquets extres:</div></li><li class="li1"><div class="de1">  erlang-asn1 erlang-base erlang-crypto erlang-edoc erlang-goldrush erlang-inets erlang-jiffy</div></li><li class="li1"><div class="de1">  erlang-lager erlang-mnesia erlang-odbc erlang-p1-cache-tab erlang-p1-iconv</div></li><li class="li1"><div class="de1">  erlang-p1-stringprep erlang-p1-tls erlang-p1-utils erlang-p1-xml erlang-p1-yaml erlang-p1-zlib</div></li><li class="li1"><div class="de1">  erlang-proper erlang-public-key erlang-runtime-tools erlang-ssl erlang-syntax-tools</div></li><li class="li1"><div class="de1">  erlang-xmerl libodbc1 libsctp1</div></li><li class="li1"><div class="de1">Paquets suggerits:</div></li><li class="li1"><div class="de1">  apparmor apparmor-utils libunix-syslog-perl yamllint ejabberd-contrib erlang-luerl</div></li><li class="li1"><div class="de1">  erlang-p1-oauth2 erlang-p1-mysql erlang-p1-pam erlang-p1-pgsql erlang-p1-sip erlang-p1-stun</div></li><li class="li1"><div class="de1">  erlang-p1-sqlite3 erlang-redis-client erlang erlang-manpages erlang-doc erlang-tools libmyodbc</div></li><li class="li1"><div class="de1">  odbc-postgresql tdsodbc unixodbc-bin lksctp-tools</div></li><li class="li1"><div class="de1">S'instal·laran els paquets NOUS següents:</div></li><li class="li1"><div class="de1">  ejabberd erlang-asn1 erlang-base erlang-crypto erlang-edoc erlang-goldrush erlang-inets</div></li><li class="li1"><div class="de1">  erlang-jiffy erlang-lager erlang-mnesia erlang-odbc erlang-p1-cache-tab erlang-p1-iconv</div></li><li class="li1"><div class="de1">  erlang-p1-stringprep erlang-p1-tls erlang-p1-utils erlang-p1-xml erlang-p1-yaml erlang-p1-zlib</div></li><li class="li1"><div class="de1">  erlang-proper erlang-public-key erlang-runtime-tools erlang-ssl erlang-syntax-tools</div></li><li class="li1"><div class="de1">  erlang-xmerl libodbc1 libsctp1</div></li><li class="li1"><div class="de1">0 actualitzats, 27 nous a instal·lar, 0 a suprimir i 319 no actualitzats.</div></li><li class="li1"><div class="de1">S'ha d'obtenir 17,9 MB d'arxius.</div></li><li class="li1"><div class="de1">Després d'aquesta operació s'empraran 32,7 MB d'espai en disc addicional.</div></li><li class="li1"><div class="de1">Voleu continuar? [S/n] </div></li></ol></pre>

<p>
Comprovem que el servei està actiu:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"># service ejabberd status</div></li><li class="li1"><div class="de1">● ejabberd.service - A distributed, fault-tolerant Jabber/XMPP server</div></li><li class="li1"><div class="de1">   Loaded: loaded (/lib/systemd/system/ejabberd.service; enabled; vendor preset: enabled)</div></li><li class="li1"><div class="de1">   Active: active (running) since Wed 2019-10-02 15:46:39 CEST; 24s ago</div></li><li class="li1"><div class="de1">     Docs: https://www.process-one.net/en/ejabberd/docs/</div></li><li class="li1"><div class="de1"> Main PID: 1285 (beam)</div></li><li class="li1"><div class="de1">   CGroup: /system.slice/ejabberd.service</div></li><li class="li1"><div class="de1">           ├─1285 /usr/lib/erlang/erts-8.2.1/bin/beam -K true -P 250000 -- -root /usr/lib/erlang -</div></li><li class="li1"><div class="de1">           ├─1303 erl_child_setup 32768</div></li><li class="li1"><div class="de1">           ├─1308 inet_gethost 4</div></li><li class="li1"><div class="de1">           └─1309 inet_gethost 4</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">oct 02 15:46:33 server.ioc.cat systemd[1]: Starting A distributed, fault-tolerant Jabber/XMPP serv</div></li><li class="li1"><div class="de1">oct 02 15:46:39 server.ioc.cat systemd[1]: Started A distributed, fault-tolerant Jabber/XMPP serve</div></li></ol></pre>

<p>
Creem dos usuaris per fer les proves amb la comanda <em>ejabberdctl register</em>:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"># ejabberdctl register</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">Error: the command &quot;register&quot; requires 3 more argument.</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  Command Name: register</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  Arguments: user::binary</div></li><li class="li1"><div class="de1">             host::binary</div></li><li class="li1"><div class="de1">             password::binary</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  Returns: res::restuple</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  Tags:  accounts</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  Description:  Register a user</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">Error: the command &quot;register&quot; requires 3 more argument.</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"># ejabberdctl register usuari1 localhost usuari1</div></li><li class="li1"><div class="de1">User usuari1@localhost successfully registered</div></li><li class="li1"><div class="de1"># ejabberdctl register usuari2 localhost usuari2</div></li><li class="li1"><div class="de1">User usuari2@localhost successfully registered</div></li></ol></pre>

<p>
Comprovem els ports que ha obert l’aplicació amb nmap:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"># nmap -A -T4 localhost</div></li><li class="li1"><div class="de1"> nmap -A -T4 localhost</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">Starting Nmap 7.40 ( https://nmap.org ) at 2019-10-02 15:50 CEST</div></li><li class="li1"><div class="de1">Nmap scan report for localhost (127.0.0.1)</div></li><li class="li1"><div class="de1">Host is up (0.000014s latency).</div></li><li class="li1"><div class="de1">Not shown: 992 closed ports</div></li><li class="li1"><div class="de1">PORT     STATE SERVICE        VERSION</div></li><li class="li1"><div class="de1">5222/tcp open  jabber         ejabberd (Protocol 1.0)</div></li><li class="li1"><div class="de1">| ssl-cert: Subject: commonName=ejabberd/organizationName=ioc.cat</div></li><li class="li1"><div class="de1">| Not valid before: 2019-10-02T13:46:33</div></li><li class="li1"><div class="de1">|_Not valid after:  2020-10-01T13:46:33</div></li><li class="li1"><div class="de1">|_ssl-date: ERROR: Script execution failed (use -d to debug)</div></li><li class="li1"><div class="de1">| xmpp-info: </div></li><li class="li1"><div class="de1">|   Respects server name</div></li><li class="li1"><div class="de1">|   info: </div></li><li class="li1"><div class="de1">|     xmpp: </div></li><li class="li1"><div class="de1">|       lang: en</div></li><li class="li1"><div class="de1">|       version: 1.0</div></li><li class="li1"><div class="de1">|     capabilities: </div></li><li class="li1"><div class="de1">|       node: http://www.process-one.net/en/ejabberd/</div></li><li class="li1"><div class="de1">|       ver: Rvmh+iIEsrdX0uAaJpdpbKmqVEI=</div></li><li class="li1"><div class="de1">|     compression_methods: </div></li><li class="li1"><div class="de1">|       zlib</div></li><li class="li1"><div class="de1">|     auth_mechanisms: </div></li><li class="li1"><div class="de1">|       X-OAUTH2</div></li><li class="li1"><div class="de1">|       PLAIN</div></li><li class="li1"><div class="de1">|       SCRAM-SHA-1</div></li><li class="li1"><div class="de1">|   pre_tls: </div></li><li class="li1"><div class="de1">|     xmpp: </div></li><li class="li1"><div class="de1">| </div></li><li class="li1"><div class="de1">|     capabilities: </div></li><li class="li1"><div class="de1">| </div></li><li class="li1"><div class="de1">|     features: </div></li><li class="li1"><div class="de1">|       TLS</div></li><li class="li1"><div class="de1">|   post_tls: </div></li><li class="li1"><div class="de1">|     xmpp: </div></li><li class="li1"><div class="de1">| </div></li><li class="li1"><div class="de1">|_    capabilities: </div></li><li class="li1"><div class="de1">5269/tcp open  jabber         ejabberd</div></li><li class="li1"><div class="de1">| xmpp-info: </div></li><li class="li1"><div class="de1">|   Ignores server name</div></li><li class="li1"><div class="de1">|   info: </div></li><li class="li1"><div class="de1">|     xmpp: </div></li><li class="li1"><div class="de1">|       version: 1.0</div></li><li class="li1"><div class="de1">|     capabilities: </div></li><li class="li1"><div class="de1">|       node: http://www.process-one.net/en/ejabberd/</div></li><li class="li1"><div class="de1">|       ver: Rvmh+iIEsrdX0uAaJpdpbKmqVEI=</div></li><li class="li1"><div class="de1">|   pre_tls: </div></li><li class="li1"><div class="de1">|     xmpp: </div></li><li class="li1"><div class="de1">| </div></li><li class="li1"><div class="de1">|     capabilities: </div></li><li class="li1"><div class="de1">| </div></li><li class="li1"><div class="de1">|     features: </div></li><li class="li1"><div class="de1">|       TLS</div></li><li class="li1"><div class="de1">|   post_tls: </div></li><li class="li1"><div class="de1">|     xmpp: </div></li><li class="li1"><div class="de1">| </div></li><li class="li1"><div class="de1">|_    capabilities: </div></li><li class="li1"><div class="de1">5280/tcp open  ssl/xmpp-bosh?</div></li><li class="li1"><div class="de1">| ssl-cert: Subject: commonName=ejabberd/organizationName=ioc.cat</div></li><li class="li1"><div class="de1">| Not valid before: 2019-10-02T13:46:33</div></li><li class="li1"><div class="de1">|_Not valid after:  2020-10-01T13:46:33</div></li><li class="li1"><div class="de1">|_ssl-date: ERROR: Script execution failed (use -d to debug)</div></li><li class="li1"><div class="de1">Device type: general purpose</div></li><li class="li1"><div class="de1">Running: Linux 3.X|4.X</div></li><li class="li1"><div class="de1">OS CPE: cpe:/o:linux:linux_kernel:3 cpe:/o:linux:linux_kernel:4</div></li><li class="li1"><div class="de1">OS details: Linux 3.8 - 4.6</div></li><li class="li1"><div class="de1">Network Distance: 0 hops</div></li><li class="li1"><div class="de1">Service Info: Host:  server.ioc.cat</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">Host script results:</div></li><li class="li1"><div class="de1">|_clock-skew: mean: -2m02s, deviation: 1m35s, median: -3m10s</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .</div></li><li class="li1"><div class="de1">Nmap done: 1 IP address (1 host up) scanned in 153.10 seconds</div></li></ol></pre>

<p>
<strong>2. Verificació del funcionament del servidor de missatgeria instantània amb el client Gajim</strong>
</p>

<p>
Per a l’“usuari1” instal·lem el client Gajim:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"># apt-get install gajim</div></li><li class="li1"><div class="de1">S'està llegint la llista de paquets… Fet </div></li><li class="li1"><div class="de1">S'està construint l'arbre de dependències       </div></li><li class="li1"><div class="de1">S'està llegint la informació de l'estat… Fet</div></li><li class="li1"><div class="de1">S'instal·laran els següents paquets extres:</div></li><li class="li1"><div class="de1">  python-crypto python-nbxmpp</div></li><li class="li1"><div class="de1">Paquets suggerits:</div></li><li class="li1"><div class="de1">  dvipng gstreamer0.10-plugins-ugly kwalletcli libgtkspell0 nautilus-sendto network-manager python-avahi python-gconf python-gnome2</div></li><li class="li1"><div class="de1">  python-gnomekeyring python-gupnp-igd python-kerberos python-pycurl texlive-latex-base python-crypto-dbg python-crypto-doc</div></li><li class="li1"><div class="de1">S'instal·laran els paquets NOUS següents:</div></li><li class="li1"><div class="de1">  gajim python-crypto python-nbxmpp</div></li><li class="li1"><div class="de1">0 actualitzats, 3 nous a instal·lar, 0 a suprimir i 336 no actualitzats.</div></li><li class="li1"><div class="de1">S'ha d'obtenir 3366 kB d'arxius.</div></li><li class="li1"><div class="de1">Després d'aquesta operació s'empraran 15,1 MB d'espai en disc addicional.</div></li><li class="li1"><div class="de1">Voleu continuar? [S/n] </div></li></ol></pre>

<p>
Iniciem l’aplicació i afegim el compte de l’usuari “usuari12 i el deixem com a estat <em>online</em>:
</p>

<p>
<div class="imgelem">
<img src="../media/gajim-psi2.png" alt="" /></div>

</p>

<p>
Instal·lem el segon client XMPP, Psi:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"># apt install psi</div></li><li class="li1"><div class="de1">S'està llegint la llista de paquets… Fet </div></li><li class="li1"><div class="de1">S'està construint l'arbre de dependències       </div></li><li class="li1"><div class="de1">S'està llegint la informació de l'estat… Fet</div></li><li class="li1"><div class="de1">S'instal·laran els següents paquets extres:</div></li><li class="li1"><div class="de1">  libminizip1 libopencore-amrnb0 libopencore-amrwb0 libqca2 libqca2-plugin-ossl libqca2-plugins libqt4-dbus libqt4-network libqt4-xml libqtcore4</div></li><li class="li1"><div class="de1">  libqtdbus4 libqtgui4 libsox-fmt-alsa libsox-fmt-base libsox2 qdbus qt-at-spi qtchooser qtcore4-l10n sox</div></li><li class="li1"><div class="de1">Paquets suggerits:</div></li><li class="li1"><div class="de1">  qt4-qtconfig libsox-fmt-all psi-translations libqca2-plugin-gnupg</div></li><li class="li1"><div class="de1">S'instal·laran els paquets NOUS següents:</div></li><li class="li1"><div class="de1">  libminizip1 libopencore-amrnb0 libopencore-amrwb0 libqca2 libqca2-plugin-ossl libqca2-plugins libqt4-dbus libqt4-network libqt4-xml libqtcore4</div></li><li class="li1"><div class="de1">  libqtdbus4 libqtgui4 libsox-fmt-alsa libsox-fmt-base libsox2 psi qdbus qt-at-spi qtchooser qtcore4-l10n sox</div></li><li class="li1"><div class="de1">0 actualitzats, 21 nous a instal·lar, 0 a suprimir i 332 no actualitzats.</div></li><li class="li1"><div class="de1">S'ha d'obtenir 12,3 MB d'arxius.</div></li><li class="li1"><div class="de1">Després d'aquesta operació s'empraran 39,9 MB d'espai en disc addicional.</div></li><li class="li1"><div class="de1">Voleu continuar? [S/n] ^C</div></li></ol></pre>

<p>
Iniciem l’aplicació i afegim el compte de l’usuari “usuari2”. Cancel·lem l’assistent i anem a <em>General / Account / Setup / Add</em>:
</p>

<p>
<div class="imgelem">
<img src="../media/gajim-psi3.png" alt="" /></div>

</p>

<p>
<div class="imgelem">
<img src="../media/gajim-psi4.png" alt="" /></div>

</p>

<p>
Des d’aquesta aplicació, a l’usuari2 li afegim un contacte:
</p>

<p>
<div class="imgelem">
<img src="../media/gajim-psi5.png" alt="" /></div>

</p>

<p>
I finalment iniciem un xat per tal de poder comunicar-nos:
</p>

<p>
<div class="imgelem">
<img src="../media/gajim-psi1.png" alt="" /></div>

</p>

<p>
Ejjaberd manté un control dels usuaris connectats així com d’altres característiques. Comprovem els usuaris connectats del del terminal, i ens indica també el client:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"># ejabberdctl status</div></li><li class="li1"><div class="de1">The node ejabberd@debian is started with status: started</div></li><li class="li1"><div class="de1">ejabberd 16.09 is running in that node</div></li><li class="li1"><div class="de1"># ejabberdctl connected_users</div></li><li class="li1"><div class="de1">usuari1@localhost/Gajim</div></li><li class="li1"><div class="de1">usuari2@localhost/debian</div></li></ol></pre>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

<h2><a id="instal_lacio_i_configuracio_un_servidor_de_missatgeria_instantania_amb_openfire" >Instal·lació i configuració un servidor de missatgeria instantània amb OpenFire</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és practicar la instal·lació i configuració del servidor de missatgeria instantània OpenFire. Com a client, s’instal·larà i es configurarà Spark, que és un client XMPP de la mateixa comunitat que desenvolupa OpenFire.
</p>

<p>
Realitzeu els següents passos:
</p>
<ol>
<li class="level1"><div class="li"> Instal·lació del servidor OpenFire de missatgeria instantània.</div>
</li>
<li class="level1"><div class="li"> Configuració del servidor OpenFire.</div>
</li>
<li class="level1"><div class="li"> Verificació del funcionament del servidor de missatgeria instantània amb el client Spark.</div>
</li>
</ol>

<p>
<form action=""><div class="solution ioccontent">
<p>
<a href="https://www.igniterealtime.org/projects/openfire/" class="urlextern" title="https://www.igniterealtime.org/projects/openfire/"  rel="nofollow">Openfire</a> és un altre servidor XMPP de codi obert. Segons expliquen al seu web: “<em>Openfire is a real time collaboration (RTC) server licensed under the Open Source Apache License. It uses the only widely adopted open protocol for instant messaging, XMPP (also called Jabber). Openfire is incredibly easy to setup and administer, but offers rock-solid security and performance</em>”.
</p>

<p>
<strong>1. Instal·lació del servidor OpenFire de missatgeria instantània</strong>
</p>

<p>
Es pot descarregar l’OpenFiredes del navegador o directament baixar-nos el paquet .deb des del terminal si coneixem l’adreça:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"># wget https://www.igniterealtime.org/downloadServlet?filename=openfire/openfire_4.2.2_all.deb -O openfire_4.2.2_all.deb</div></li><li class="li1"><div class="de1">--2019-10-05 12:48:21--  https://www.igniterealtime.org/downloadServlet?filename=openfire/openfire_4.2.2_all.deb</div></li><li class="li1"><div class="de1">S'està resolent www.igniterealtime.org (www.igniterealtime.org)… 52.58.216.59</div></li><li class="li1"><div class="de1">S'està connectant a www.igniterealtime.org (www.igniterealtime.org)|52.58.216.59|:443… connectat.</div></li><li class="li1"><div class="de1">HTTP: s'ha enviat la petició, s'està esperant una resposta… 302 </div></li><li class="li1"><div class="de1">Ubicació: http://download.igniterealtime.org/openfire/openfire_4.2.2_all.deb [es segueix]</div></li><li class="li1"><div class="de1">--2019-10-05 12:48:21--  http://download.igniterealtime.org/openfire/openfire_4.2.2_all.deb</div></li><li class="li1"><div class="de1">S'està resolent download.igniterealtime.org (download.igniterealtime.org)… 52.58.216.59</div></li><li class="li1"><div class="de1">S'està connectant a download.igniterealtime.org (download.igniterealtime.org)|52.58.216.59|:80… connectat.</div></li><li class="li1"><div class="de1">HTTP: s'ha enviat la petició, s'està esperant una resposta… 302 Found</div></li><li class="li1"><div class="de1">Ubicació: https://github.com/igniterealtime/Openfire/releases/download/v4.2.2/openfire_4.2.2_all.deb [es segueix]</div></li><li class="li1"><div class="de1">--2019-10-05 12:48:21--  https://github.com/igniterealtime/Openfire/releases/download/v4.2.2/openfire_4.2.2_all.deb</div></li><li class="li1"><div class="de1">S'està resolent github.com (github.com)… 140.82.118.4</div></li><li class="li1"><div class="de1">S'està connectant a github.com (github.com)|140.82.118.4|:443… connectat.</div></li><li class="li1"><div class="de1">HTTP: s'ha enviat la petició, s'està esperant una resposta… 302 Found</div></li><li class="li1"><div class="de1">Ubicació: https://github-production-release-asset-2e65be.s3.amazonaws.com/18511687/5c047344-10b1-11e8-800a-278c2ede3fa2?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20191005%2Fus-east-1%2Fs3%2Faws4_request&amp;X-Amz-Date=20191005T104821Z&amp;X-Amz-Expires=300&amp;X-Amz-Signature=3b623e0add6d8a8e7e7e4a2b26ee6e9797f74c226e51869b0e584330290f64f1&amp;X-Amz-SignedHeaders=host&amp;actor_id=0&amp;response-content-disposition=attachment%3B%20filename%3Dopenfire_4.2.2_all.deb&amp;response-content-type=application%2Foctet-stream [es segueix]</div></li><li class="li1"><div class="de1">--2019-10-05 12:48:21--  https://github-production-release-asset-2e65be.s3.amazonaws.com/18511687/5c047344-10b1-11e8-800a-278c2ede3fa2?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20191005%2Fus-east-1%2Fs3%2Faws4_request&amp;X-Amz-Date=20191005T104821Z&amp;X-Amz-Expires=300&amp;X-Amz-Signature=3b623e0add6d8a8e7e7e4a2b26ee6e9797f74c226e51869b0e584330290f64f1&amp;X-Amz-SignedHeaders=host&amp;actor_id=0&amp;response-content-disposition=attachment%3B%20filename%3Dopenfire_4.2.2_all.deb&amp;response-content-type=application%2Foctet-stream</div></li><li class="li1"><div class="de1">S'està resolent github-production-release-asset-2e65be.s3.amazonaws.com (github-production-release-asset-2e65be.s3.amazonaws.com)… 52.216.177.203</div></li><li class="li1"><div class="de1">S'està connectant a github-production-release-asset-2e65be.s3.amazonaws.com (github-production-release-asset-2e65be.s3.amazonaws.com)|52.216.177.203|:443… connectat.</div></li><li class="li1"><div class="de1">HTTP: s'ha enviat la petició, s'està esperant una resposta… 200 OK</div></li><li class="li1"><div class="de1">Mida: 22857668 (22M) [application/octet-stream]</div></li><li class="li1"><div class="de1">S'està desant a: «openfire_4.2.2_all.deb»</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">openfire_4.2.2_all.deb             100%[==============================================================&gt;]  21,80M   697KB/s    in 28s     </div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">2019-10-05 12:48:50 (785 KB/s) - s'ha desat «openfire_4.2.2_all.deb» [22857668/22857668]</div></li></ol></pre>

<p>
Un cop baixat, l’instal·lem:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"># dpkg -i openfire_4.2.2_all.deb</div></li><li class="li1"><div class="de1">S'està seleccionant el paquet openfire prèviament no seleccionat.</div></li><li class="li1"><div class="de1">(S'està llegint la base de dades… hi ha 134526 fitxers i directoris instal·lats actualment.)</div></li><li class="li1"><div class="de1">S'està preparant per a desempaquetar openfire_4.2.2_all.deb…</div></li><li class="li1"><div class="de1">S'està desempaquetant openfire (4.2.2)…</div></li><li class="li1"><div class="de1">S'està configurant openfire (4.2.2)…</div></li><li class="li1"><div class="de1">adduser: Avís: el directori personal «/var/lib/openfire» no pertany a l'usuari que esteu creant.</div></li><li class="li1"><div class="de1">S'estan processant els activadors per a systemd (232-25+deb9u1)…</div></li></ol></pre>

<p>
Mostrem el contingut del paquet debian d’OpenFire:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"># dpkg-deb -c openfire_4.2.2_all.deb</div></li><li class="li1"><div class="de1">drwxr-xr-x root/root         0 2018-02-13 18:21 ./</div></li><li class="li1"><div class="de1">drwxr-xr-x root/root         0 2018-02-13 18:21 ./etc/</div></li><li class="li1"><div class="de1">drwxr-xr-x root/root         0 2018-02-13 18:21 ./etc/default/</div></li><li class="li1"><div class="de1">-rw-r--r-- root/root       375 2018-02-13 18:21 ./etc/default/openfire</div></li><li class="li1"><div class="de1">drwxr-xr-x root/root         0 2018-02-13 18:21 ./etc/init.d/</div></li><li class="li1"><div class="de1">-rwxr-xr-x root/root      2325 2018-02-13 18:21 ./etc/init.d/openfire</div></li><li class="li1"><div class="de1">drwxr-xr-x root/root         0 2018-02-13 18:21 ./etc/openfire/</div></li><li class="li1"><div class="de1">-rw-r--r-- root/root      4382 2018-02-13 18:21 ./etc/openfire/log4j.xml</div></li><li class="li1"><div class="de1">-rw-r--r-- root/root      1763 2018-02-13 18:21 ./etc/openfire/openfire.xml</div></li><li class="li1"><div class="de1">drwxr-xr-x root/root         0 2018-02-13 18:21 ./etc/openfire/security/</div></li><li class="li1"><div class="de1">-rw-r--r-- root/root        32 2018-02-13 18:21 ./etc/openfire/security/client.truststore</div></li><li class="li1"><div class="de1">-rw-r--r-- root/root        32 2018-02-13 18:21 ./etc/openfire/security/keystore</div></li><li class="li1"><div class="de1">-rw-r--r-- root/root    174089 2018-02-13 18:21 ./etc/openfire/security/truststore</div></li><li class="li1"><div class="de1">-rw-r--r-- root/root      2920 2018-02-13 18:21 ./etc/openfire/security.xml</div></li><li class="li1"><div class="de1">drwxr-xr-x root/root         0 2018-02-13 18:21 ./usr/</div></li><li class="li1"><div class="de1">drwxr-xr-x root/root         0 2018-02-13 18:21 ./usr/share/</div></li><li class="li1"><div class="de1">...</div></li></ol></pre>

<p>
Per saber el nom del servei caldria filtrar-ho, per exemple, amb la paraula <em>init.d</em>, que és on hi ha els <em>scripts</em> dels serveis a Debian:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"># dpkg-deb -c openfire_4.2.2_all.deb | grep init.d</div></li><li class="li1"><div class="de1">drwxr-xr-x root/root         0 2018-02-13 18:21 ./etc/init.d/</div></li><li class="li1"><div class="de1">-rwxr-xr-x root/root      2325 2018-02-13 18:21 ./etc/init.d/openfire</div></li></ol></pre>

<p>
El nom del servei és <em>openfire</em>. Comprovem l’estat del servei:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"># service openfire status</div></li><li class="li1"><div class="de1">● openfire.service - LSB: Start/stop openfire jabber server</div></li><li class="li1"><div class="de1">   Loaded: loaded (/etc/init.d/openfire; generated; vendor preset: enabled)</div></li><li class="li1"><div class="de1">   Active: active (running) since Sat 2019-10-05 12:50:09 CEST; 4min 22s ago</div></li><li class="li1"><div class="de1">     Docs: man:systemd-sysv-generator(8)</div></li><li class="li1"><div class="de1">   CGroup: /system.slice/openfire.service</div></li><li class="li1"><div class="de1">           └─3551 /usr/lib/jvm/java-8-openjdk-i386/jre/bin/java -server -DopenfireHome=/usr/share/openfire -Dopenfire.lib.dir=/usr/share/o</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">oct 05 12:50:09 server.ioc.cat systemd[1]: Starting LSB: Start/stop openfire jabber server...</div></li><li class="li1"><div class="de1">oct 05 12:50:09 server.ioc.cat openfire[3543]: best java alternative in: /usr/lib/jvm/java-8-openjdk-i386/jre</div></li><li class="li1"><div class="de1">oct 05 12:50:09 server.ioc.cat openfire[3543]: Starting openfire: openfire.</div></li><li class="li1"><div class="de1">oct 05 12:50:09 server.ioc.cat systemd[1]: Started LSB: Start/stop openfire jabber server.</div></li></ol></pre>

<p>
Comprovem quins ports ha obert amb <em>nmap</em>:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"># nmap -A -T4 localhost</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">Starting Nmap 7.40 ( https://nmap.org ) at 2019-10-05 12:56 CEST</div></li><li class="li1"><div class="de1">Nmap scan report for localhost (127.0.0.1)</div></li><li class="li1"><div class="de1">Host is up (0.000018s latency).</div></li><li class="li1"><div class="de1">Not shown: 994 closed ports</div></li><li class="li1"><div class="de1">PORT     STATE SERVICE  VERSION</div></li><li class="li1"><div class="de1">9090/tcp open  http     Jetty</div></li><li class="li1"><div class="de1">|_http-title: Site doesn't have a title (text/html).</div></li><li class="li1"><div class="de1">Device type: general purpose</div></li><li class="li1"><div class="de1">Running: Linux 3.X|4.X</div></li><li class="li1"><div class="de1">OS CPE: cpe:/o:linux:linux_kernel:3 cpe:/o:linux:linux_kernel:4</div></li><li class="li1"><div class="de1">OS details: Linux 3.8 - 4.6</div></li><li class="li1"><div class="de1">Network Distance: 0 hops</div></li><li class="li1"><div class="de1">Service Info: Host:  server.ioc.cat</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">Host script results:</div></li><li class="li1"><div class="de1">|_clock-skew: mean: -23s, deviation: 0s, median: -23s</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .</div></li><li class="li1"><div class="de1">Nmap done: 1 IP address (1 host up) scanned in 157.28 seconds</div></li></ol></pre>

<p>
Veiem que el port que ha obert és el 9090. Aquest port és el que farem servir per configurar el servidor des del navegador. De fet, es veu que és un servidor web (HTTP) que escolta al port 9090.
</p>

<p>
<strong>2. Configuració del servidor OpenFire</strong>
</p>

<p>
Des del navegador configurem el servidor amb la <acronym title="Uniform Resource Locator">URL</acronym> localhost:9090
</p>

<p>
<div class="imgelem">
<img src="../media/openfire1.png" alt="" /></div>

</p>

<p>
<div class="imgelem">
<img src="../media/openfire2.png" alt="" /></div>

</p>

<p>
<div class="imgelem">
<img src="../media/openfire3.png" alt="" /></div>

</p>

<p>
<div class="imgelem">
<img src="../media/openfire4.png" alt="" /></div>

</p>

<p>
<div class="imgelem">
<img src="../media/openfire5.png" alt="" /></div>

</p>

<p>
Ens connectem a la consola d’administració:
</p>

<p>
<div class="imgelem">
<img src="../media/openfire6.png" alt="" /></div>

</p>

<p>
<div class="imgelem">
<img src="../media/openfire7.png" alt="" /></div>

</p>

<p>
I creem els usuaris:
</p>

<p>
<div class="imgelem">
<img src="../media/openfire8.png" alt="" /></div>

</p>

<p>
<div class="imgelem">
<img src="../media/openfire9.png" alt="" /></div>

</p>

<p>
Tornem a comprovar quins ports hi han oberts amb <em>nmap</em>:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"># nmap -A -T4 localhost</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">Starting Nmap 7.40 ( https://nmap.org ) at 2019-10-05 13:13 CEST</div></li><li class="li1"><div class="de1">Nmap scan report for localhost (127.0.0.1)</div></li><li class="li1"><div class="de1">Host is up (0.000014s latency).</div></li><li class="li1"><div class="de1">Not shown: 989 closed ports</div></li><li class="li1"><div class="de1">PORT     STATE SERVICE  VERSION</div></li><li class="li1"><div class="de1">5222/tcp open  jabber   Ignite Realtime Openfire Jabber server 3.10.0 or later</div></li><li class="li1"><div class="de1">|_ssl-cert: ERROR: Script execution failed (use -d to debug)</div></li><li class="li1"><div class="de1">|_ssl-date: 2019-10-05T11:16:12+00:00; -1s from scanner time.</div></li><li class="li1"><div class="de1">| xmpp-info: </div></li><li class="li1"><div class="de1">|   STARTTLS Failed</div></li><li class="li1"><div class="de1">|   info: </div></li><li class="li1"><div class="de1">|     errors: </div></li><li class="li1"><div class="de1">|       invalid-namespace</div></li><li class="li1"><div class="de1">|       (timeout)</div></li><li class="li1"><div class="de1">|     features: </div></li><li class="li1"><div class="de1">| </div></li><li class="li1"><div class="de1">|     xmpp: </div></li><li class="li1"><div class="de1">|       version: 1.0</div></li><li class="li1"><div class="de1">|     auth_mechanisms: </div></li><li class="li1"><div class="de1">| </div></li><li class="li1"><div class="de1">|     unknown: </div></li><li class="li1"><div class="de1">| </div></li><li class="li1"><div class="de1">|     compression_methods: </div></li><li class="li1"><div class="de1">| </div></li><li class="li1"><div class="de1">|     capabilities: </div></li><li class="li1"><div class="de1">| </div></li><li class="li1"><div class="de1">|_    stream_id: 4sxbf6cwcv</div></li><li class="li1"><div class="de1">5269/tcp open  xmpp     Wildfire XMPP Client</div></li><li class="li1"><div class="de1">| xmpp-info: </div></li><li class="li1"><div class="de1">|   Respects server name</div></li><li class="li1"><div class="de1">|   STARTTLS Failed</div></li><li class="li1"><div class="de1">|   info: </div></li><li class="li1"><div class="de1">|     errors: </div></li><li class="li1"><div class="de1">|       host-unknown</div></li><li class="li1"><div class="de1">|       (timeout)</div></li><li class="li1"><div class="de1">|     features: </div></li><li class="li1"><div class="de1">| </div></li><li class="li1"><div class="de1">|     xmpp: </div></li><li class="li1"><div class="de1">|       version: 1.0</div></li><li class="li1"><div class="de1">|     auth_mechanisms: </div></li><li class="li1"><div class="de1">| </div></li><li class="li1"><div class="de1">|     unknown: </div></li><li class="li1"><div class="de1">| </div></li><li class="li1"><div class="de1">|     compression_methods: </div></li><li class="li1"><div class="de1">| </div></li><li class="li1"><div class="de1">|     capabilities: </div></li><li class="li1"><div class="de1">| </div></li><li class="li1"><div class="de1">|_    stream_id: 70wzm82em4</div></li><li class="li1"><div class="de1">7070/tcp open  http     Jetty 9.2.z-SNAPSHOT</div></li><li class="li1"><div class="de1">|_http-server-header: Jetty(9.2.z-SNAPSHOT)</div></li><li class="li1"><div class="de1">|_http-title: Error 404 </div></li><li class="li1"><div class="de1">7443/tcp open  ssl/http Jetty 9.2.z-SNAPSHOT</div></li><li class="li1"><div class="de1">|_http-server-header: Jetty(9.2.z-SNAPSHOT)</div></li><li class="li1"><div class="de1">|_http-title: Error 404 </div></li><li class="li1"><div class="de1">|_ssl-cert: ERROR: Script execution failed (use -d to debug)</div></li><li class="li1"><div class="de1">|_ssl-date: 2019-10-05T11:16:13+00:00; 0s from scanner time.</div></li><li class="li1"><div class="de1">7777/tcp open  socks5   (No authentication; connection not allowed by ruleset)</div></li><li class="li1"><div class="de1">| socks-auth-info: </div></li><li class="li1"><div class="de1">|_  No authentication</div></li><li class="li1"><div class="de1">9090/tcp open  http     Jetty</div></li><li class="li1"><div class="de1">|_http-title: Site doesn't have a title (text/html).</div></li><li class="li1"><div class="de1">Device type: general purpose</div></li><li class="li1"><div class="de1">Running: Linux 3.X|4.X</div></li><li class="li1"><div class="de1">OS CPE: cpe:/o:linux:linux_kernel:3 cpe:/o:linux:linux_kernel:4</div></li><li class="li1"><div class="de1">OS details: Linux 3.8 - 4.6</div></li><li class="li1"><div class="de1">Network Distance: 0 hops</div></li><li class="li1"><div class="de1">Service Info: Host:  server.ioc.cat</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">Host script results:</div></li><li class="li1"><div class="de1">|_clock-skew: mean: -18s, deviation: 1m15s, median: -1s</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .</div></li><li class="li1"><div class="de1">Nmap done: 1 IP address (1 host up) scanned in 155.85 seconds</div></li></ol></pre>

<p>
Els nous ports oberts són entre d’altres el 5222 per als clients XMPP.
</p>

<p>
<strong>3. Verificació del funcionament del servidor de missatgeria instantània amb el client Spark</strong>
</p>

<p>
Descarreguem el client Spark:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"># wget https://igniterealtime.org/downloadServlet?filename=spark/spark_2_8_3.deb -O spark_2_8_3.deb</div></li><li class="li1"><div class="de1">--2019-10-05 19:39:30--  https://igniterealtime.org/downloadServlet?filename=spark/spark_2_8_3.deb</div></li><li class="li1"><div class="de1">S'està resolent igniterealtime.org (igniterealtime.org)… 52.58.216.59</div></li><li class="li1"><div class="de1">S'està connectant a igniterealtime.org (igniterealtime.org)|52.58.216.59|:443… connectat.</div></li><li class="li1"><div class="de1">HTTP: s'ha enviat la petició, s'està esperant una resposta… 302 </div></li><li class="li1"><div class="de1">Ubicació: http://download.igniterealtime.org/spark/spark_2_8_3.deb [es segueix]</div></li><li class="li1"><div class="de1">--2019-10-05 19:39:30--  http://download.igniterealtime.org/spark/spark_2_8_3.deb</div></li><li class="li1"><div class="de1">S'està resolent download.igniterealtime.org (download.igniterealtime.org)… 52.58.216.59</div></li><li class="li1"><div class="de1">S'està connectant a download.igniterealtime.org (download.igniterealtime.org)|52.58.216.59|:80… connectat.</div></li><li class="li1"><div class="de1">HTTP: s'ha enviat la petició, s'està esperant una resposta… 302 Found</div></li><li class="li1"><div class="de1">Ubicació: https://github.com/igniterealtime/Spark/releases/download/v2.8.3/spark_2_8_3.deb [es segueix]</div></li><li class="li1"><div class="de1">--2019-10-05 19:39:30--  https://github.com/igniterealtime/Spark/releases/download/v2.8.3/spark_2_8_3.deb</div></li><li class="li1"><div class="de1">S'està resolent github.com (github.com)… 140.82.118.3</div></li><li class="li1"><div class="de1">S'està connectant a github.com (github.com)|140.82.118.3|:443… connectat.</div></li><li class="li1"><div class="de1">HTTP: s'ha enviat la petició, s'està esperant una resposta… 302 Found</div></li><li class="li1"><div class="de1">Ubicació: https://github-production-release-asset-2e65be.s3.amazonaws.com/14648981/c6cef55e-e624-11e6-850b-7f58af1dd73b?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20191005%2Fus-east-1%2Fs3%2Faws4_request&amp;X-Amz-Date=20191005T173931Z&amp;X-Amz-Expires=300&amp;X-Amz-Signature=1200f1e2f2517ea97b1483a0da756d7e91ac496a953c69ac4aa37feb32bd8ddb&amp;X-Amz-SignedHeaders=host&amp;actor_id=0&amp;response-content-disposition=attachment%3B%20filename%3Dspark_2_8_3.deb&amp;response-content-type=application%2Foctet-stream [es segueix]</div></li><li class="li1"><div class="de1">--2019-10-05 19:39:31--  https://github-production-release-asset-2e65be.s3.amazonaws.com/14648981/c6cef55e-e624-11e6-850b-7f58af1dd73b?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20191005%2Fus-east-1%2Fs3%2Faws4_request&amp;X-Amz-Date=20191005T173931Z&amp;X-Amz-Expires=300&amp;X-Amz-Signature=1200f1e2f2517ea97b1483a0da756d7e91ac496a953c69ac4aa37feb32bd8ddb&amp;X-Amz-SignedHeaders=host&amp;actor_id=0&amp;response-content-disposition=attachment%3B%20filename%3Dspark_2_8_3.deb&amp;response-content-type=application%2Foctet-stream</div></li><li class="li1"><div class="de1">S'està resolent github-production-release-asset-2e65be.s3.amazonaws.com (github-production-release-asset-2e65be.s3.amazonaws.com)… 52.216.98.211</div></li><li class="li1"><div class="de1">S'està connectant a github-production-release-asset-2e65be.s3.amazonaws.com (github-production-release-asset-2e65be.s3.amazonaws.com)|52.216.98.211|:443… connectat.</div></li><li class="li1"><div class="de1">HTTP: s'ha enviat la petició, s'està esperant una resposta… 200 OK</div></li><li class="li1"><div class="de1">Mida: 29526628 (28M) [application/octet-stream]</div></li><li class="li1"><div class="de1">S'està desant a: «spark_2_8_3.deb»</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">spark_2_8_3.deb                    100%[==============================================================&gt;]  28,16M   593KB/s    in 47s     </div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">2019-10-05 19:40:18 (614 KB/s) - s'ha desat «spark_2_8_3.deb» [29526628/29526628]</div></li></ol></pre>

<p>
I l’instal·lem:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"># dpkg -i spark_2_8_3.deb</div></li><li class="li1"><div class="de1">S'està seleccionant el paquet spark-messenger prèviament no seleccionat.</div></li><li class="li1"><div class="de1">(S'està llegint la base de dades… hi ha 134950 fitxers i directoris instal·lats actualment.)</div></li><li class="li1"><div class="de1">S'està preparant per a desempaquetar spark_2_8_3.deb…</div></li><li class="li1"><div class="de1">S'està desempaquetant spark-messenger (2.8.3)…</div></li><li class="li1"><div class="de1">S'està configurant spark-messenger (2.8.3)…</div></li></ol></pre>

<p>
Obrim l’aplicació i ens identifiquem com a “usuari1”:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"># spark &amp;</div></li></ol></pre>

<p>
<div class="imgelem">
<img src="../media/spark1.png" alt="" /></div>

</p>

<p>
Posem les següents preferències:
</p>

<p>
<div class="imgelem">
<img src="../media/spark2.png" alt="" /></div>

</p>

<p>
I restem <em>online</em>:
</p>

<p>
<div class="imgelem">
<img src="../media/spark3.png" alt="" /></div>

</p>

<p>
Obrim una altra instància de l’aplicació i ens identifiquem aquest cop com a usuari2 (amb les mateixes característiques):
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"># spark &amp;</div></li></ol></pre>

<p>
Finalment realitzem una petita conversa per tal de comprovar que funciona. Cal primer que a un dels usuaris l’afegim com a contacte l’altre:
</p>

<p>
<div class="imgelem">
<img src="../media/spark4.png" alt="" /></div>

</p>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

<h2><a id="instal_lacio_i_configuracio_un_servidor_de_missatgeria_instantania_amb_tigase" >Instal·lació i configuració un servidor de missatgeria instantània amb Tigase</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és instal·lar i configurar el servidor Tigase de missatgeria instantània que utilitza el protocol XMPP. Com que el protocol XMPP és obert, en aquest cas utilitzarem un altre client XMPP, Pidgin.
</p>

<p>
Realitzeu els següents passos:
</p>
<ol>
<li class="level1"><div class="li"> Instal·lació i configuració del prerequisit: Java JDK.</div>
</li>
<li class="level1"><div class="li"> Instal·lació i configuració del servidor Tigase de missatgeria instantània.</div>
</li>
<li class="level1"><div class="li"> Verificació del funcionament del servidor de missatgeria instantània amb el client Pidgin.</div>
</li>
</ol>

<p>
<form action=""><div class="solution ioccontent">
<p>
<strong>1. Instal·lació i configuració dels prerequisits</strong>
</p>

<p>
Com a requisit, cal instal·lar el Java JDK. Instal·larem el d’Oracle, tot i que podríem instal·lar l’OpenJDK.
</p>

<p>
Anem a <a href="https://www.java.com" class="urlextern" title="https://www.java.com"  rel="nofollow">java.com</a> per tal de descarregar aquest entorn:
</p>

<p>
<div class="imgelem">
<img src="../media/java.png" alt="" /></div>

</p>

<p>
Botó dret i descarreguem l’arxiu corresponent (32 o 64 bits). Seguim les instruccions d’instal·lació que apareixen a la pàgina web:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"># cd /usr/lib/jvm</div></li><li class="li1"><div class="de1"># cp /home/usuari/Baixades/jre-8u221-linux-x64.tar.gz .</div></li><li class="li1"><div class="de1"># tar zxvf jre-8u221-linux-x64.tar.gz </div></li><li class="li1"><div class="de1">jre1.8.0_221/</div></li><li class="li1"><div class="de1">jre1.8.0_221/Welcome.html</div></li><li class="li1"><div class="de1">jre1.8.0_221/lib/</div></li><li class="li1"><div class="de1">jre1.8.0_221/lib/psfontj2d.properties</div></li><li class="li1"><div class="de1">jre1.8.0_221/lib/plugin.jar</div></li><li class="li1"><div class="de1">jre1.8.0_221/lib/deploy.jar</div></li><li class="li1"><div class="de1">jre1.8.0_221/lib/net.properties</div></li><li class="li1"><div class="de1">jre1.8.0_221/lib/currency.data</div></li><li class="li1"><div class="de1">jre1.8.0_221/lib/logging.properties</div></li><li class="li1"><div class="de1">jre1.8.0_221/lib/charsets.jar</div></li><li class="li1"><div class="de1">jre1.8.0_221/lib/rt.jar</div></li><li class="li1"><div class="de1">jre1.8.0_221/lib/fontconfig.Turbo.bfc</div></li><li class="li1"><div class="de1">jre1.8.0_221/lib/desktop/</div></li><li class="li1"><div class="de1">...</div></li><li class="li1"><div class="de1"># rm jre-8u221-linux-x64.tar.gz </div></li></ol></pre>

<p>
Un cop instal·lat, hem de fer que sigui el JDK que s’executi per defecte, ja que es poden tenir instal·lat diverses versions. Mirem a on apunta la comanda <em>java</em>:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"># whereis java</div></li><li class="li1"><div class="de1">java: /usr/bin/java /etc/java /usr/share/java /usr/share/man/man1/java.1.gz</div></li><li class="li1"><div class="de1">ls /usr/bin/java -alis</div></li><li class="li1"><div class="de1">149630 0 lrwxrwxrwx 1 root root 22 set  5  2017 /usr/bin/java -&gt; /etc/alternatives/java</div></li><li class="li1"><div class="de1">root@server:/usr/lib/jvm# ls /etc/alternatives/java -alis</div></li><li class="li1"><div class="de1">149629 0 lrwxrwxrwx 1 root root 45 set  5  2017 /etc/alternatives/java -&gt; /usr/lib/jvm/java-8-openjdk-i386/jre/bin/java</div></li></ol></pre>

<p>
Veiem que apunta a un altre JDK, concretament java-8-openjdk-i386. Per tal que apunti al que acabem d’instal·lar, només cal modificar l’enllaç simbòlic (<em>soft link</em>):
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1">rm /etc/alternatives/java</div></li><li class="li1"><div class="de1">ln -s /usr/lib/jvm/jre1.8.0_221/bin/java /etc/alternatives/java</div></li><li class="li1"><div class="de1">ls /etc/alternatives/java -alis</div></li><li class="li1"><div class="de1">149629 0 lrwxrwxrwx 1 root root 45 set  5  2017 /etc/alternatives/java -&gt; /usr/lib/jvm/jre1.8.0_221/bin/java</div></li></ol></pre>

<p>
I comprovem que és la versió que hem instal·lat:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"># java -version</div></li><li class="li1"><div class="de1">java version &quot;1.8.0_221&quot;</div></li><li class="li1"><div class="de1">Java(TM) SE Runtime Environment (build 1.8.0_221-b11)</div></li><li class="li1"><div class="de1">Java HotSpot(TM) Client VM (build 25.221-b11, mixed mode)</div></li><li class="li1"><div class="de1">root@server:/usr/lib/jvm# </div></li></ol></pre>

<p>
<strong>2. Instal·lació i configuració del servidor Tigase de missatgeria instantània</strong>
</p>

<p>
Per instal·lar el servidor anem a la pàgina oficial de <a href="https://tigase.net/downloads" class="urlextern" title="https://tigase.net/downloads"  rel="nofollow">Tigase</a> i ens descarreguem la darrera versió del servidor. 
</p>

<p>
<div class="imgelem">
<img src="../media/tigase1.png" alt="" /></div>

</p>

<p>
Seguidament descomprimim l’aplicació:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"># unzip tigase-server-8.0.0-b10083-dist-max.zip</div></li></ol></pre>

<p>
Entrem a la carpeta i executem l’script inicialització del servidor:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"># cd tigase-server-8.0.0-b10083</div></li><li class="li1"><div class="de1"># scripts/tigase.sh start </div></li><li class="li1"><div class="de1">No params-file.conf given. Using: ''</div></li><li class="li1"><div class="de1">JAVA_HOME is not set.</div></li><li class="li1"><div class="de1">Please set it to correct value before starting the sever.</div></li></ol></pre>

<p>
Falta configurar les variables d’entorn, en aquest cas el JAVA_HOME. Les configurem i tornem a iniciar el servidor. Ens retorna el PID del procés.
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"># JAVA_HOME=/usr/lib/jvm/jre1.8.0_221; export JAVA_HOME</div></li><li class="li1"><div class="de1"># scripts/tigase.sh start </div></li><li class="li1"><div class="de1">No params-file.conf given. Using: ''</div></li><li class="li1"><div class="de1">Starting Tigase: </div></li><li class="li1"><div class="de1">Tigase running pid=4319</div></li><li class="li1"><div class="de1">nohup: es redirigeixen els errors a l’eixida estàndard</div></li></ol></pre>

<p>
Si ho comprovem amb <em>ps</em> veiem que el servidor és una aplicació Java:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"># ps -A | grep java</div></li><li class="li1"><div class="de1">  559 ?        00:00:20 java</div></li><li class="li1"><div class="de1"> 4319 pts/0    00:00:05 java</div></li></ol></pre>

<p>
Mirem quins ports ha obert el servidor amb <em>nmap</em>:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1">Starting Nmap 7.40 ( https://nmap.org ) at 2019-10-12 12:37 CEST</div></li><li class="li1"><div class="de1">Nmap scan report for localhost (127.0.0.1)</div></li><li class="li1"><div class="de1">Host is up (0.000011s latency).</div></li><li class="li1"><div class="de1">Not shown: 989 closed ports</div></li><li class="li1"><div class="de1">PORT     STATE SERVICE  VERSION</div></li><li class="li1"><div class="de1">8080/tcp open  http     JBoss Enterprise Application Platform</div></li><li class="li1"><div class="de1">| http-auth: </div></li><li class="li1"><div class="de1">| HTTP/1.1 401 Unauthorized\x0D</div></li><li class="li1"><div class="de1">|_  Basic realm=TigasePlain</div></li><li class="li1"><div class="de1">| http-title: Site doesn't have a title.</div></li><li class="li1"><div class="de1">|_Requested resource was /setup/</div></li><li class="li1"><div class="de1">Device type: general purpose</div></li><li class="li1"><div class="de1">Running: Linux 3.X|4.X</div></li><li class="li1"><div class="de1">OS CPE: cpe:/o:linux:linux_kernel:3 cpe:/o:linux:linux_kernel:4</div></li><li class="li1"><div class="de1">OS details: Linux 3.8 - 4.6</div></li><li class="li1"><div class="de1">Network Distance: 0 hops</div></li><li class="li1"><div class="de1">Service Info: Host:  server.ioc.cat</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">Host script results:</div></li><li class="li1"><div class="de1">|_clock-skew: mean: 34s, deviation: 1m08s, median: 0s</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .</div></li><li class="li1"><div class="de1">Nmap done: 1 IP address (1 host up) scanned in 44.44 seconds</div></li></ol></pre>

<p>
Per a la configuració del servidor cal anar a la <acronym title="Uniform Resource Locator">URL</acronym> <a href="http://localhost:8080" class="urlextern" title="http://localhost:8080"  rel="nofollow">http://localhost:8080</a> amb l’usuari <em>admin</em> i el password <em>tigase</em> per defecte.
</p>

<p>
<div class="imgelem">
<img src="../media/tigase2.png" alt="" /></div>

</p>

<p>
<div class="imgelem">
<img src="../media/tigase3.png" alt="" /></div>

</p>

<p>
A la configuració d’opcions avançades podem veure els diferents components i habilitar-los o no segons convingui. De moment deixem la proposta per defecte:
</p>

<p>
<div class="imgelem">
<img src="../media/tigase4.png" alt="" /></div>

</p>

<p>
El mateix amb els plugins.
</p>

<p>
Especifiquem les dades per connectar-se a la base de dades:
</p>

<p>
<div class="imgelem">
<img src="../media/tigase5.png" alt="" /></div>

</p>

<p>
Comprovem que es connecta bé a la base dades:
</p>

<p>
<div class="imgelem">
<img src="../media/tigase6.png" alt="" /></div>

</p>

<p>
Afegim l’usuari de seguretat. Aquest podrà entrar al servidor sense tenir un JID.
</p>

<p>
<div class="imgelem">
<img src="../media/tigase7.png" alt="" /></div>

</p>

<p>
<div class="imgelem">
<img src="../media/tigase8.png" alt="" /></div>

</p>

<p>
<div class="imgelem">
<img src="../media/tigase9.png" alt="" /></div>

</p>

<p>
Finalment, reiniciem el servei:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"># kill -9 4319 </div></li><li class="li1"><div class="de1"># scripts/tigase.sh start </div></li><li class="li1"><div class="de1">No params-file.conf given. Using: ''</div></li><li class="li1"><div class="de1">Starting Tigase: </div></li><li class="li1"><div class="de1">Tigase running pid=5707</div></li><li class="li1"><div class="de1">nohup: es redirigeixen els errors a l’eixida estàndard</div></li></ol></pre>

<p>
I aquesta és la pantalla principal del servidor un cop configurat:
</p>

<p>
<div class="imgelem">
<img src="../media/tigase10.png" alt="" /></div>

</p>

<p>
<strong>3. Verificació del funcionament del servidor de missatgeria instantània amb el client Pidgin</strong>
</p>

<p>
Instal·lem el client XMPP Pidgin:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"># apt-get install pidgin</div></li><li class="li1"><div class="de1">S'està llegint la llista de paquets… Fet </div></li><li class="li1"><div class="de1">S'està construint l'arbre de dependències       </div></li><li class="li1"><div class="de1">S'està llegint la informació de l'estat… Fet</div></li><li class="li1"><div class="de1">El paquets següents s'han instal·lat automàticament i ja no serà necessaris:</div></li><li class="li1"><div class="de1">  erlang-asn1 erlang-base erlang-crypto erlang-edoc erlang-goldrush erlang-inets erlang-jiffy erlang-lager erlang-mnesia erlang-odbc</div></li><li class="li1"><div class="de1">  erlang-p1-cache-tab erlang-p1-iconv erlang-p1-stringprep erlang-p1-tls erlang-p1-utils erlang-p1-xml erlang-p1-yaml erlang-p1-zlib</div></li><li class="li1"><div class="de1">  erlang-proper erlang-public-key erlang-runtime-tools erlang-ssl erlang-syntax-tools erlang-xmerl libnginx-mod-http-auth-pam</div></li><li class="li1"><div class="de1">  libnginx-mod-http-dav-ext libnginx-mod-http-echo libnginx-mod-http-geoip libnginx-mod-http-image-filter libnginx-mod-http-subs-filter</div></li><li class="li1"><div class="de1">  libnginx-mod-http-upstream-fair libnginx-mod-http-xslt-filter libnginx-mod-mail libnginx-mod-stream libodbc1 libsctp1 nginx-full</div></li><li class="li1"><div class="de1">Empreu «apt autoremove» per a suprimir-los.</div></li><li class="li1"><div class="de1">S'instal·laran els següents paquets extres:</div></li><li class="li1"><div class="de1">  freepats gstreamer1.0-alsa gstreamer1.0-libav gstreamer1.0-nice gstreamer1.0-plugins-bad libdca0 libde265-0 libfaad2</div></li><li class="li1"><div class="de1">  libfarstream-0.2-5 libgadu3 libgssdp-1.0-3 libgstreamer-plugins-bad1.0-0 libgupnp-1.0-4 libgupnp-igd-1.0-4 libkate1 liblilv-0-0</div></li><li class="li1"><div class="de1">  libmeanwhile1 libmjpegutils-2.1-0 libmms0 libmodplug1 libmpcdec6 libmpeg2encpp-2.1-0 libmplex2-2.1-0 libnice10 libofa0</div></li><li class="li1"><div class="de1">  libopencv-calib3d2.4v5 libopencv-features2d2.4v5 libopencv-flann2.4v5 libopencv-highgui2.4-deb0 libopencv-objdetect2.4v5</div></li><li class="li1"><div class="de1">  libopencv-video2.4v5 libprotobuf-c1 libpurple-bin libpurple0 libserd-0-0 libsord-0-0 libsoundtouch1 libsratom-0-0 libsrtp0</div></li><li class="li1"><div class="de1">  libvo-aacenc0 libvo-amrwbenc0 libwildmidi-config libwildmidi2 libzbar0 libzephyr4 pidgin-data</div></li><li class="li1"><div class="de1">Paquets suggerits:</div></li><li class="li1"><div class="de1">  frei0r-plugins serdi sordi srtp-utils</div></li><li class="li1"><div class="de1">S'instal·laran els paquets NOUS següents:</div></li><li class="li1"><div class="de1">  freepats gstreamer1.0-alsa gstreamer1.0-libav gstreamer1.0-nice gstreamer1.0-plugins-bad libdca0 libde265-0 libfaad2</div></li><li class="li1"><div class="de1">  libfarstream-0.2-5 libgadu3 libgssdp-1.0-3 libgstreamer-plugins-bad1.0-0 libgupnp-1.0-4 libgupnp-igd-1.0-4 libkate1 liblilv-0-0</div></li><li class="li1"><div class="de1">  libmeanwhile1 libmjpegutils-2.1-0 libmms0 libmodplug1 libmpcdec6 libmpeg2encpp-2.1-0 libmplex2-2.1-0 libnice10 libofa0</div></li><li class="li1"><div class="de1">  libopencv-calib3d2.4v5 libopencv-features2d2.4v5 libopencv-flann2.4v5 libopencv-highgui2.4-deb0 libopencv-objdetect2.4v5</div></li><li class="li1"><div class="de1">  libopencv-video2.4v5 libprotobuf-c1 libpurple-bin libpurple0 libserd-0-0 libsord-0-0 libsoundtouch1 libsratom-0-0 libsrtp0</div></li><li class="li1"><div class="de1">  libvo-aacenc0 libvo-amrwbenc0 libwildmidi-config libwildmidi2 libzbar0 libzephyr4 pidgin pidgin-data</div></li><li class="li1"><div class="de1">0 actualitzats, 47 nous a instal·lar, 0 a suprimir i 312 no actualitzats.</div></li><li class="li1"><div class="de1">S'ha d'obtenir 45,2 MB d'arxius.</div></li><li class="li1"><div class="de1">Després d'aquesta operació s'empraran 89,0 MB d'espai en disc addicional.</div></li><li class="li1"><div class="de1">Voleu continuar? [S/n] </div></li></ol></pre>

<p>
Un cop instal·lat, obrim l’aplicació i cancel·lem l’assistent. Es mostra la pantalla principal:
</p>

<p>
<div class="imgelem">
<img src="../media/pidgin1.png" alt="" /></div>

</p>

<p>
Anem a <em>Comptes</em>, <em>Gestió de comptes</em>, <em>Afegeix</em> i creem un usuari:
</p>

<p>
<div class="imgelem">
<img src="../media/pidgin2.png" alt="" /></div>

</p>

<p>
Acceptem el certificat i ens registrem:
</p>

<p>
<div class="imgelem">
<img src="../media/pidgin3.png" alt="" /></div>

</p>

<p>
Fem el mateix per a un segon usuari i esperem una estona que es posin online:
</p>

<p>
<div class="imgelem">
<img src="../media/pidgin4.png" alt="" /></div>

</p>

<p>
Fem botó dret en un usuari i seleccionem MI (missatgeria instantània):
</p>

<p>
<div class="imgelem">
<img src="../media/pidgin5.png" alt="" /></div>

</p>

<p>
Al menú <em>Conversa</em>, seleccionem <em>Missatge instantani nou</em> i triem l’altre usuari:
</p>

<p>
<div class="imgelem">
<img src="../media/pidgin6.png" alt="" /></div>

</p>

<p>
I ja podem iniciar una conversa:
</p>

<p>
<div class="imgelem">
<img src="../media/pidgin7.png" alt="" /></div>

</p>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

	 </article>
     <div class="pnpage">
      <div class="left-corner"></div>
      <div id="prevpage">Anar a la p&agrave;gina anterior:<br /><a href="../../../WebContent/u3/a2/continguts.html">Instal·lació i administració de serveis de missatgeria instantània, notícies i llistes de distribució</a></div>
      <div id="nextpage">Anar a la p&agrave;gina seg&uuml;ent:<br /><a href="../../../WebContent/u3/a2/exercicis.html">Exercicis</a></div>
      <div class="right-corner"></div>
     </div>
    </div>
    <footer class="footer">
      <div><small>Aquest document està subjecte a una llicència oberta de Creative Commons, es reserva el dret de reconeixement de l'autoria, d'exigir que no se'n faci cap mena d'ús comercial. Si altereu o transformeu aquesta obra, o en genereu obres derivades, només podeu distribuir l'obra generada amb una llicència idèntica a aquesta.</small></div>
    </footer>
 </div>
 <div id="back_preview" class="hidden"></div>
 <div id="preview" class="hidden">
  <div class="prevcontent"></div>
 </div>
 <div id="help-tooltips">
  <div id="help-toc" class="hidden tooltip"><span>Taula de continguts:</span> Ofereix una vista general de l&#39;estructura del m&ograve;dul, que us facilitar&agrave; la navegaci&oacute; a trav&eacute;s dels seus continguts.<span class="arrow-left"></span></div> 
  <div id="help-settings" class="hidden tooltip"><span>Opcions de format:</span> Permet configurar el format de lectura a partir de les vostres prefer&egrave;ncies, modificant la mida de la lletra, el color del fons, l&#39;amplada de la p&agrave;gina o l&#39;ocultaci&oacute; dels continguts complementaris, entre d&#39;altres.<span class="arrow-left"></span></div>
  <div id="help-printer" class="hidden tooltip"><span>Imprimir:</span>  Envia el contingut seleccionat a la impressora.<span class="arrow-left"></span></div>
  <div id="help-favorites" class="hidden tooltip"><span>Prefereits:</span> Permet desar aquelles parts del contingut a les que us interessi accedir en un moment posterior; us permetr&agrave; anar creant un repositori personalitzat de les seccions que considereu m&eacute;s rellevants. Un cop l&#39;hageu començat a fer servir se us mostrar&agrave; a sota un comptador que us informar&agrave; del nombre de preferits que s&#39;hagin emmagatzemat fins al moment.<span class="arrow-left"></span></div>
  <div id="help-favcounter" class="hidden tooltip"><span>Comptador i llistat de preferits:</span> Indica el nombre de preferits que s&#39;han desat fins el moment; clicant damunt seu accedireu al llistat de preferits, i a trav&eacute;s d&#39;aquest podreu accedir directament als continguts que hageu emmagatzemat.<span class="arrow-left"></span></div>
  <div id="help-help_icon" class="hidden tooltip"><span>Ajuda:</span> Aquesta opci&oacute; activa la informaci&oacute; de les funcionalitats del web tot situant el punter del ratol&iacute; al damunt dels diferents &iacute;tems.<span class="arrow-left"></span></div>
  <div id="help-sidebar-hide" class="hidden tooltip"><span>Mostrar/Ocultar barra lateral:</span>  Deshabilita la barra d&#39;opcions, permetent la seva recuperaci&oacute; quan es desitgi.<span class="arrow-left"></span></div>
  <div id="help-search" class="hidden tooltip"><span>Cerca:</span>  Introdu&iuml;u les paraules clau sobre aquells conceptes que desitgeu localitzar en els continguts del m&ograve;dul. Tamb&eacute; podeu excloure un terme de la cerca tot afegint-hi el signe &#8220;-&#8221; al davant.<span class="arrow-top"></span></div>
  <div id="help-header" class="hidden tooltip"><span>Cap&ccedil;alera:</span>  Indica l&#39;apartat o secci&oacute; que es mostra en pantalla. Tingueu present que les capçaleres de segon, tercer i quart nivell tamb&eacute; es poden desar com a marcadors.<span class="arrow-left"></span></div>
</div> 
</body>
</html>
