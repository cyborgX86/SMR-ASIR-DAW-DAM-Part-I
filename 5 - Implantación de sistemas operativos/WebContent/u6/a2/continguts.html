<!doctype html>

<!--[if lt IE 7 ]> <html class="ie ie6 no-js" lang="ca"> <![endif]-->
<!--[if IE 7 ]>    <html class="ie ie7 no-js" lang="ca"> <![endif]-->
<!--[if IE 8 ]>    <html class="ie ie8 no-js" lang="ca"> <![endif]-->
<!--[if IE 9 ]>    <html class="ie ie9 no-js" lang="ca"> <![endif]-->
<!--[if gt IE 9]><!--><html class="no-js" lang="ca"><!--<![endif]-->
<!-- the "no-js" class is for Modernizr. -->

<head id="www-sitename-com" data-template-set="html5-reset">

	<meta charset="utf-8">
	
	<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
	<title>Implantació de sistemes operatius (ASIX)\ Sistemes informàtics (DAM i DAW)</title>
	
<!-- <meta name="title" content=""> --> 
	<meta name="description" content="">
	<!-- Google will often use this as its description of your page/site. Make it good. -->
	
	<meta name="google-site-verification" content="">
	<!-- Speaking of Google, don't forget to set your site up: http://google.com/webmasters -->
	
	<meta name="author" content="Institut Obert de Catalunya">
	<meta name="Copyright" content="Copyright Institut Obert de Catalunya 2011. All Rights Reserved.">

	<!-- Dublin Core Metadata : http://dublincore.org/ -->
	<meta name="DC.title" content="Implantació de sistemes operatius (ASIX)\ Sistemes informàtics (DAM i DAW)">
	<meta name="DC.subject" content="Informàtica i comunicacions">
	<meta name="DC.creator" content="Institut Obert de Catalunya">
	
	<!--  Mobile Viewport Fix
	j.mp/mobileviewport & davidbcalhoun.com/2010/viewport-metatag 
	device-width : Occupy full width of the screen in its current orientation
	initial-scale = 1.0 retains dimensions instead of zooming out if page height > device height
	maximum-scale = 1.0 retains dimensions instead of zooming in if page width < device width
	-->
	<!-- Uncomment to use � use thoughtfully!
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
	-->

	<link rel="shortcut icon" href="../../../img/favicon.ico">
	<!-- This is the traditional favicon.
		 - size: 16x16 or 32x32
		 - transparency is OK
		 - see wikipedia for info on browser support: http://mky.be/favicon/ -->
		 
	<link rel="apple-touch-icon" href="../../../img/apple-touch-icon.png">
	<!-- The is the icon for iOS's Web Clip.
		 - size: 57x57 for older iPhones, 72x72 for iPads, 114x114 for iPhone4's retina display (IMHO, just go ahead and use the biggest one)
		 - To prevent iOS from applying its styles to the icon name it thusly: apple-touch-icon-precomposed.png
		 - Transparency is not recommended (iOS will put a black BG behind the icon) -->
	
	<!-- CSS: screen, mobile & print are all in the same file -->
	<link rel="stylesheet" href="../../../_/css/style.css">

	<!-- CSS: jQuery UI -->
	<link rel="stylesheet" href="../../../_/css/jquery-ui.css">
	
	<!-- all our JS is at the bottom of the page, except for Modernizr. -->
	<script src="../../../_/js/modernizr-1.7.min.js"></script>
	<script src="../../../_/js/Hyphenator.js" type="text/javascript"></script>
	<script type="text/javascript">
	   Hyphenator.config({
		minwordlength : 4
	   });
	   Hyphenator.run();
	</script>
    <script src="../../../_/js/build.js" type="text/javascript"></script>
</head>

<body class="style-newspaper">

<div class="wrapper"><!-- not needed? up to you: http://camendesign.com/code/developpeurs_sans_frontieres -->

	<header id="header">
		<div class="head"><a href="http://ioc.gencat.cat"><img src="../../../img/logo.png" alt="Institut Obert de Catalunya"/></a><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/es/deed.ca"><img src="../../../img/license.png" alt="Llic&egrave;ncia" class="license"/></a></div>
		<div class="headdocument"><a href="../../../index.html">Implantació de sistemes operatius (ASIX)\ Sistemes informàtics (DAM i DAW)</a></div>
        <div id="search" class="search" name="search">
         <form id="frmsearch" action="../../../search.html" method="get">
          <input type="text" name="q"/>
        </form>
        </div>
	</header>
   <div id="upbutton" class="upbutton" style="display:none;"><img src="../../../img/uparrow.png" alt="Pujar a l'inici de p&agrave;gina"/></div>
   <aside id="aside">
    <div id="menu">
      <ul>
       <li name="toc"><div><img src="../../../img/toc.png" alt="&Iacute;ndex"/></div></li>
       <li name="settings"><div><img src="../../../img/settings.png" alt="Configuraci&oacute;"/></div></li>
       <li name="printer"><div><img src="../../../img/printer.png" alt="Imprimir"/></div></li>
       <li name="favorites"><div><img src="../../../img/favorites.png" alt="Favorits"/></div></li>
       <li name="help_icon" class="help_icon"><div><img src="../../../img/help_icon.png" alt="Ajuda"/></div></li>
      </ul>
     </div>
   </aside>
   <div id="sidebar-hide" name="sidebar-hide"><img src="../../../img/arrows.png"/></div>
   <section>
     <div id="toc" class="hidden">
      <div class="menucontent">
        <ul>
        <li id="u7" class="parentnode"><p><a class="unit" href="../../../WebContent/u7/introduccio.html">7. Administració de dominis</a></p><ul class="expander"><li id="u7introduccio"><a href="../../../WebContent/u7/introduccio.html">Introducció</a></li><li id="u7resum"><a href="../../../WebContent/u7/resum.html">Resum</a></li><li id="u7objectius"><a href="../../../WebContent/u7/objectius.html">Resultats d'aprenentatge</a></li><li id="u7mapa"><a href="../../../WebContent/u7/mapa.html">Mapa conceptual</a></li><li id="u7referencies"><a href="../../../WebContent/u7/referencies.html">Referències</a></li><li id="u7a1" class="tocsection"><p id='u7a1continguts'><a class="section" href="../../../WebContent/u7/a1/continguts.html">Implementació de dominis LDAP</a><span class="buttonexp"></span></p><ul><li id="u7a1activitats"><a href="../../../WebContent/u7/a1/activitats.html">Activitats</a></li><li id="u7a1exercicis"><a href="../../../WebContent/u7/a1/exercicis.html">Exercicis d'autoavaluació</a></li></ul></li><div data-parent-id='u7a1' class='tocssection hidden'><div class="toc"><ul><li><a href="../../../WebContent/u7/a1/continguts.html#dominis_ldap">Dominis LDAP</a></li><li><a href="../../../WebContent/u7/a1/continguts.html#disseny_del_domini">Disseny del domini</a></li></ul></div></div><li id="u7a2" class="tocsection"><p id='u7a2continguts'><a class="section" href="../../../WebContent/u7/a2/continguts.html">Administració de comptes i grups LDAP</a><span class="buttonexp"></span></p><ul><li id="u7a2activitats"><a href="../../../WebContent/u7/a2/activitats.html">Activitats</a></li><li id="u7a2exercicis"><a href="../../../WebContent/u7/a2/exercicis.html">Exercicis d'autoavaluació</a></li></ul></li><div data-parent-id='u7a2' class='tocssection hidden'><div class="toc"><ul><li><a href="../../../WebContent/u7/a2/continguts.html#administracio_de_comptes_ldap">Administració de comptes LDAP</a></li><li><a href="../../../WebContent/u7/a2/continguts.html#administracio_de_grups_ldap">Administració de grups LDAP</a></li></ul></div></div></ul></li><li id="" class="indexnode"><p><a href="../../../index.html">Anar a l&#39;&iacute;ndex general</a></p></li>
        </ul>
      </div>
    </div>
   </section>
   <section>
   <div id="settings" class="hidden">
    <div class="menucontent">
     <div class="allsettings">
     <div class="settings">
      <label>Font i Color</label>
		<div class="setting-option">
	        <ul class="fontBackground">
				<li id="style-newspaper" title="Newspaper" class="appearance-style-newspaper"><span>Newspaper</span></li>
                <li id="style-novel" title="Novel" class="appearance-style-novel"><span>Novel</span></li>
                <li id="style-ebook" title="eBook" class="appearance-style-ebook"><span>eBook</span></li>
				<li id="style-inverse" title="Inverse" class="appearance-style-inverse active"><span>Inverse</span></li>
				<li id="style-athelas" title="Athelas" class="appearance-style-athelas"><span>Athelas</span></li>
			</ul>
		</div>
     </div>
	<div class="settings">
      <label>Amplada</label>
		<div class="setting-option">
	        <div id="slider-width"></div>
		</div>
     </div>
     <div class="settings">
      <label>Mida de la font</label>
		<div class="setting-option">
	        <div id="slider-font"></div>
		</div>
     </div>
     <div class="settings">
      <label>Mida de la font</label>
	  <div class="setting-option">
       <form action="" class="sett-options">
		<ul>
		    <li><input type="checkbox" id="secondary-content" /><label for="secondary-content">Mostra recursos complementaris</label></li>
		    <li><input type="checkbox" id="main-images" /><label for="main-images">Mostra imatges</label></li>
		    <li><input type="checkbox" id="text-alignment" /><label for="text-alignment">Text justificat</label></li>
			<li><input type="checkbox" id="text-hyphen" /><label for="text-hyphen">Partici&oacute; sil·l&agrave;bica</label></li>
		</ul>
       </form>
	  </div>
     </div>
     </div>
    </div>
   </div>
   </section>
 <section>
 <div id="favorites" class="hidden"></div>
 </section>   
 <div id="bridge" class="hidden"></div>
 <div id="help" class="hidden">
  <div class="helptitle">Dreceres del teclat<hr></div>
  <div class="helpsection"><span>General</span>
   <ul>
    <li><span class="shortcut">g</span>: Anar al men&uacute; de navegaci&oacute;</li>
    <li><span class="shortcut">o</span>: Anar a opcions</li>
    <li><span class="shortcut">s</span>: Guardar la p&agrave;gina actual a favorits</li>
    <li><span class="shortcut">p</span>: Imprimir la p&agrave;gina actual</li>
    <li><span class="shortcut">?</span>: Mostrar/Ocultar l&#39;ajuda</li>
   </ul>
  </div>
  <div class="helpsection"><span>Navegaci&oacute;</span>
   <ul>
    <li><span class="shortcut">i</span>: Anar a l&#39;&iacute;ndex general</li>
    <li><span class="shortcut">t</span>: Anar a l&#39;inici de p&agrave;gina</li>
    <li><span class="shortcut">b</span>: Anar al final de p&agrave;gina</li>
    <li><span class="shortcut">j</span>: Anar cap endavant dintre la p&agrave;gina</li>
    <li><span class="shortcut">k</span>: Anar cap enrere dintre la p&agrave;gina</li>
    <li><span class="shortcut">h</span>: Anar a la p&agrave;gina anterior:</li>
    <li><span class="shortcut">l</span>: Anar a la p&agrave;gina seg&uuml;ent:</li>
   </ul>
   </div>
 </div>
 <div id="favcounter" name="favcounter" class="hidden"><span></span></div>
 <div id="navmenu" class="navmenu"><ul class="webnav"><li><a href="../../../index.html" title="Anar a l&#39;&iacute;ndex general">Inici</a></li><li><a href="../introduccio.html">Administració de la informació</a></li><li>Administració de discos</li></ul></div>
	<div id="content" lang="ca" class="hyphenate text">
     <article lang="ca" class="sheet">
        <h1><a id="administracio_de_discos"> Administració de discos </a></h1>
    	
<p>
Quan s’instal·la un sistema operatiu en un disc dur, és habitual haver de dissenyar l’esquema de disc per a aquest. Els ordinadors que ja disposen de sistema operatiu, per defecte, tenen un disseny de fàbrica; però, quan es vol fer espai per a nous sistemes o canvien les necessitats del sistema, cal tornar a definir aquest esquema. 
</p>

<p>
Quan aquest esquema està definit, cal assignar un format o més, és a dir, cal indicar al sistema operatiu com s’ha de llegir o escriure sobre cadascuna de les zones de disc que s’han definit en l’esquema.
</p>

<h2><a id="distribucio_del_disc_dur" >Distribució del disc dur</a></h2>
<div class="level2">

<p>
El disc dur és el dispositiu encarregat d’emmagatzemar informació a l’ordinador d’una manera permanent, és a dir, de manera que es mantingui encara que s’apagui l’ordinador. Normalment, quan s’engega l’ordinador, es realitzen una sèrie de tests (de memòria, detecció de dispositius, etc.) i, a continuació, es carreguen en memòria els primers 512 bytes del disc dur, una zona anomenada <strong>MBR</strong> (<em>master boot record</em>_). Aquests 512 bytes es corresponen, típicament, amb el primer sector del disc.
</p>

<p>
Els discos durs no solen fer ús de la primera pista del disc dur i s’acostuma a fer una distribució similar a la següent:
</p>
<div class="iocnote"><div class="ioccontent">
<p>
Un <strong>gestor d’arrencada</strong> és un programa que permet seleccionar el sistema operatiu amb el qual es vol arrencar.
</p>
</div></div><ul>
<li class="level1"><div class="li"> Primer sector (512 bytes): <strong><em>master boot record</em></strong>.</div>
<ul>
<li class="level2"><div class="li"> 446 bytes per a l’<em>stage 1</em> del gestor d’arrencada (com, per exemple, el GRUB).</div>
</li>
<li class="level2"><div class="li"> 64 bytes per a la taula de particions del disc.</div>
</li>
<li class="level2"><div class="li"> 2 bytes que conformen un codi únic que representa la signatura del disc.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> La resta de la pista: <strong>regió de compatibilitat DOS</strong>.</div>
<ul>
<li class="level2"><div class="li"> Aquesta regió es manté per raons històriques. En sistemes DOS i Windows és buida. En sistemes Linux és habitual aprofitar-la per emmagatzemar-hi l’<em>stage 1.5</em> dels gestors d’arrencada.</div>
</li>
</ul>
</li>
</ul>

<p>
A partir de la segona pista comença la zona del disc efectiva per a l’emmagatzematge d’informació, espai on es poden definir <strong>particions</strong>. Podeu veure un exemple d’aquesta distribució en la <span class="figref"><a href="#Figure6"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figure6"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Distribució d’un disc dur de 20 <acronym title="Gigabyte">GB</acronym>

</figcaption><img src="../media/ic10mu6_06.png" alt="" /></figure>
<div class="footfigure">Sergi Tur - Acacha.org</div></div>
</div>

<h3><a id="particions_del_disc_dur" >Particions del disc dur</a></h3>
<div class="level3">
<div class="iocimportant"><div class="ioccontent">
<p>
Una <strong>partició</strong> és el nom genèric que rep cada divisió o part d’un dispositiu d’emmagatzematge de dades.
</p>
</div></div>
<p>
Les particions poden ser de tres tipus:
</p>
<ul>
<li class="level1"><div class="li"> <strong>Primàries</strong>: són particions de les quals té constància la taula de particions del MBR. En un disc dur hi pot haver quatre particions primàries o tres particions primàries i una d’estesa. Aquest tipus de particions es poden formatar lògicament. També es poden marcar com a actives, un atribut que els sistemes Windows necessiten tenir activat per poder arrencar.</div>
</li>
<li class="level1"><div class="li"> <strong>Esteses o ampliades</strong>: són un tipus concret de particions primàries que actuen com a contenidors de particions lògiques. Només una de les particions primàries del sistema es pot definir com a estesa. No es poden formatar lògicament ni es poden marcar com a actives.</div>
</li>
<li class="level1"><div class="li"> <strong>Lògiques</strong>: particions que ocupen una part o la totalitat d’una partició estesa. Cadascuna d’elles es pot formatar lògicament, però no es poden marcar com a actives. Se’n té constància a la taula de particions de l’EBR (<em>extended boot record</em>), una taula de particions específica per a les particions lògiques, emmagatzemada típicament a l’inici de la partició estesa. El nombre de particions lògiques d’un disc és arbitrari i depèn del port (IDE, SCSI, SATA) i del nucli del sistema operatiu que s’utilitzin.</div>
</li>
</ul>
<div class="iocnote"><div class="ioccontent">
<p>
<strong>Formatar lògicament</strong>: assignar un sistema de fitxers, per exemple FAT32, a una partició.
</p>
</div></div>
<p>
Aquest model de fer particions prové de l’inici dels vuitanta, una època en què els discos acostumaven a tenir, com a màxim, una mida al voltant dels 10 <acronym title="Megabyte">MB</acronym>. Amb una capacitat tan limitada no es considerava necessari disposar de més de quatre particions, que avui coneixem com a <em>particions primàries</em>. Amb l’increment de la capacitat dels discos va esdevenir necessari disposar d’algun tipus de mecanisme que permetés crear més particions i alhora fos compatible amb els esquemes anteriors: les particions esteses. Amb aquests contenidors de particions es va poder superar el límit establert fins aquell moment.
</p>

<p>
En la <span class="figref"><a href="#Figure7"><span>figura</span></a></span> podeu veure un exemple de fer particions seguint el model que hem explicat.
</p>
<div class="iocfigure"><a name="Figure7"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Exemple d’esquema de fer particions

</figcaption><img src="../media/ic10mu6_07.png" alt="" /></figure>
</div>
</div>

<h3><a id="nomenclatura_dels_discos_durs" >Nomenclatura dels discos durs</a></h3>
<div class="level3">

<p>
Per identificar discos i particions, Windows utilitza un únic sistema d’unitats; es tracta de lletres, de la A: la Z:, que s’assignen per descriure àrees d’emmagatzematge accessibles (dispositius, particions o volums). Els noms d’unitat assignats es poden canviar per mitjà de l’eina d’administració d’equips, que podeu trobar fent clic amb el botó dret sobre la icona de “Mi Pc” i seleccionant l’opció “Administració”. Podeu veure la pantalla d’Administració d’equips en la <span class="figref"><a href="#Figure8"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figure8"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Administració d’equips

</figcaption><img src="../media/ic10mu6_08.png" alt="" /></figure>
</div>
<p>
A Linux s’utilitza una nomenclatura específica per fer referència als discos i les particions d’aquests. En els sistemes antics que no feien servir la biblioteca <strong>libata</strong>, es diferenciava entre els discos IDE i els que no ho eren. Vegeu la nomenclatura emprada en la <span class="tabref"><a href="#Table4"><span>taula</span></a></span> i <span class="tabref"><a href="#Table5"><span>taula</span></a></span>.
</p>
<div class="ioctable ">
<div class="titletable"><a name="Table4"><span>Taula: </span></a>Nomenclatura per als discos IDE</div>
<div class="table"><table class="inline">
	<tr class="row0">
		<th class="col0"> Discos durs IDE </th><th class="col1"> Nomenclatura a Linux </th>
	</tr>
	<tr class="row1">
		<td class="col0"> IDE 0 (mestre) </td><td class="col1"> <strong>/dev/hda</strong> </td>
	</tr>
	<tr class="row2">
		<td class="col0"> IDE 0 (esclau) </td><td class="col1"> <strong>/dev/hdb</strong> </td>
	</tr>
	<tr class="row3">
		<td class="col0"> IDE 1 (mestre) </td><td class="col1"> <strong>/dev/hdc</strong> </td>
	</tr>
	<tr class="row4">
		<td class="col0"> IDE 1 (esclau) </td><td class="col1"> <strong>/dev/hdd</strong> </td>
	</tr>
	<tr class="row5">
		<td class="col0"> … </td><td class="col1"> … </td>
	</tr>
</table></div>
</div><div class="ioctable ">
<div class="titletable"><a name="Table5"><span>Taula: </span></a>Nomenclatura per als discos SATA, SCSI, USB, Firewire…</div>
<div class="table"><table class="inline">
	<tr class="row0">
		<th class="col0"> Discos durs IDE </th><th class="col1"> Nomenclatura a Linux </th>
	</tr>
	<tr class="row1">
		<td class="col0"> Disc 1 </td><td class="col1"> <strong>/dev/sda</strong> </td>
	</tr>
	<tr class="row2">
		<td class="col0"> Disc 2 </td><td class="col1"> <strong>/dev/sdb</strong> </td>
	</tr>
	<tr class="row3">
		<td class="col0"> … </td><td class="col1"> … </td>
	</tr>
</table></div>
</div>
<p>
Actualment, tots els discos, independentment de la tecnologia utilitzada (IDE, SATA, SCSI i, fins i tot, les memòries flaix) utilitzen la nomenclatura de la <span class="tabref"><a href="#Table5"><span>taula</span></a></span>.
</p>

<p>
Per poder fer referència a una partició concreta dins d’un disc, s’indica el número de la partició seguint la normativa següent:
</p>
<ul>
<li class="level1"><div class="li"> <strong>Particions primàries i ampliades</strong>: obtenen el número corresponent a la posició que ocupen en el disc, entre 1 i 4.</div>
</li>
<li class="level1"><div class="li"> <strong>Particions lògiques</strong>: se’ls assigna el número corresponent a la posició que ocupen dins la partició ampliada, a partir del 5.</div>
</li>
</ul>
<div class="iocexample"><div class="ioccontent"><p class="ioctitle">Exemples de nomenclatura de particions</p>
<p>
Primer disc dur IDE: <strong>/dev/hda</strong>
</p>

<p>
Segon disc dur SATA: <strong>/dev/sdb</strong>
</p>

<p>
Segona partició primària del primer disc dur IDE: <strong>/dev/hda2</strong>
</p>

<p>
Partició ampliada que ocupa la tercera posició dins el segon disc dur SATA: <strong>/dev/sdb3</strong>
</p>

<p>
Segona partició lògica del primer disc dur IDE: <strong>/dev/hda6</strong>
</p>

<p>
Quarta partició lògica del segon disc dur SATA: <strong>/dev/sdb8</strong>
</p>

<p>
Les particions explicades són les que es poden crear en una taula de particions del tipus MSDOS. Existeixen d’altres models de taula de particions que admeten moltes més particions primàries que no pas 4.
</p>
</div></div>
</div>

<h3><a id="avantatges_de_l_us_de_particions" >Avantatges de l&#039;ús de particions</a></h3>
<div class="level3">

<p>
Per a un usuari convencional, la utilització de particions pot semblar més un inconvenient que un avantatge, ja que subdivideix l’àrea del disc i aquesta subdivisió pot acabar amb particions amb alta ocupació i d’altres buides. La realitat és que la utilització de particions aporta una sèrie de beneficis sobre la màquina, el sistema operatiu i el mateix disc, com poden ser:
</p>
<ul>
<li class="level1"><div class="li"> <strong>Suport de diversos sistemes operatius</strong>: tot i que actualment és possible disposar de diversos sistemes operatius en una mateixa partició gràcies a les màquines virtuals, el rendiment que s’obté fent la instal·lació nativa dels sistemes operatius en particions independents és superior.</div>
</li>
<li class="level1"><div class="li"> <strong>Ús de diversos sistemes de fitxers</strong>: cada sistema de fitxers té unes característiques que el fan adequat o no per a certs usos. Disposar de particions permet delimitar diverses zones del sistema amb propòsits específics i, per tant, sistemes de fitxers concrets.</div>
</li>
<li class="level1"><div class="li"> <strong>Separació del sistema operatiu i les dades</strong>: es pot fer una organització més bona de les dades del disc, amb particions independents per a la instal·lació dels sistemes operatius i les dades, de manera que si s’ha de reinstal·lar el sistema operatiu, les dades no es vegin afectades.</div>
</li>
<li class="level1"><div class="li"> <strong>Protecció davant errors de disc</strong>: si apareixen errors en un partició de disc poden no afectar la resta de particions.</div>
</li>
<li class="level1"><div class="li"> <strong>Seguretat</strong>: es poden definir polítiques de seguretat diferents per a cada partició. En algunes particions pot ser que no es pugui escriure, per exemple.</div>
</li>
<li class="level1"><div class="li"> <strong>Còpia de seguretat</strong>: algunes particions es poden fer servir com a dipòsits de còpies de seguretat.</div>
</li>
</ul>

</div>

<h3><a id="esquemes_de_fer_particions" >Esquemes de fer particions</a></h3>
<div class="level3">

<p>
Els sistemes Windows no requereixen un esquema de fer particions determinat, i l’única condició necessària per instal·lar-los és una partició primària, marcada com a arrencable.
</p>
<div class="ioctextl"><div class="ioccontent"><p class="ioctitle">La mida de l&#039;àrea d&#039;intercanvi</p>
<p>
No hi ha unes regles clares per determinar la mida de la SWAP, però la relació següent acostuma a ser vàlida per a la majoria de casos:
</p>

<p>
Si la RAM és inferior a 512 <acronym title="Megabyte">MB</acronym>, la mida de la SWAP hauria de ser el doble de la mida de la RAM.
</p>

<p>
Si es disposa d’entre 512 <acronym title="Megabyte">MB</acronym> i 4 <acronym title="Gigabyte">GB</acronym>, la SWAP hauria de tenir la mateixa mida que la RAM.
</p>

<p>
Si se superen els 4 <acronym title="Gigabyte">GB</acronym> de memòria, amb 4 <acronym title="Gigabyte">GB</acronym> de SWAP n’hi ha prou.
</p>
</div></div>
<p>
En el cas dels sistemes Linux, es requereixen un mínim de dues particions:
</p>
<ul>
<li class="level1"><div class="li"> Sistema de fitxers arrel (<strong>/</strong>): és el que conté tot el sistema.</div>
</li>
<li class="level1"><div class="li"> Sistema de fitxers d’intercanvi (<em>swap</em>): es necessita per paginar la memòria RAM en el disc dur, quan la RAM disponible s’esgota.</div>
</li>
</ul>

<p>
Tot i això, quan es fa la instal·lació d’un sistema operatiu Linux, pot interessar disposar de particions independents per a altres punts del sistema com <strong>/home</strong>, <strong>/boot</strong> o <strong>/var</strong>. D’altra banda, directoris com <strong>/etc</strong>, <strong>/bin</strong> i <strong>/sbin</strong>, <strong>/lib</strong> i <strong>/dev</strong> s’han de trobar en el mateix sistema de fitxers que l’arrel del sistema.
</p>

</div>

<h2><a id="sistemes_de_fitxers" >Sistemes de fitxers</a></h2>
<div class="level2">

<p>
Quan es <strong>formata</strong> una partició, se li assigna un sistema de fitxers. Aquesta assignació permet definir l’estructura lògica organitzativa que utilitzarà el sistema operatiu per treballar amb els fitxers. Així, tots els sistemes de fitxers disposen d’uns principis bàsics que associen un nom a un contingut i autoritzen o no l’accés a la informació que emmagatzemen.
</p>

</div>

<h3><a id="tipologies_de_sistemes_de_fitxers" >Tipologies de sistemes de fitxers</a></h3>
<div class="level3">

<p>
La majoria de sistemes de fitxers actuals implementen una sèrie de tecnologies comunes que els caracteritzen i és interessant conèixer. Cadascuna d’aquestes tecnologies aporta una sèrie d’avantatges sobre els sistemes de fitxers que les implementen, a més d’una robustesa que en garanteix la utilització.
</p>

</div>

<h4><a id="sistemes_de_fitxers_transaccionals" >Sistemes de fitxers transaccionals</a></h4>
<div class="level4">

<p>
Els sistemes de fitxers transaccionals són els que implementen transaccions en les operacions que efectuen.
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
Una <strong>transacció</strong> és un conjunt d’operacions que cal executar en bloc, de manera que s’executin totes o no se n’executi cap. 
</p>
</div></div>
<p>
D’aquesta manera, si totes les operacions que componen la transacció s’executen correctament, la transacció acabarà en un <strong>commit</strong>, que fixarà els canvis realitzats. En cas que hi hagi algun error o no es pugui finalitzar l’operació, es produirà un <strong>rollback</strong>, que desfarà tots els canvis no consolidats.
</p>
<div class="ioctextl"><div class="ioccontent"><p class="ioctitle">Exemple de transacció</p>
<p>
L’exemple més clar de transacció és la transferència de fons entre dos comptes bancaris. Per consolidar aquesta transacció cal dur a terme els passos següents:
</p>

<p>
<strong>1.</strong> Comprovar que els dos comptes existeixen.
</p>

<p>
<strong>2.</strong> Comprovar que el compte origen disposa de fons suficient per fer la transferència.
</p>

<p>
<strong>3.</strong> Restar del compte origen l’import de la transferència.
</p>

<p>
<strong>4.</strong> Sumar al compte destinació l’import de la transferència.
</p>

<p>
Si en qualsevol dels passos es produís un error, hi podria haver pèrdues de capital. Per això, aquest conjunt d’operacions s’ha de realitzar com un tot, que es desfarà si no es completa.
</p>
</div></div>
<p>
Disposar d’un sistema de fitxers transaccional comporta que, si es produeix un error a la màquina o una fallada de corrent, es podran desfer els canvis parcials. Per exemple, si es mou un fitxer, fins que el fitxer no estigui efectivament a la destinació, no s’esborrarà el fitxer original.
</p>

<p>
Aquest tipus de sistemes de fitxers acostuma a disposar d’un <strong>registre per diari</strong> (<em>journaling</em>) que emmagatzema les operacions que es van duent a terme.
</p>

</div>

<h4><a id="sistemes_de_fitxers_distribuits" >Sistemes de fitxers distribuïts</a></h4>
<div class="level4">

<p>
Un <strong>sistema de fitxers distribuït</strong> permet accedir, mitjançant un arbre de fitxers únic, a informació emmagatzemada en qualsevol punt d’una xarxa, sense que calgui saber exactament en quin equip s’emmagatzema la informació. Aquest tipus de sistemes de fitxers també es coneix com a <strong>sistemes de fitxers en xarxa</strong>.
</p>

<p>
La utilització de sistemes de fitxers distribuïts facilita l’accés als arxius per part dels usuaris, ja que només necessiten accedir a un únic lloc a la xarxa per disposar dels arxius, independentment de la localització física que tinguin. Si es realitzen canvis de localització, els usuaris no es veuen afectats i el manteniment dels servidors de fitxers és molt més àgil. D’altra banda, quan es distribueixen aquests recursos, la càrrega del servidor es veu alleugerida notablement.
</p>

<p>
En relació amb aquest tipus de sistemes de fitxers existeixen els <strong>volums distribuïts</strong>, que són seccions d’un disc o més que es poden unir de manera que la interacció amb aquests volums sigui transparent a l’usuari, com si fos una unitat normal.
</p>

</div>

<h4><a id="sistemes_de_fitxers_xifrats" >Sistemes de fitxers xifrats</a></h4>
<div class="level4">

<p>
Un sistema de fitxers xifrat permet encriptar les dades de manera que es protegeixi el contingut de les particions. Aquest xifrat es basa en l’existència d’un controlador del sistema de fitxers que s’encarrega de xifrar i desxifrar la informació. Les dades xifrades només seran accessibles per a l’usuari autenticat. Aquest procés de xifrat i desxifrat és completament transparent a l’usuari.
</p>

</div>

<h4><a id="sistemes_de_fitxers_virtuals" >Sistemes de fitxers virtuals</a></h4>
<div class="level4">

<p>
Un <strong>sistema de fitxers virtual</strong> és una capa d’abstracció per sobre d’un o més sistemes de fitxers concrets. L’objectiu d’aquesta capa d’abstracció és permetre l’accés a diversos tipus de sistemes de fitxers d’una manera uniforme. Pot ser utilitzat com a pont entre sistemes Windows, MAC <acronym title="Operating System">OS</acronym> i Linux, de manera que les aplicacions puguin accedir als fitxers sense saber a quin tipus de sistema de fitxers s’està accedint. Els sistemes de fitxers virtuals poden treballar amb qualsevol tipus de fitxers.
</p>

<p>
A Linux, existeix un sistema de fitxers virtual molt particular al directori <strong>/proc</strong>. Tota la informació que es mostra en aquest sistema de fitxers no està emmagatzemada físicament a disc, sinó que representa una imatge de l’estat del sistema en temps real.
</p>

<p>
Un altre tipus molt especial de sistemes de fitxers virtuals són els que es materialitzen en un únic fitxer, com, per exemple, els discos durs virtuals de VirtualBox. Aquest tipus de sistemes de fitxers virtuals només són accessibles mitjançant la utilització de programari específic. El benefici principal d’aquest tipus de sistemes de fitxers és que la informació es troba centralitzada i facilita moltes tasques d’administració. Lògicament, aquests sistemes de fitxers es veuen limitats al marc del programari que els pot interpretar i tenen un rendiment inferior a un sistema de fitxers real.
</p>

</div>

<h3><a id="sistemes_de_fitxers_comuns" >Sistemes de fitxers comuns</a></h3>
<div class="level3">

<p>
Actualment, existeixen tota una sèrie de sistemes de fitxers amb característiques particulars. Cada sistema operatiu té suport per a una sèrie de sistemes de fitxers, propis o no del sistema operatiu. En aquest apartat s’estudiaran les característiques dels sistemes de fitxers més comunament utilitzats, així com el seu suport per part dels diversos sistemes operatius actuals.
</p>

</div>

<h4><a id="fat" >FAT</a></h4>
<div class="level4">

<p>
Aquesta família de sistemes de fitxers respon a l’acrònim de <em>file allocation table</em> (taula d’assignació de fitxers). És un sistema de fitxers primitiu que està molt present actualment.
</p>

<p>
Aquesta família de sistemes de fitxers va ser inventada per als sistemes operatius MS-DOS i va constituir l’únic sistema de fitxers suportat en les edicions no empresarials de Windows fins a Windows Millennium. Per això, tots els sistemes operatius entenen aquest format, cosa que l’ha convertit en un sistema de fitxers ideal per a l’intercanvi d’informació en dispositius d’emmagatzematge extraïble (discos durs i memòries USB). D’altra banda, té una implementació molt senzilla, motiu pel qual molts dispositius multimèdia (reproductors MP3, de vídeo…) també l’utilitzen com a sistema de fitxers de referència.
</p>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">El futur del sistema de fitxers FAT:</p>
<p>
Atès que Microsoft no continuarà suportant sistemes operatius basats en el DOS, és poc probable que es desenvolupin noves versions de FAT.
</p>
</div></div>
<p>
Tot i que existeixen diverses variants dins aquesta família, FAT16 i FAT32 són les implementacions principals. Les versions originals de FAT només suportaven noms de fitxer de vuit caràcters més tres per a l’extensió (coneguts com a noms 8.3), però les variants actuals suporten noms de fitxers més llargs.
</p>

<p>
La mida màxima dels volums amb aquest format és de 8 TB, amb una mida màxima de fitxer de 4 <acronym title="Gigabyte">GB</acronym>.
</p>

</div>

<h4><a id="ntfs" >NTFS</a></h4>
<div class="level4">

<p>

El sistema de fitxers NTFS (<em>new technology file system</em>) és el sistema de fitxers incorporat per defecte en les versions de Windows de servidor i en les versions d’escriptori a partir de Windows XP. 
</p>

<p>
Entre les característiques més interessants d’aquest sistema de fitxers trobem les següents:
</p>
<ul>
<li class="level1"><div class="li"> <strong>Quotes per a cada usuari del sistema</strong>: l’administrador pot definir una quantitat d’espai que pot fer servir cada usuari. També pot monitorar quant d’espai estan utilitzant els usuaris i establir nivells d’avís a aquestes quotes, així com la possibilitat de denegar l’accés als usuaris que superin aquest límit. No totes les versions de Windows tenen activada aquesta característica per defecte.</div>
</li>
<li class="level1"><div class="li"> <strong>Xifrat i compressió de fitxers</strong>: disposa d’un sistema de compressió de fitxers generalment transparent a l’usuari. Aquesta compressió té un cost de processament, així que l’ús que se’n fa ha de ser controlat. D’altra banda, NTFS disposa d’un sistema d’encriptació també transparent a l’usuari, no disponible en les versions més bàsiques de Windows.</div>
</li>
<li class="level1"><div class="li"> <strong>Creació d’enllaços</strong>: el sistema NTFS permet crear enllaços que donin un accés més directe als continguts del sistema de fitxers.</div>
</li>
<li class="level1"><div class="li"> <strong>Control de transaccions</strong>: a partir de Windows Vista es pot fer ús de l’NTFS transaccional, de manera que les operacions s’agrupin per transaccions que garanteixin els canvis.</div>
</li>
</ul>

<p>
Els volums NTFS poden arribar als 16 EB i la mida màxima de fitxer està limitada per la mida del volum.
</p>

</div>

<h4><a id="ext2" >ext2</a></h4>
<div class="level4">

<p>
El sistema de fitxers ext2 és el sistema natiu de Linux, històricament, tot i que al principi s’utilitzava MinixFS. Va ser creat a finals dels anys noranta i té la reputació de ser un sistema de fitxer confiable. El problema principal d’aquest sistema de fitxers és que les escriptures a disc es realitzen d’una manera asíncrona; això vol dir que si es produeix una fallada en el sistema, es pot perdre la informació que s’està escrivint, problema que es va solucionar amb l’aparició de noves versions d’aquest sistema de fitxers. Tot i que existeixen versions posteriors dins aquesta família de sistemes de fitxers, continua sent una bona elecció en particions petites on un registre per diari pot ser més un inconvenient que no pas un avantatge.
</p>

<p>
Aquest sistema de fitxers té una mida de volum màxima de 32 TB, amb una mida màxima de fitxer de 2 TB.
</p>

</div>

<h4><a id="ext3" >ext3</a></h4>
<div class="level4">

<p>
El sistema de fitxers ext3 és, bàsicament, el mateix sistema de fitxers ext2 amb registre per diari, encara que també incorpora altres millores pel que fa a l’emmagatzematge de les dades. El resultat d’aquesta millora és un sistema de fitxers tan confiable com ext2, però capaç de recuperar-se de fallades en el sistema d’una manera més ràpida. Per aquest motiu, els llindars de mida que accepta són els mateixos que els de ext2. És un sistema cent per cent compatible amb ext2 i es pot transformar fàcilment un sistema d’ext2 a ext3. 
</p>

</div>

<h4><a id="ext4" >ext4</a></h4>
<div class="level4">

<p>
L’última versió de la família ext és ext4 i significa un salt qualitatiu important en els sistemes de fitxers, aportant:
</p>
<ul>
<li class="level1"><div class="li"> Suport per a fitxers de fins a 1 EB i fitxers de fins a 16 TB, gràcies a un canvi substancial en la manera d’emmagatzemar la informació.</div>
</li>
<li class="level1"><div class="li"> Ús millor del processador.</div>
</li>
<li class="level1"><div class="li"> Millores en la velocitat de lectura i escriptura.</div>
</li>
</ul>

</div>

<h4><a id="altres_sistemes_de_fitxers" >Altres sistemes de fitxers</a></h4>
<div class="level4">

<p>

A banda dels sistemes ja presentats, és habitual trobar els sistemes de fitxers següents en equips actuals:
</p>
<ul>
<li class="level1"><div class="li"> <strong>ReiserFS</strong>: sistema de fitxers dissenyat des de zero com a sistema amb registre per diari amb un rendiment molt bo. Accepta particions de fins a 16 TB i fitxers de fins a 8 TB.</div>
</li>
<li class="level1"><div class="li"> <strong>nfs</strong>: sistema de fitxers dissenyat per accedir a discos situats en equips remots.</div>
</li>
<li class="level1"><div class="li"> <strong>iso9660</strong>: sistema de fitxers estàndard per a CD-ROM.</div>
</li>
</ul>

</div>

<h2><a id="manipulacio_de_particions" >Manipulació de particions</a></h2>
<div class="level2">

<p>
Per poder fer ús efectiu d’un disc dur, les tasques que cal dur a terme són dues:
</p>
<ol>
<li class="level1"><div class="li"> Crear l’esquema de fer particions del disc.</div>
</li>
<li class="level1"><div class="li"> Assignar el sistema de fitxers a cadascuna de les particions creades.</div>
</li>
</ol>

<p>
Tant a Windows com a Linux existeixen eines gràfiques i per mitjà de la línia de ordres que permeten la realització d’aquestes dues tasques.
</p>

<p>
Un altre escenari en el qual us podeu trobar és que tingueu una única partició de disc dur i vulgueu fer lloc per a altres particions. En aquest cas caldrà redimensionar la partició existent i crear noves particions per al nou sistema.
</p>

<p>
Qualsevol procés que tingui en compte la manipulació del disc dur i les particions d’aquest comporta un perill per a la integritat de les dades que conté. Per aquest motiu, si realitzeu canvis sobre el disc dur físic, assegureu-vos que disposeu de les còpies de seguretat pertinents. Tot i això, us recomanem que dugueu a terme totes les manipulacions que us presentem amb màquines virtuals, si no teniu prou experiència.
</p>

</div>

<h3><a id="manipulacio_per_mitja_de_l_entorn_grafic" >Manipulació per mitjà de l&#039;entorn gràfic</a></h3>
<div class="level3">

<p>
Per a la manipulació de discos per mitjà de l’entorn gràfic farem servir l’eina <strong>GParted</strong>, que es pot instal·lar en el sistema operatiu Ubuntu mitjançant l’ordre següent:
</p>
<pre class="code"># apt-get install gparted</pre>

<p>
GParted és utilitzat en la partició de disc, quan s’instal·la Ubuntu; per això està preinstal·lat en el seu CD autònom. Aquesta eina també es pot fer servir amb altres sistemes operatius com Windows o Mac <acronym title="Operating System">OS</acronym>, fent ús del CD autònom disponible a la pàgina web oficial d’aquesta eina: <a href="http://gparted.sourceforge.net/" class="urlextern" title="http://gparted.sourceforge.net/"  rel="nofollow">gparted.sourceforge.net</a>. La majoria de les operacions de manipulació de disc s’han de dur a terme quan aquests discos no es troben en ús. Per aquest motiu, la utilització del CD autònom és òptima en aquest cas. Malgrat això, si es fa ús de la versió instal·lada d’aquesta utilitat, es requerirà el reinici del sistema quan calgui.
</p>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">Live CD</p>
<p>
Un CD autònom (<em>live CD</em>) és una imatge de CD autoarrencable, és a dir, que quan s’introdueix en el sistema és capaç d’arrencar-lo i proporcionar un entorn de treball complet.
</p>
</div></div>
<p>
Tant amb la instal·lació nativa a Ubuntu com amb la CD autònom, la interfície de treball és idèntica. Podeu veure aquesta interacció en la <span class="figref"><a href="#Figure9"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figure9"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Interfície de treball del programa GParted

</figcaption><img src="../media/ic10mu6_09.png" alt="" /></figure>
</div>
<p>
Entre altres opcions, GParted permet:
</p>
<ul>
<li class="level1"><div class="li"> Crear noves taules de particions.</div>
</li>
<li class="level1"><div class="li"> Crear i eliminar particions.</div>
</li>
<li class="level1"><div class="li"> Redimensionar i moure particions.</div>
</li>
<li class="level1"><div class="li"> Comprovar l’estat de les particions.</div>
</li>
<li class="level1"><div class="li"> Etiquetar particions.</div>
</li>
<li class="level1"><div class="li"> Copiar i enganxar particions.</div>
</li>
<li class="level1"><div class="li"> Manipular els sistemes de fitxers següents:</div>
<ul>
<li class="level2"><div class="li"> btrfs</div>
</li>
<li class="level2"><div class="li"> ext2, ext3, ext4</div>
</li>
<li class="level2"><div class="li"> fat16, fat32</div>
</li>
<li class="level2"><div class="li"> hfs, hfs+</div>
</li>
<li class="level2"><div class="li"> linux-swap</div>
</li>
<li class="level2"><div class="li"> ntfs</div>
</li>
<li class="level2"><div class="li"> reiserfs / reiser4</div>
</li>
<li class="level2"><div class="li"> ufs</div>
</li>
<li class="level2"><div class="li"> xfs</div>
</li>
</ul>
</li>
</ul>

</div>

<h4><a id="crear_una_nova_taula_de_particions" >Crear una nova taula de particions</a></h4>
<div class="level4">

<p>
Quan s’utilitza per primera vegada un disc dur, cal definir-li una taula de particions. Altrament, es mostrarà com en la <span class="figref"><a href="#Figure10"><span>figura</span></a></span>. 
</p>
<div class="iocfigure"><a name="Figure10"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Aspecte d’un disc dur sense taula de particions

</figcaption><img src="../media/ic10mu6_10.png" alt="" /></figure>
</div>
<p>
Per crear aquesta taula de particions, cal anar al menú “Dispositiu” i seleccionar l’opció “Crea una taula de particions…”. Apareixerà un missatge d’advertència que indica que s’esborraran les dades del disc que podeu veure en la <span class="figref"><a href="#Figure11"><span>figura</span></a></span>. Aquest missatge també permet seleccionar el tipus de taula de particions que es crearà (per defecte, MS-DOS).
</p>
<div class="iocfigure"><a name="Figure11"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Creació d’una nova taula de particions

</figcaption><img src="../media/ic10mu6_11.png" alt="" /></figure>
</div>
<p>
Un cop fet això, ja es podrà dur a terme una manipulació completa del disc.
</p>

</div>

<h4><a id="crear_i_eliminar_particions" >Crear i eliminar particions</a></h4>
<div class="level4">

<p>

Hi ha diversos camins per a la creació de noves particions, com, per exemple, fer clic amb el botó dret del ratolí sobre l’espai no assignat del disc i seleccionar l’opció “Nou”. En clicar aquesta opció, apareixerà la pantalla de la <span class="figref"><a href="#Figure12"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figure12"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Creació d’una nova partició

</figcaption><img src="../media/ic10mu6_12.png" alt="" /></figure>
</div>
<p>
En la pantalla de creació de nova partició caldrà determinar-ne la mida, el punt del disc on es vol crear, el tipus de partició que es vol crear (primària, estesa o lògica), el sistema de fitxers amb el qual es formatarà i una etiqueta (si el sistema de fitxers assignat ho suporta).
</p>

<p>
Per crear noves particions lògiques, en comptes de fer clic amb el botó dret sobre l’espai buit, caldrà fer-ho sobre una partició estesa. Seguint aquest procés es poden anar creant les diverses particions al disc i arribar a un resultat similar al de la <span class="figref"><a href="#Figure13"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figure13"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Esquema de partició

</figcaption><img src="../media/ic10mu6_13.png" alt="" /></figure>
</div>
<p>
Per eliminar una partició, només cal seleccionar-la i prémer la tecla d’esborrat.
</p>

<p>
Si observeu la barra d’estat veureu que us indica que n’hi ha pendents un nombre determinat. Això és degut a que els canvis no es consoliden a disc immediatament, sinó que totes les operacions es realitzen d’una vegada quan es clica el botó “Realitza totes les operacions” que es troba a la barra d’eines, simbolitzat amb un vist. Si algun dels sistemes de fitxers manipulats es troba en ús, l’aplicació demanarà reiniciar la màquina per fer efectius els canvis.
</p>

</div>

<h4><a id="redimensionar_i_moure_particions" >Redimensionar i moure particions</a></h4>
<div class="level4">

<p>
Per redimensionar o moure una partició, cal seleccionar l’opció “Redimensiona/Mou” que es pot trobar en el menú contextual quan es clica qualsevol de les particions. Ho podeu veure en la <span class="figref"><a href="#Figure14"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figure14"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Redimensió de particions

</figcaption><img src="../media/ic10mu6_14.png" alt="" /></figure>
</div>
<p>
Un cop més, aquests canvis restaran llistats fins que es consolidin. Aquesta operació és una de les més costoses per al gestor de particions, sobretot si hi ha desfragmentació.
</p>

</div>

<h4><a id="copiar_i_enganxar_particions" >Copiar i enganxar particions</a></h4>
<div class="level4">

<p>
Copiar i enganxar particions pot ser útil per crear duplicats idèntics de particions. Per fer-ho caldrà clicar sobre una partició existent i seleccionar l’opció “Copia” del menú contextual. Seguidament, caldrà clicar amb el botó dret sobre una àrea no assignada suficientment gran del disc i seleccionar l’opció “Enganxa”, fet que farà aparèixer la pantalla de la <span class="figref"><a href="#Figure15"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figure15"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Enganxar una partició

</figcaption><img src="../media/ic10mu6_15.png" alt="" /></figure>
</div>
<p>
El programa permet modificar la mida de la partició destinació creada. En aquest cas, sempre cal tenir en compte que la nova partició no podrà tenir una mida inferior a la part ocupada de la partició origen.
</p>

</div>

<h3><a id="manipulacio_per_mitja_de_la_linia_de_ordres" >Manipulació per mitjà de la línia de ordres</a></h3>
<div class="level3">

<p>
Els sistemes operatius Linux disposen d’eines per mitjà de la línia d’ordres
que permeten dur a terme una manipulació molt completa dels discos. En concret, les dues eines bàsiques per a la manipulació de discos des de la línia de ordres són:
</p>
<ul>
<li class="level1"><div class="li"> <strong>fdisk</strong>: eina que permet manipular la taula de particions.</div>
</li>
<li class="level1"><div class="li"> <strong>mkfs</strong>: eina que permet assignar sistemes de fitxers a les particions.</div>
</li>
</ul>
<div class="iocnote"><div class="ioccontent">
<p>
El programa sobre el qual es construeix GParted, <strong>parted</strong>, es troba disponible per mitjà de la línia de ordres.
</p>
</div></div>
<p>
Els sistemes Windows també disposen d’una utilitat, <strong>diskpart</strong>, que permet fer la manipulació de particions, però té un mecanisme de treball força complex comparat amb les dues eines de Linux esmentades; per això queda fora de l’àmbit d’aquest apartat.
</p>

</div>

<h4><a id="manipulacio_de_la_taula_de_particions" >Manipulació de la taula de particions</a></h4>
<div class="level4">

<p>
L’eina <strong>fdisk</strong> és proporcionada pel paquet <strong>util-linux</strong>. Aquesta ordre ha de ser executada com a superusuari, encara que s’utilitzi en mode de consulta.
</p>
<pre class="code"># fdisk -l
Disc /dev/sdb: 8589 MB, 8589934592 bytes
255 heads, 63 sectors/track, 1044 cylinders
Units = cilindres of 16065 * 512 = 8225280 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x00042d5d

Dispositiu arrenc.   Inici         Final    Blocs    Id  Sistema
/dev/sdb1               1         255     2048256   83  Linux
/dev/sdb2             511        1044     4289355    5  Estesa
/dev/sdb3             256         510     2048287+   7  HPFS/NTFS
/dev/sdb5             511         574      514048+  82  Intercanvi Linux / Solaris
/dev/sdb6             575         701     1020096   83  Linux
/dev/sdb7             702         828     1020096    b  W95 FAT32
/dev/sdb8             829        1044     1734988+  83  Linux</pre>

<p>
La sortida d’aquesta ordre té dues parts ben diferenciades:
</p>
<ul>
<li class="level1"><div class="li"> La primera part mostra dades del dispositiu:</div>
<ul>
<li class="level2"><div class="li"> Nom del dispositiu: <strong>/dev/sdb</strong>.</div>
</li>
<li class="level2"><div class="li"> Mida: <strong>8589 <acronym title="Megabyte">MB</acronym></strong>.</div>
</li>
<li class="level2"><div class="li"> Mida en bytes: <strong>8589934592</strong>.</div>
</li>
<li class="level2"><div class="li"> Mida de cilindre, de sector i d’entrada i sortida.</div>
</li>
<li class="level2"><div class="li"> Identificador del disc: <strong>0x7976a91f</strong>.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> La segona part informa de cadascuna de les particions del disc, indicant:</div>
<ul>
<li class="level2"><div class="li"> El nom que té dins del sistema: <strong>/dev/sdb1</strong></div>
</li>
<li class="level2"><div class="li"> Si està marcada com a activa/arrencable.</div>
</li>
<li class="level2"><div class="li"> L’inici i la fi, en cilindres.</div>
</li>
<li class="level2"><div class="li"> La mida que té en blocs.</div>
</li>
<li class="level2"><div class="li"> El codi x86 referent a la partició (els podeu consultar tots a l’opció <strong>l</strong> del menú de <strong>fdisk</strong>.</div>
</li>
<li class="level2"><div class="li"> El sistema de fitxers utilitzat per la partició.</div>
</li>
</ul>
</li>
</ul>

<p>
Si s’executa l’ordre <strong>fdisk</strong> sobre un disc concret, s’entra al mode interactiu:
</p>
<pre class="code"># fdisk /dev/sdb</pre>

<p>
Per accedir a totes les opcions disponibles d’aquesta eina, premeu la lletra <strong>m</strong>:
</p>
<pre class="code">Ordre (m per obtenir ajuda): m
Acció de l&#039;ordre
   a   estableix un senyalador d&#039;arrencada
   b   edita l&#039;etiqueta de disc bsd
   c   estableix el senyalador de compatibilitat amb DOS
   d   suprimeix una partició
   l   llista els tipus de particions conegudes
   m   imprimeix aquest menú
   n   afegeix una nova partició
   o   crea una nova taula de particions DOS buida
   p   imprimeix la taula de particions
   q   surt sense desar els canvis
   s   crea una etiqueta de disc Sun nova
   t   canvia l&#039;identificador del sistema d&#039;una partició
   u   canvia les unitats de visualització i entrada
   v   verifica la taula de particions
   w   escriu la taula al disc i surt
   x   funcions addicionals (només experts)</pre>

<p>
Per poder utilitzar el disc, primerament cal afegir-hi una taula de particions, si no existia prèviament.
</p>
<pre class="code">Ordre (m per obtenir ajuda): o
Building a new DOS disklabel with disk identifier 0x5f7b5e71.
Changes will remain in memory only, until you decide to write them.
After that, of course, the previous content won&#039;t be recoverable.

Avís: el senyalador 0x0000 invàlid de la taula de particions 4 es corregeix amb w(escriu)

WARNING: DOS-compatible mode is deprecated. It&#039;s strongly recommended to
         switch off the mode (command &#039;c&#039;) and change display units to
         sectors (command &#039;u&#039;).</pre>

</div>

<h4><a id="creacio_de_noves_particions" >Creació de noves particions</a></h4>
<div class="level4">

<p>
Per crear una partició nova, cal seleccionar l’opció <strong>n</strong>. Aquesta opció, inicialment, només permetrà la creació de particions primàries i esteses. Un cop es disposi d’una partició estesa, es podran crear particions lògiques al seu interior. En qualsevol cas, les dades per introduir seran:
</p>
<ul>
<li class="level1"><div class="li"> El nombre de partició que cal crear.</div>
</li>
<li class="level1"><div class="li"> El primer cilindre de la partició (que, per defecte, es trobarà adjacent a l’última partició creada).</div>
</li>
<li class="level1"><div class="li"> L’últim cilindre (o un increment de mida, que pot estar en KB, <acronym title="Megabyte">MB</acronym> o <acronym title="Gigabyte">GB</acronym>).</div>
</li>
</ul>
<pre class="code">Ordre (m per obtenir ajuda): n
Acció de l&#039;ordre
e   estesa
   p   partició primària (1-4)
p
Nombre de partició (1-4): 1
Primer cilindre (1-1044, valor per defecte 1): 1
Last cilindre, +cilindres or +size{K,M,G} (1-1044, valor per defecte 1044): +1000M

Ordre (m per obtenir ajuda): n
Acció de l&#039;ordre
e   estesa
   p   partició primària (1-4)
e
Nombre de partició (1-4): 2
Primer cilindre (129-1044, valor per defecte 129): 
S&#039;està utilitzant el valor per defecte 129
Last cilindre, +cilindres or +size{K,M,G} (129-1044, valor per defecte 1044):  
S&#039;està utilitzant el valor per defecte 1044

Ordre (m per obtenir ajuda): n
Acció de l&#039;ordre
l   lògica (5 o superior)
   p   partició primària (1-4)
l
Primer cilindre (129-1044, valor per defecte 129): 
S&#039;està utilitzant el valor per defecte 129
Last cilindre, +cilindres or +size{K,M,G} (129-1044, valor per defecte 1044): +500M</pre>

<p>
Podeu mostrar la taula de particions que esteu creant, en qualsevol moment.
</p>
<pre class="code">Ordre (m per obtenir ajuda): p

Disc /dev/sdb: 8589 MB, 8589934592 bytes
255 heads, 63 sectors/track, 1044 cylinders
Units = cilindres of 16065 * 512 = 8225280 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x5f7b5e71

Dispositiu arrenc.   Inici         Final    Blocs    Id  Sistema
/dev/sdb1               1         128     1028128+  83  Linux
/dev/sdb2             129        1044     7357770    5  Estesa
/dev/sdb5             129         193      522081   83  Linux
</pre>

<p>
Totes les operacions de manipulació del disc no es consolidaran efectivament fins que no s’enregistrin els canvis a la taula de particions. Aquests canvis es poden enregistrar amb l’opció <strong>w</strong>. 
</p>
<pre class="code">Ordre (m per obtenir ajuda): w
S&#039;ha modificat la taula de particions.

S&#039;està cridant ioctl() per rellegir la taula de particions.
S&#039;estan sincronitzant els discos.</pre>

<p>
Si sortiu de l’aplicació sense enregistrar, amb la lletra <strong>q</strong>, aquests canvis no es consolidaran.
</p>

</div>

<h4><a id="eliminacio_de_particions" >Eliminació de particions</a></h4>
<div class="level4">

<p>
Una altra operació habitual és la supressió de particions. L’opció que permet dur a terme aquesta operació és <strong>d</strong>. Recordeu que cal escriure els canvis perquè siguin efectius.
</p>
<pre class="code">Ordre (m per obtenir ajuda): d
Nombre de partició (1-5): 5

Ordre (m per obtenir ajuda): p

Disc /dev/sdb: 8589 MB, 8589934592 bytes
255 heads, 63 sectors/track, 1044 cylinders
Units = cilindres of 16065 * 512 = 8225280 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x5f7b5e71

Dispositiu arrenc.   Inici         Final    Blocs    Id  Sistema
/dev/sdb1               1         128     1028128+  83  Linux
/dev/sdb2             129        1044     7357770    5  Estesa

Ordre (m per obtenir ajuda): w
S&#039;ha modificat la taula de particions.

S&#039;està cridant ioctl() per rellegir la taula de particions.
S&#039;estan sincronitzant els discos.</pre>

</div>

<h4><a id="formatacio_de_particions" >Formatació de particions</a></h4>
<div class="level4">

<p>
Un cop es disposa de la distribució del disc que es vol, l’eina <strong>mkfs</strong> permet assignar sistemes de fitxers a aquestes particions. L’eina <strong>mkfs</strong> es pot considerar un processador d’accés (<em>front-end</em>), ja que s’encarrega de cridar les eines necessàries segons el tipus de partició que s’ha de formatar. Té la sintaxi següent:
</p>
<pre class="code"># mkfs.tipus [ opcions ] sistema_de_fitxers</pre>

<p>
On <strong>sistema_de_fitxers</strong> és el nom del dispositiu (<strong>/dev/sdb1</strong>), <strong>tipus</strong> és el tipus de sistema de fitxers que es vol crear. Les opcions específiques per a cada sistema de fitxers es poden trobar a la pàgina de manual de cadascun d’aquests.
</p>

<p>
Els tipus de sistemes de fitxers suportats per aquest programa són, entre d’altres, els següents:
</p>
<ul>
<li class="level1"><div class="li"> ext2, ext3, ext4.</div>
</li>
<li class="level1"><div class="li"> NTFS.</div>
</li>
<li class="level1"><div class="li"> FAT32 (vfat, amb l’opció -F 32, per indicar que es vol FAT 32).</div>
</li>
<li class="level1"><div class="li"> bfs, cramfs, minix.</div>
</li>
</ul>

<p>
Per exemple:
</p>
<pre class="code"># mkfs.ext4 -L etiqueta /dev/sdb1
mke2fs 1.41.11 (14-Mar-2010)
Etiqueta del sistema de fitxers=etiqueta
Tipus de sistema operatiu: Linux
Mida del bloc=4096 (log=2)
Mida del fragment=4096 (log=2)
Stride=0 blocks, Stripe width=0 blocks
64384 nodes-i, 257032 blocs
12851 blocs (5.00%) reservats per al superusuari
Bloc de dades inicial=0
Màxim de blocs del sistema de fitxers=264241152
8 grups de blocs
32768 blocs per grup, 32768 fragments per grup
8048 nodes-i per grup
Còpies de seguretat del superbloc desades en els blocs: 
	32768, 98304, 163840, 229376

Escriptura de les taules de nodes-i:fet                            
Creació del registre de transaccions (4096 blocs): fet
Escriptura de la informació dels superblocs i de comptabilitat del sistema de fitxers:fet

This filesystem will be automatically checked every 38 mounts or
180 days, whichever comes first.  Use tune2fs -c or -i to override.</pre>

<p>
Com podeu veure, no hi ha una opció de <strong>mkfs</strong> per crear particions d’intercanvi. Aquest tipus de particions es formata amb l’eina <strong>mkswap</strong>:
</p>
<pre class="code">mkswap /dev/sdb5
Setting up swapspace version 1, size = 7357732 KiB
sense etiqueta, UUID=71dd9d86-3986-4d5f-b1ae-acfc7b5a6f02</pre>

<p>
La creació d’una partició d’intercanvi no implica que aquesta s’estigui utilitzant. Per indicar al sistema que utilitzi una partició d’intercanvi cal executar l’ordre <strong>swapon</strong> i per deixar d’emprar-ne alguna, <strong>swapoff</strong>.
</p>
<pre class="code"># swapon /dev/sdb5
# swapoff /dev/sda5</pre>

</div>

<h2><a id="muntatge_i_desmuntatge_de_particions" >Muntatge i desmuntatge de particions</a></h2>
<div class="level2">

<p>

Un cop es té un disc en particions i amb els sistemes de fitxers assignats a cadascuna de les particions, el sistema operatiu necessita un mecanisme per accedir a les dades emmagatzemades en aquestes particions.
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
<strong>Muntar una partició</strong> és informar el sistema operatiu del camí dins la jerarquia d’aquest des d’on es pot accedir a les dades.
</p>
</div></div>
<p>
A Windows, s’assigna automàticament una lletra d’unitat (C:, D:) a cada partició. A Linux no s’assignen unitats, ja que té un arbre de directoris unificat, així que caldrà assignar un punt de muntatge a la partició.
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
A Linux, un <strong>punt de muntatge</strong> és el directori que s’utilitza com a accés al sistema de fitxers d’una partició. Qualsevol directori del sistema es pot utilitzar com a punt de muntatge.
</p>
</div></div>
</div>

<h3><a id="muntatge_i_desmuntatge_de_particions_a_windows" >Muntatge i desmuntatge de particions a Windows</a></h3>
<div class="level3">

<p>

El muntatge de dispositius a Windows és automàtic: quan es connecta un dispositiu, el sistema instal·la els controladors necessaris (si no en disposa ja) i seguidament en permet l’accés. Malgrat que el muntatge és automàtic, quan es vol desconnectar un dispositiu del sistema cal efectuar-ne el desmuntatge.
</p>

<p>
Per desmuntar un sistema de fitxers a Windows hi ha diversos camins. Els dos més típics són els següents:
</p>

<p>
<strong>1.</strong> Clicar el botó d’expulsió de maquinari d’una manera segura, situat al costat del rellotge de Windows, i seleccionar el sistema de fitxers que cal extreure (<span class="figref"><a href="#Figure16"><span>figura</span></a></span>).
</p>
<div class="iocfigure"><a name="Figure16"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Expulsió de dispositius d’una manera segura

</figcaption><img src="../media/ic10mu6_16.png" alt="" /></figure>
</div>
<p>
<strong>2.</strong> Anar a “Mi Pc” i fer clic amb el botó dret del ratolí sobre el dispositiu que es vol extreure. En el menú contextual, seleccionar l’opció “Expulsar” (<span class="figref"><a href="#Figure17"><span>figura</span></a></span>).
</p>
<div class="iocfigure"><a name="Figure17"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Extreure un dispositiu des de Mi Pc

</figcaption><img src="../media/ic10mu6_17.png" alt="" /></figure>
</div>
<p>
Per defecte, Windows assigna una lletra d’unitat a cadascuna de les particions muntades al sistema, però és possible assignar un directori dins del sistema a una partició, de manera que quan s’hi accedeixi es puguin visualitzar els continguts de la partició. Per configurar el muntatge en directori d’una partició aneu a l’“Administrador de discos”, feu clic amb el botó dret del ratolí sobre el dispositiu o partició que voleu configurar i seleccioneu l’opció “Cambiar la letra y rutas de acceso a la unidad…”. Vegeu aquest procés en la <span class="figref"><a href="#Figure18"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figure18"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Canviar les lletres d’unitat i les rutes d’accés

</figcaption><img src="../media/ic10mu6_18.png" alt="" /></figure>
</div>
<p>
En aquesta pantalla, podreu afegir o canviar la ruta en forma d’unitat o en forma de directori dins el sistema (seleccionant-lo). Tingueu en compte que en tot moment el dispositiu o partició ha de disposar d’algun mètode d’accés, així que, per canviar l’accés d’unitat a directori, cal que de primer afegiu el directori i més tard elimineu la unitat, tal com es pot observar en la <span class="figref"><a href="#Figure19"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figure19"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Doble mètode d’accés assignat a una memòria USB

</figcaption><img src="../media/ic10mu6_19.png" alt="" /></figure>
</div>
</div>

<h3><a id="muntatge_i_desmuntatge_de_particions_a_linux" >Muntatge i desmuntatge de particions a Linux</a></h3>
<div class="level3">

<p>
Quan es connecta qualsevol partició o dispositiu a un sistema operatiu Linux d’escriptori, acostuma a aparèixer en el sistema gràfic de l’explorador de fitxers. Quan s’accedeix per primera vegada a la partició, aquesta es munta automàticament a un directori que té com a nom l’etiqueta (o l’UUID, si no té etiqueta) de la partició i penja de <strong>/media</strong>. Podeu veure un exemple de punt de muntatge en la <span class="figref"><a href="#Figure20"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figure20"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Les particions es munten automàticament al directori mèdia

</figcaption><img src="../media/ic10mu6_20.png" alt="" /></figure>
</div>
<p>
Per desmuntar aquests sistemes de fitxers, es pot clicar el botó d’extracció de la barra lateral o fer clic amb el botó dret del ratolí sobre la unitat creada i seleccionar l’opció Desmunta, tal com es descriu en la <span class="figref"><a href="#Figure21"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figure21"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Desmuntatge d’un dispositiu

</figcaption><img src="../media/ic10mu6_21.png" alt="" /></figure>
</div>
<p>
Tot i això, aquesta interfície de treball no és la més típica dels sistemes Linux i és important saber realitzar aquestes mateixes operacions mitjançant l’intèrpret d’ordres. L’ordre principal amb la qual es treballarà és <strong>mount</strong>.
</p>

</div>

<h4><a id="consulta_de_particions_muntades" >Consulta de particions muntades</a></h4>
<div class="level4">

<p>
Una de les primeres operacions que es pot dur a terme quan s’està treballant amb particions és saber què hi ha muntat en un moment determinat. Per obtenir aquesta informació podeu executar l’ordre <strong>mount -l</strong>.
</p>
<pre class="code">$ mount -l
/dev/sda2 on / type ext4 (rw,errors=remount-ro)
proc on /proc type proc (rw,noexec,nosuid,nodev)
none on /sys type sysfs (rw,noexec,nosuid,nodev)
none on /sys/fs/fuse/connections type fusectl (rw)
none on /sys/kernel/debug type debugfs (rw)
none on /sys/kernel/security type securityfs (rw)
none on /dev type devtmpfs (rw,mode=0755)
none on /dev/pts type devpts (rw,noexec,nosuid,gid=5,mode=0620)
none on /dev/shm type tmpfs (rw,nosuid,nodev)
none on /var/run type tmpfs (rw,nosuid,mode=0755)
none on /var/lock type tmpfs (rw,noexec,nosuid,nodev)
none on /lib/init/rw type tmpfs (rw,nosuid,mode=0755)
/dev/sda6 on /dades type ext3 (rw,nosuid,nodev,allow_other,blksize=4096) [DIPOSIT]
binfmt_misc on /proc/sys/fs/binfmt_misc type binfmt_misc (rw,noexec,nosuid,nodev)
gvfs-fuse-daemon on /home/jlantunez/.gvfs type fuse.gvfs-fuse-daemon (rw,nosuid,nodev,user=jlantunez)
/dev/sdb1 on /media/Mindeos WD type fuseblk (rw,nosuid,nodev,allow_other,blksize=4096,default_permissions) [Mindeos WD]
/dev/sdc1 on /media/MINDBLACK type vfat (rw,nosuid,nodev,uhelper=udisks,uid=1000,gid=1000,shortname=mixed,dmask=0077,utf8=1,flush) [MINDBLACK]</pre>

<p>
Per exemple, l’arrel del sistema (<strong>/</strong>) es troba a la partició <strong>/dev/sda2</strong> (és a dir, la segona partició primària del primer disc dur SATA). El sistema de fitxers que té és ext4 i està muntada en mode lectura i escriptura (en cas d’error en el muntatge, es tornaria a muntar en mode només lectura).
</p>
<pre class="code">/dev/sda2 on / type ext4 (rw,errors=remount-ro)</pre>

<p>
En el llistat retornat podeu identificar tant sistemes reals com sistemes virtuals de fitxers. Aquesta mateixa informació també es pot consultar en els fitxers <strong>/etc/mtab</strong> i <strong>/proc/mounts</strong>.
</p>

</div>

<h4><a id="muntatge_de_particions" >Muntatge de particions</a></h4>
<div class="level4">

<p>
El format estàndard per al muntatge de dispositius amb l’ordre <strong>mount</strong> és:
</p>
<pre class="code"># mount -t tipus partició punt_de_muntatge</pre>

<p>
on <strong>tipus</strong> és el tipus de sistema de fitxers del volum, <strong>partició</strong> és el descriptor de la partició que es vol muntar i <strong>punt_de_muntatge</strong>, el directori del sistema que donarà accés a les dades de la partició, que cal que existeixi prèviament. Els punts de muntatge típicament es troben a <strong>/mnt</strong> o <strong>/media</strong>. Per exemple:
</p>
<pre class="code"># mount -t ext3 /dev/sda6 /dades</pre>

<p>
Algunes de les opcions més interessants d’aquesta ordre es poden veure en la <span class="tabref"><a href="#Table6"><span>taula</span></a></span>.
</p>
<div class="ioctable ">
<div class="titletable"><a name="Table6"><span>Taula: </span></a>Opcions de l’ordre mount</div>
<div class="table"><table class="inline">
	<tr class="row0">
		<th class="col0"> Opció </th><th class="col1"> Utilitat </th>
	</tr>
	<tr class="row1">
		<td class="col0"> <strong>-a</strong> </td><td class="col1"> Muntatge automàtic de tots els sistemes de fitxers especificats al fitxer <strong>/etc/fstab</strong>. </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <strong>-f</strong> </td><td class="col1"> Simulació de muntatge.</td>
	</tr>
	<tr class="row3">
		<td class="col0"> <strong>-h</strong> </td><td class="col1"> Ajuda.</td>
	</tr>
	<tr class="row4">
		<td class="col0"> <strong>-o</strong> </td><td class="col1"> Permet la introducció d’opcions (consulteu aquestes opcions al manual de <strong>mount</strong>). </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <strong>-r</strong> </td><td class="col1"> Muntatge del sistema de fitxers en mode només de lectura. </td>
	</tr>
	<tr class="row6">
		<td class="col0"> <strong>-t</strong> </td><td class="col1"> Utilitzada per indicar el sistema de fitxers que utilitzarà la partició. Si no s’indica, l’ordre <strong>mount</strong>. </td>
	</tr>
	<tr class="row7">
		<td class="col0"> <strong>-w</strong> </td><td class="col1"> Muntatge del sistema de fitxers en mode lectura i escriptura. </td>
	</tr>
</table></div>
</div>
<p>
L’ordre <strong>mount</strong> també permet el muntatge de dispositius per etiqueta (opció <strong>-L</strong>) o per identificador únic o UUID (opció <strong>-u</strong>). De la mateixa manera que es munten dispositius reals, es pot fer el muntatge d’imatges de disc, com, per exemple, una ISO (imatge de CD). 
</p>
<pre class="code"># mount -t iso9660 -o loop arxiu.iso punt_de_muntatge</pre>

<p>
Com podeu veure, es fa servir l’opció <strong>loop</strong>, que indica que la imatge de CD indicada és un dispositiu de <em>loopback</em>.
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
Un <strong>dispositiu de <em>loopback</em></strong> és un tipus de dispositiu especial a Linux que permet fer referències a un fitxer com si fos un dispositiu real.
</p>
</div></div>
</div>

<h4><a id="desmuntatge_de_particions" >Desmuntatge de particions</a></h4>
<div class="level4">

<p>
L’ordre que permet el desmuntatge de particions és <strong>umount</strong>. Té una sintaxi molt similar a la de <strong>mount</strong>:
</p>
<pre class="code"># umount punt_o_dispositiu</pre>

<p>
de manera que es pot desmuntar una partició tant indicant-ne el punt de muntatge com el descriptor. Per exemple, si realitzem el muntatge següent:
</p>
<pre class="code"># mount /dev/sda6 /dades</pre>

<p>
podrem fer el desmuntatge de les dues maneres que s’indiquen:
</p>
<pre class="code"># umount /dev/sda6
# umount /dades</pre>

<p>
Les opcions de l’ordre <strong>umount</strong> són força similars a les de <strong>mount</strong>, però cal destacar les de la <span class="tabref"><a href="#Table7"><span>taula</span></a></span>:
</p>
<div class="ioctable ">
<div class="titletable"><a name="Table7"><span>Taula: </span></a>Opcions de l’ordre umount.</div>
<div class="table"><table class="inline">
	<tr class="row0">
		<th class="col0"> Opció </th><th class="col1"> Utilitat </th>
	</tr>
	<tr class="row1">
		<td class="col0"> <strong>-a</strong> </td><td class="col1"> Intenta desmuntar tots els sistemes de fitxers indicats al fitxer <strong>/etc/mtab</strong>. No tots els sistemes de fitxers es desmuntaran (per exemple, l’arrel del sistema no ho farà). </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <strong>-f</strong> </td><td class="col1"> Força el desmuntatge (no funciona si hi ha fitxers en ús). </td>
	</tr>
</table></div>
</div>
<p>
És força habitual trobar-se en situacions en què no es pot desmuntar un sistema de fitxers, tot i que no hi ha cap arxiu en ús. En aquests casos, és útil tornar a muntar el dispositiu en mode només lectura per fer-ne el desmuntatge posteriorment.
</p>

</div>

<h4><a id="automatitzacio_del_muntatge_de_particions" >Automatització del muntatge de particions</a></h4>
<div class="level4">

<p>
El fitxer <strong>/etc/fstab</strong> conté la informació de muntatge per defecte de les particions del sistema. La utilització d’aquest fitxer té un seguit d’avantatges importants, entre d’altres, els següents:
</p>
<ul>
<li class="level1"><div class="li"> Com a norma general, l’únic usuari que pot fer el muntatge i desmuntatge de particions és el superusuari. Es pot fer ús d’aquest fitxer per indicar que una partició en concret pot ser manipulada per altres usuaris.</div>
</li>
<li class="level1"><div class="li"> Pot arribar a ser contraproduent haver d’introduir cadascuna de les opcions de muntatge cada vegada que es munta una partició. En aquest fitxer es poden especificar les opcions i, fins i tot, el punt de muntatge per defecte, de manera que només calgui indicar el descriptor de dispositiu a l’ordre <strong>mount</strong>.</div>
</li>
<li class="level1"><div class="li"> És interessant disposar de certes particions muntades a l’inici del sistema: es pot configurar en aquest fitxer.</div>
</li>
</ul>

<p>
El contingut d’aquest fitxer és similar al següent:
</p>
<pre class="code"># /etc/fstab: static file system information.
#
# Use &#039;blkid -o value -s UUID&#039; to print the universally unique identifier
# for a device; this may be used with UUID= as a more robust way to name
# devices that works even if disks are added and removed. See fstab(5).
#
# &lt;file system&gt; &lt;mount point&gt;   &lt;type&gt;  &lt;options&gt;       &lt;dump&gt;  &lt;pass&gt;
proc            /proc           proc    nodev,noexec,nosuid 0       0
# / was on /dev/sda1 during installation
UUID=ed8fdf1b-d26e-4c4c-8f37-664e4af9c62d /               ext4    errors=remount-ro 0       1
# swap was on /dev/sda5 during installation
UUID=b472bc0a-c354-47b3-924f-1e49892db3fa none            swap    sw              0       0</pre>

<p>
Com es pot observar, és un fitxer organitzat per columnes en què, cada columna, té el significat següent:
</p>
<ol>
<li class="level1"><div class="li"> <strong>File system</strong>: indica el dispositiu o partició que s’ha de muntar. Poden ser tant dispositius locals com remots i es poden especificar de diverses maneres:</div>
<ul>
<li class="level2"><div class="li"> <strong>/dev/sda2</strong>: partició primària 2 del primer disc dur SATA.</div>
</li>
<li class="level2"><div class="li"> <strong>/dev/cdrom</strong>: unitat de CD-ROM.</div>
</li>
<li class="level2"><div class="li"> <strong>UUID=ed8fdf1b-d26e-4c4c-8f37-664e4af9c62d</strong>: identificador únic de la partició.</div>
</li>
<li class="level2"><div class="li"> <strong>LABEL=DIPOSIT</strong>: etiqueta de la partició.</div>
</li>
<li class="level2"><div class="li"> <strong>172.16.202.10:/dades</strong>: sistema de fitxers remot.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <strong>Mount point</strong>: punt de muntatge per defecte d’aquesta partició. Si es configura aquest punt de muntatge, quan es faci el <strong>mount</strong> de la partició, no caldrà indicar el punt de muntatge. Si no té punt de muntatge, es pot indicar amb <strong>none</strong> (per exemple, la SWAP).</div>
</li>
<li class="level1"><div class="li"> <strong>Type</strong>: sistema de fitxers utilitzat per la partició. Cal que el sistema de fitxers sigui suportat pel sistema. Es pot indicar l’opció <strong>auto</strong> perquè el sistema intenti esbrinar el sistema de fitxers utilitzat, però això no funciona amb tots els sistemes de fitxers.</div>
</li>
<li class="level1"><div class="li"> <strong>Options</strong>: opcions de muntatge per defecte. Hi ha una llista força extensa d’opcions al manual de l’ordre <strong>mount</strong>; en són exemples:</div>
<ul>
<li class="level2"><div class="li"> <strong>auto</strong> / <strong>noauto</strong>: indica si la partició serà muntada automàticament amb l’ordre <strong>mount -a</strong> o no.</div>
</li>
<li class="level2"><div class="li"> <strong>exec</strong> / <strong>noexec</strong>: permet l’execució o no de binaris des del sistema de fitxers indicat.</div>
</li>
<li class="level2"><div class="li"> <strong>group</strong>: seguit d’un nom de grup, indica que només aquell usuari podrà muntar i desmuntar el sistema de fitxers.</div>
</li>
<li class="level2"><div class="li"> <strong>owner</strong>: seguit d’un nom d’usuari, indica que només aquell usuari podrà muntar i desmuntar el sistema de fitxers.</div>
</li>
<li class="level2"><div class="li"> <strong>ro</strong> / <strong>rw</strong>: mode només lectura o lectura i escriptura.</div>
</li>
<li class="level2"><div class="li"> <strong>user</strong>: per defecte, només el superusuari pot realitzar muntatges. Amb aquesta opció s’estableix que qualsevol usuari pot muntar la partició, però només aquest mateix usuari la pot desmuntar.</div>
</li>
<li class="level2"><div class="li"> <strong>users</strong>: similar a l’anterior, però la partició pot ser muntada i desmuntada per qualsevol usuari.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <strong>Dump</strong>: utilitzat per l’ordre <strong>dump</strong>. Si s’indica un 1 en aquest camp, es realitzaran còpies de seguretat d’aquest sistema de fitxers.</div>
</li>
<li class="level1"><div class="li"> <strong>Pass</strong>: indica l’ordre en què l’ordre <strong>fsck</strong> comprovarà els sistemes de fitxers. Si no s’indica res en aquest camp, el sistema assumirà que aquest sistema de fitxers no requereix comprovacions.</div>
</li>
</ol>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">Identificadors únics de particions</p>
<p>
Els identificadors únics de les particions permeten referir-s’hi sense que afecti la posició que tenen en la taula de particions. Per obtenir l’identificador únic d’una partició cal utilitzar l’ordre <strong>blkid</strong>.
</p>
</div></div>
</div>

<h2><a id="volums" >Volums</a></h2>
<div class="level2">

<p>
El terme <em>volum</em> té una definició força general, per això els volums acostumen a confondre’s amb particions, discos i unitats.
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
Un <strong>volum</strong> és una àrea d’emmagatzematge amb un únic sistema de fitxers que pot estar emmagatzemada en una o més particions de disc.
</p>
</div></div>
<p>
Tot i que el terme <em>volum</em> s’utilitza sovint com a sinònim de <em>partició</em>, aquests dos conceptes no són equivalents i es poden diferenciar clarament. Per exemple, un CD pot ser accessible com a volum, encara que aquest no disposi de cap partició. D’altra banda, les imatges ISO de CD/DVD es poden considerar també volums, ja que compleixen la definició exposada, i mai no es denominarien com a particions.
</p>

<p>
Els volums constitueixen una capa d’abstracció per sobre dels models tradicionals de partició (particions primàries, esteses i lògiques) per fer una gestió de l’espai i els recursos molt més flexible. A Linux, els volums es gestionen amb el LVM (<em>logical volume manager</em>) i a Windows són gestionats pel mateix nucli del sistema operatiu i, tot i que ofereixen una funcionalitat similar, la terminologia utilitzada és completament diferent en cadascun d’aquests sistemes; per això es fa un estudi independent de tots dos sistemes.
</p>

</div>

<h3><a id="volums_a_windows" >Volums a Windows</a></h3>
<div class="level3">

<p>
Els sistemes Windows distingeixen dos tipus de discos: <strong>bàsics</strong> i <strong>dinàmics</strong>. Els <strong>discos bàsics</strong> són els discos tradicionals amb particions primàries, esteses i lògiques. D’altra banda, els <strong>discos dinàmics</strong> són un tipus de discos suportats a partir de Windows 2000 que no es gestionen mitjançant la creació de particions, sinó que permeten la creació de volums al seu interior. Dins d’aquest discos es poden crear dos tipus de volums:
</p>
<ul>
<li class="level1"><div class="li"> <strong>Volums simples:</strong> es creen sobre un únic disc. L’avantatge que tenen aquests volums respecte de les particions és que mentre hi hagi espai lliure en el disc on es troben es poden ampliar. </div>
</li>
<li class="level2"><div class="li"> <strong>Volums distribuïts:</strong> és un tipus de volum que està format per la unió d’espai de disc en diversos discos.</div>
</li>
</ul>

<p>
Així doncs, per poder treballar amb volums a Windows cal disposar d’un disc dinàmic i això s’aconsegueix convertint un disc bàsic en un disc dinàmic. Per fer la conversió, cal disposar, com a mínim, d’1 <acronym title="Megabyte">MB</acronym> d’espai buit i tancar tots els fitxers i programes situats en aquest espai. Els dispositius extraïbles, USB o Firewire no es poden convertir a discos dinàmics.
</p>

<p>
Per convertir un disc bàsic en un de dinàmic, a l’Administració de discos, feu clic amb el botó dret del ratolí sobre un dels discos i seleccioneu l’opció “Convertir en disco dinámico”, tal com es pot veure en la <span class="figref"><a href="#Figure22"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figure22"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Convertir un volum simple a volum dinàmic

</figcaption><img src="../media/ic10mu6_22.png" alt="" /></figure>
</div>
<p>
A Windows 7, si no es realitza aquesta conversió, quan es crea el primer volum distribuït el sistema demana de fer la conversió a disc dinàmic, automàticament.
</p>

</div>

<h4><a id="creacio_de_volums_simples" >Creació de volums simples</a></h4>
<div class="level4">

<p>
Per crear un volum simple dins disc dinàmic, feu clic sobre el seu espai i seleccioneu l’opció “Crear volumen simple”, com es mostra en la <span class="figref"><a href="#Figure23"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figure23"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Crear un nou volum simple

</figcaption><img src="../media/ic10mu6_23.png" alt="" /></figure>
</div>
<p>
En l’assistent per a la creació del nou volum, seleccioneu la mida del nou volum i la lletra d’unitat que se li assignarà o, si voleu, el directori del sistema on es muntarà aquest volum. Cal que indiqueu també el sistema de fitxers que li voleu assignar i l’etiqueta, entre altres opcions.
</p>

</div>

<h4><a id="creacio_de_volums_distribuits" >Creació de volums distribuïts</a></h4>
<div class="level4">

<p>
Per crear un volum distribuït, cal fer clic sobre qualsevol dels discos que el compondran i seleccionar l’opció “Crear volumen distribuido”. Un cop més, veureu un assistent de creació del nou volum. Després de la pantalla de presentació, apareixerà la pantalla de la <span class="figref"><a href="#Figure24"><span>figura</span></a></span> que us permetrà determinar quins discos i quant d’espai de cadascun d’aquests es destinaran per al volum distribuït.
</p>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">Creació d&#039;un volum distribuït</p>
<p>
Per crear un volum distribuït cal disposar de dos o més discos durs dinàmics en el sistema amb àrees no assignades en cadascun.
</p>
</div></div><div class="iocfigure"><a name="Figure24"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Nou volum distribuït

</figcaption><img src="../media/ic10mu6_24.png" alt="" /></figure>
</div>
<p>
Després de la selecció d’espai, es demanarà un cop més la lletra d’unitat, l’etiqueta i el format per poder crear el volum. Si observeu la mida del volum resultat, veureu que la capacitat que té és el total d’espai designat. 
</p>

</div>

<h4><a id="ampliacio_de_volums" >Ampliació de volums</a></h4>
<div class="level4">

<p>
El procés per estendre o reduir volums simples o distribuïts és força similar. Quan se selecciona un volum i es clica l’opció “Extender volumen” apareix l’assistent de la <span class="figref"><a href="#Figure25"><span>figura</span></a></span> que permet triar l’origen de l’espai de disc que s’aportarà al volum (que pot ser del mateix disc o d’un altre). 
</p>
<div class="iocfigure"><a name="Figure25"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Estendre un volum

</figcaption><img src="../media/ic10mu6_25.png" alt="" /></figure>
</div>
<p>
En el cas dels volums simples, si l’espai que s’afegeix és del mateix disc, continuaran sent volums simples. Si no ho és, es convertiran, automàticament, en volums distribuïts.
</p>

</div>

<h4><a id="reduccio_de_volums" >Reducció de volums</a></h4>
<div class="level4">

<p>
Per reduir un volum determinat cal seleccionar l’opció “Reducir volumen” del menú contextual d’aquest. El sistema comprovarà, prèviament, si es pot reduir el volum i si és possible demanarà, mitjançant la pantalla de la <span class="figref"><a href="#Figure26"><span>figura</span></a></span>, quina quantitat d’espai cal treure del volum.
</p>
<div class="iocfigure"><a name="Figure26"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Reduir un volum

</figcaption><img src="../media/ic10mu6_26.png" alt="" /></figure>
</div>
<p>
En el cas dels volums distribuïts, el sistema intentarà compactar, en la mesura que es pugui, el nombre de segments d’aquests.
</p>

</div>

<h4><a id="eliminacio_de_volums" >Eliminació de volums</a></h4>
<div class="level4">

<p>
Per eliminar un volum, seleccioneu l’opció “Eliminar volumen” que apareix quan s’hi fa clic amb el botó dret del ratolí. Apareixerà un missatge d’advertència que, si s’accepta, esborrarà el volum i deixarà la zona que ocupava sense assignar.
</p>

</div>

<h3><a id="volums_a_linux" >Volums a Linux</a></h3>
<div class="level3">

<p>
L’administració de volums a Linux es fa amb LVM (<em>logical volume manager</em>). <em>Logical volume manager</em> és un sistema de gestió molt perfeccionat dels suports d’emmagatzematge que té com a objectiu superar la gestió física dels discos (l’organització tradicional en particions) per extreure’n la capacitat global, fent ús d’una gestió totalment lògica de l’espai.
</p>

<p>
LVM treballa amb tres elements bàsics:
</p>
<ul>
<li class="level1"><div class="li"> <strong>Volums físics (PV o <em>phisical volumes</em>)</strong>: són les particions físiques dels discos.</div>
</li>
<li class="level1"><div class="li"> <strong>Grups de volums (VG o <em>volume groups</em>)</strong>: els diversos volums físics s’uneixen en grups de volums, que són una espècie de metadiscos que permeten fer una gestió centralitzada de l’espai.</div>
</li>
<li class="level1"><div class="li"> <strong>Volums lògics (LV o <em>logical volumes</em>)</strong>: són les particions creades sobre els grups de volums, que poden estar emmagatzemades en un o més volums físics.</div>
</li>
</ul>

<p>
Podeu veure un esquema gràfic d’aquesta distribució en la <span class="figref"><a href="#Figure27"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figure27"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

LVM

</figcaption><img src="../media/ic10mu6_27.png" alt="" /></figure>
</div>
<p>
El gran avantatge del sistema LVM és el dinamisme que té: es poden afegir o treure volums físics d’un grup de volums. Aquests volums físics ampliaran la capacitat total del grup de volums, i aquesta capacitat pot ser utilitzada per a la creació de nous volums lògics o l’ampliació dels que ja hi ha.
</p>

<p>
Per poder fer ús de la gestió de volums LVM cal instal·lar el paquet corresponent al sistema:
</p>
<pre class="code"># apt-get install lvm2</pre>

<p>
GParted encara no suporta lvm2, però hi ha una eina gràfica a Ubuntu, <strong>system-config-lvm</strong>, que podeu instal·lar (<span class="figref"><a href="#Figure28"><span>figura</span></a></span>).
</p>
<pre class="code"># apt-get install system-config-lvm</pre>
<div class="iocfigure"><a name="Figure28"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Gestió de volums d’Ubuntu

</figcaption><img src="../media/ic10mu6_28.png" alt="" /></figure>
</div>
<p>
Les opcions que proporciona la línia d’ordres per a la gestió de volums són les següents:
</p>
<ul>
<li class="level1"><div class="li"> Creació de volums físics</div>
</li>
<li class="level1"><div class="li"> Creació de grups de volums</div>
</li>
<li class="level1"><div class="li"> Creació de volums lògics</div>
</li>
<li class="level1"><div class="li"> Ampliació i reducció de grups de volums</div>
</li>
<li class="level1"><div class="li"> Eliminació de components</div>
</li>
</ul>

</div>

<h4><a id="creacio_de_volums_fisics" >Creació de volums físics</a></h4>
<div class="level4">

<p>
Per crear un volum físic s’utilitza l’ordre <strong>pvcreate</strong>, amb la sintaxi següent:
</p>
<pre class="code"># pvcreate dispositiu_o_partició</pre>

<p>
L’ordre accepta tant discos complets com particions de disc. En el cas d’indicar un disc complet, cal assegurar-se que la taula de particions d’aquest és buida. Per mostrar informació sobre els volums físics creats cal utilitzar l’ordre <strong>pvdisplay</strong>.
</p>
<div class="ioctextl"><div class="ioccontent"><p class="ioctitle">Exemple de creació de volums</p>
<p>
Es creen dos volums físics:
</p>
<pre class="code"># pvcreate /dev/sdb1
  Physical volume &quot;/dev/sdb1&quot; successfully created
# pvcreate /dev/sdc5
  Physical volume &quot;/dev/sdc5&quot; successfully created</pre>

<p>
Es llisten els volums disponibles:
</p>
<pre class="code"># pvdisplay
  &quot;/dev/sdb1&quot; is a new physical volume of &quot;1,95 GiB&quot;
--- NEW Physical volume ---
  PV Name               /dev/sdb1
  VG Name               
  PV Size               1,95 GiB
  Allocatable           NO
  PE Size               0   
  Total PE              0
  Free PE               0
  Allocated PE          0
  PV UUID               pYdzYA-bsTS-CIFl-D2tA-JOSm-ueD0-qWmaLU
   
  &quot;/dev/sdc5&quot; is a new physical volume of &quot;1,95 GiB&quot;
--- NEW Physical volume ---
  PV Name               /dev/sdc5
  VG Name               
  PV Size               1,95 GiB
  Allocatable           NO
  PE Size               0   
  Total PE              0
  Free PE               0
  Allocated PE          0
  PV UUID               r1aY8i-SePq-Q1yE-Niay-BQ2i-EY3N-tUqVua
</pre>
</div></div>
</div>

<h4><a id="creacio_de_grups_de_volums" >Creació de grups de volums</a></h4>
<div class="level4">

<p>
Un cop es disposa dels volums físics, es poden crear grups de volums que els aglutinin mitjançant l’ordre <strong>vgcreate</strong>:
</p>
<pre class="code"># vgcreate nom_grup dispositius...</pre>

<p>
Com ja passa en el cas dels volums físics, es poden consultar els grups de volums amb l’ordre <strong>vgdisplay</strong>.
</p>
<div class="ioctextl"><div class="ioccontent"><p class="ioctitle">Exemple de creació de grups de volums</p>
<p>
Es crea un grup de volums amb els volums físics de l’apartat anterior:
</p>
<pre class="code"># vgcreate grup01 /dev/sdb1 /dev/sdc5
  Volume group &quot;grup01&quot; successfully created</pre>

<p>
Es llisten els grups de volums disponibles:
</p>
<pre class="code"># vgdisplay
---Volume group---
  VG Name               grup01
  System ID             
  Format                lvm2
  Metadata Areas        2
  Metadata Sequence No  1
  VG Access             read/write
  VG Status             resizable
  MAX LV                0
  Cur LV                0
  Open LV               0
  Max PV                0
  Cur PV                2
  Act PV                2
  VG Size               3,91 GiB
  PE Size               4,00 MiB
  Total PE              1000
  Alloc PE / Size       0 / 0   
  Free  PE / Size       1000 / 3,91 GiB
  VG UUID               FYy1Vl-VQ2C-siHv-932B-FUBX-PhGh-C91ehC</pre>
</div></div>
<p>
Quan es crea un grup de volums es poden definir paràmetres com el nombre màxim de volums físics que el podran compondre o el nombre màxim de volums lògics que s’hi podran crear.
</p>

</div>

<h4><a id="creacio_de_volums_logics" >Creació de volums lògics</a></h4>
<div class="level4">

<p>
Finalment, quan es disposa dels grups de volums, es poden crear els volums lògics al seu interior. Per fer-ho, s’utilitza l’ordre <strong>lvcreate</strong>. La sintaxi d’aquesta instrucció és la següent:
</p>
<pre class="code"># lvcreate -L mida -n nom_volum grup_volums </pre>

<p>
On <strong>mida</strong> representa la mida del volum lògic que es vol crear (es poden utilitzar múltiples: K, M, G, T, …), <strong>nom_volum</strong> serà el nom del volum que es crearà i <strong>grup_volums</strong>, el grup de volums on es crearà. D’una manera anàloga als altres components de lvm, es poden llistar els volums lògics i la informació que contenen amb l’ordre <strong>lvdisplay</strong>.
</p>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">Mida dels volums</p>
<p>
La mida indicada en els volums és aproximada, ja que depèn sempre dels “extents”, és a dir, de la mida dels fragments mínims que s’assignen als volums.
</p>
</div></div>
<p>
Els volums lògics creats prenen un nom de dispositiu format pel nom del grup de volums al qual pertanyen i el mateix nom de volum, de la manera següent:
</p>
<pre class="code">/dev/nom_volum/grup_volums</pre>
<div class="ioctextl"><div class="ioccontent"><p class="ioctitle">Exemple de creació de volums lògics</p>
<p>
Es crea un volum lògic de 3 Gb dins del grup de volums creat anteriorment.
</p>
<pre class="code"># lvcreate -L 3G -n logic01 grup01
  Logical volume &quot;logic01&quot; created</pre>

<p>
Es llisten els volums lògics disponibles:
</p>
<pre class="code"># lvdisplay
--- Logical volume ---
  LV Name                /dev/grup01/logic01
  VG Name                grup01
  LV UUID                3TXfuN-9jpI-MCI2-K6aU-yNbV-0zoB-krbmYP
  LV Write Access        read/write
  LV Status              available
  # open                 0
  LV Size                3,00 GiB
  Current LE             768
  Segments               2
  Allocation             inherit
  Read ahead sectors     auto
- currently set to     256
  Block device           252:0</pre>

<p>
Com es pot veure, un nou volum de 3 <acronym title="Gigabyte">GB</acronym> es genera a <strong>/dev/grup01/logic01</strong>.
</p>
</div></div>
<p>
Un cop creats els volums, se’ls ha d’assignar un sistema de fitxers amb l’ordre <strong>mkfs</strong> i es podran muntar utilitzant l’ordre <strong>mount</strong>, com s’acostuma a fer amb qualsevol altre sistema de fitxers.
</p>
<div class="ioctextl"><div class="ioccontent"><p class="ioctitle">Exemple d&#039;assignació de sistemes de fitxers</p>
<p>
Es formata el volum <strong>/dev/grup01/logic01</strong> amb format ext4.
</p>
<pre class="code"># mkfs.ext4 /dev/grup01/logic01</pre>

<p>
Es munta el volum a <strong>/media/volumlogic01</strong>:
</p>
<pre class="code"># mount /dev/grup01/logic01 /media/volumlogic01/</pre>
</div></div>
</div>

<h4><a id="ampliacio_i_reduccio_de_grups_de_volums" >Ampliació i reducció de grups de volums</a></h4>
<div class="level4">

<p>
Un dels avantatges principals de l’ús de volums és la capacitat d’ampliació que té. Quan es disposa d’un grup de volums, se li poden afegir nous volums físics per augmentar-ne la capacitat amb l’ordre <strong>vgextend</strong>.
</p>
<pre class="code"># vgextend grup dispositiu_o_partició</pre>
<div class="ioctextl"><div class="ioccontent"><p class="ioctitle">Exemple d&#039;ampliació de grups de volums</p>
<p>
Es crea un nou volum físic a <strong>/dev/sdc6</strong>:
</p>
<pre class="code"># pvcreate /dev/sdc6</pre>

<p>
S’afegeix un nou volum físic al grup de volums <strong>grup01</strong>:
</p>
<pre class="code"># vgextend grup01 /dev/sdc6
  Volume group &quot;grup01&quot; successfully extended</pre>

<p>
Es mostren les noves propietats del <strong>grup01</strong>:
</p>
<pre class="code"># vgdisplay grup01
--- Volume group ---
  VG Name               grup01
  System ID             
  Format                lvm2
  Metadata Areas        3
  Metadata Sequence No  3
  VG Access             read/write
  VG Status             resizable
  MAX LV                0
  Cur LV                1
  Open LV               1
  Max PV                0
  Cur PV                3
  Act PV                3
  VG Size               5,86 GiB
  PE Size               4,00 MiB
  Total PE              1500
  Alloc PE / Size       768 / 3,00 GiB
  Free  PE / Size       732 / 2,86 GiB
  VG UUID               FYy1Vl-VQ2C-siHv-932B-FUBX-PhGh-C91ehC</pre>

<p>
I es pot observar que ha augmentat de capacitat i de nombre de volums físics.
</p>
</div></div>
<p>
Per treure un volum d’un grup de volums, s’ha d’utilitzar l’ordre <strong>vgreduce</strong>. Per poder dur a terme aquesta operació cal assegurar-se que el volum físic és buit (es poden moure les dades d’un volum físic a un altre mitjançant l’ordre <strong>pvmove</strong>). La sintaxi d’aquesta instrucció és la mateixa que la de <strong>vgextend</strong>.
</p>
<div class="ioctextl"><div class="ioccontent"><p class="ioctitle">Exemple de reducció de grups de volums</p>
<p>
Es treu el volum físic afegit anteriorment al grup <strong>grup01</strong>:
</p>
<pre class="code"># vgreduce grup01 /dev/sdc6
  Removed &quot;/dev/sdc6&quot; from volume group &quot;grup01&quot;</pre>

<p>
Es mostren les noves propietats del <strong>grup01</strong>:
</p>
<pre class="code"># vgdisplay grup01
--- Volume group ---
  VG Name               grup01
  System ID             
  Format                lvm2
  Metadata Areas        2
  Metadata Sequence No  4
  VG Access             read/write
  VG Status             resizable
  MAX LV                0
  Cur LV                1
  Open LV               1
  Max PV                0
  Cur PV                2
  Act PV                2
  VG Size               3,91 GiB
  PE Size               4,00 MiB
  Total PE              1000
  Alloc PE / Size       768 / 3,00 GiB
  Free  PE / Size       232 / 928,00 MiB
  VG UUID               FYy1Vl-VQ2C-siHv-932B-FUBX-PhGh-C91ehC</pre>

<p>
I es pot observar que ha disminuït de capacitat i de nombre de volums físics.
</p>
</div></div>
</div>

<h4><a id="ampliacio_i_reduccio_de_volums_logics" >Ampliació i reducció de volums lògics</a></h4>
<div class="level4">

<p>
Els volums lògics poden ser reduïts en qualsevol moment i ampliats sempre que hi hagi espai en el grup de volums que el conté. Les ordres per ampliar o reduir volums lògics són <strong>lvextend</strong> i <strong>lvreduce</strong>, respectivament.
</p>
<pre class="code"># lvextend -L +mida volum_logic
# lvreduce -L -mida volum_logic</pre>

<p>
Després de l’ampliació d’un volum lògic o abans de la reducció, si aquest volum té assignat un sistema de fitxers, cal que se’n redueixi la mida amb l’ordre <strong>resize2fs</strong>.
</p>
<div class="ioctextl"><div class="ioccontent"><p class="ioctitle">Exemple de redimensió de volums lògics</p>
<p>
S’amplia el volum <strong>logic01</strong>:
</p>
<pre class="code"># lvextend -L +0,5G /dev/grup01/logic01 
  Extending logical volume logic01 to 3,50 GiB
  Logical volume logic01 successfully resized</pre>

<p>
Es redimensiona el sistema de fitxers del volum:
</p>
<pre class="code"># resize2fs /dev/grup01/logic01 3,5G
resize2fs 1.41.11 (14-Mar-2010)
resize2fs: Invalid new size: 3,5G</pre>

<p>
Quan s’ha de reduir un volum lògic, el procés és el contrari; de primer és redueix el sistema de fitxers:
</p>
<pre class="code"># resize2fs /dev/grup01/logic01 3G
resize2fs 1.41.11 (14-Mar-2010)
El sistema de fitxer ja té 786432 blocs. No cal fer res.</pre>

<p>
Per reduir-ne la mida, posteriorment s’ha de dur a terme el següent:
</p>
<pre class="code"># lvreduce -L -0,5G /dev/grup01/logic01 
  WARNING: Reducing active and open logical volume to 3,00 GiB
  THIS MAY DESTROY YOUR DATA (filesystem etc.)
Do you really want to reduce logic01? [y/n]: y
  Reducing logical volume logic01 to 3,00 GiB
  Logical volume logic01 successfully resized</pre>

<p>
Abans de la reducció de volums es recomana que estiguin desmuntats i s’hagin realitzat comprovacions sobre l’estat del sistema de fitxers.
</p>
</div></div>
</div>

<h4><a id="eliminacio_de_components" >Eliminació de components</a></h4>
<div class="level4">

<p>
Per eliminar els diversos components d’un sistema LVM cal utilitzar qualsevol de les ordres següents:
</p>
<ul>
<li class="level1"><div class="li"> Volums lògics: <strong>lvremove</strong></div>
</li>
<li class="level1"><div class="li"> Grups de volums: <strong>vgremove</strong></div>
</li>
<li class="level1"><div class="li"> Volums físic: <strong>pvremove</strong></div>
</li>
</ul>

<p>
Per desmantellar un sistema LVM cal eliminar els components en l’ordre que s’indica a dalt, però abans s’han d’haver desmuntat tots els volums lògics.
</p>
<div class="ioctextl"><div class="ioccontent"><p class="ioctitle">Exemple d&#039;eliminació de volums</p>
<p>
Es desmunta el volum lògic:
</p>
<pre class="code"># umount /dev/grup01/logic01 </pre>

<p>
S’elimina aquest volum:
</p>
<pre class="code"># lvremove /dev/grup01/logic01 
Do you really want to remove active logical volume logic01? [y/n]: y
  Logical volume &quot;logic01&quot; successfully removed</pre>

<p>
S’elimina el grup de volums:
</p>
<pre class="code"># vgremove grup01
  Volume group &quot;grup01&quot; successfully removed</pre>

<p>
S’eliminen els volums físics:
</p>
<pre class="code"># pvremove /dev/sdb1
  Labels on physical volume &quot;/dev/sdb1&quot; successfully wiped
# pvremove /dev/sdc5
  Labels on physical volume &quot;/dev/sdc5&quot; successfully wiped</pre>
</div></div>
</div>

<h2><a id="desfragmentacio" >Desfragmentació</a></h2>
<div class="level2">

<p>
Els arxius amb els quals es treballa canvien de mida constantment. Per poder encabir-se als dispositius d’emmagatzematge, és habitual que es <strong>fragmentin</strong> al llarg del disc, la qual cosa fa que treballar-hi sigui més ineficient. Per exemple, en un disc dur, els capçals s’han d’anar movent i esperar fins que el disc arriba a la posició de lectura. Per això, els fabricants de sistema solen recomanar la <strong>desfragmentació</strong> dels sistemes de fitxers.
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
La <strong>desfragmentació</strong> és el procés mitjançant el qual es recol·loquen els fitxers d’un dispositiu d’emmagatzematge de manera que cadascun quedi emmagatzemat de manera adjacent i sense espais entremig.
</p>
</div></div>
<p>
Les dades fragmentades poden ocupar més espai de disc del necessari. Per aquest motiu, abans de dur a terme qualsevol trasllat de dades o redimensions de particions, és molt recomanable realitzar una desfragmentació. A més, la desfragmentació allarga efectivament la vida dels dispositius d’emmagatzematge, ja que es minimitzen i simplifiquen les operacions d’accés a dades.
</p>

<p>
Per desfragmentar una unitat a Windows cal entrar a “Mi Pc”, fer clic amb el botó dret sobre una de les unitats i veure’n les propietats. En la finestra de propietats, cal accedir a la pestanya de “Herramientas” i clicar el botó “Desfragmentar ahora…”, situat a la part central de la pantalla, tal com es pot veure en la <span class="figref"><a href="#Figure29"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figure29"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Eines de treball de discos

</figcaption><img src="../media/ic10mu6_29.png" alt="" /></figure>
</div>
<p>
En la pantalla que apareix en la <span class="figref"><a href="#Figure30"><span>figura</span></a></span> podreu veure que la desfragmentació dels discos està programada per dur-se a terme automàticament. Per desfragmentar el disc, cal realitzar primerament una anàlisi de l’estat del disc. Després d’aquesta anàlisi, es pot efectuar la desfragmentació del disc seleccionat.
</p>
<div class="iocfigure"><a name="Figure30"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Desfragmentador de discos

</figcaption><img src="../media/ic10mu6_30.png" alt="" /></figure>
</div>
<p>
En els sistemes de fitxers típics de Linux (ext2, ext3, ext4) la fragmentació és mínima gràcies a la tecnologia que utilitzen per assignar espai als fitxers; per això, els sistemes Linux no inclouen, típicament, programes de desfragmentació.
</p>

</div>

<h2><a id="revisio" >Revisió</a></h2>
<div class="level2">

<p>
Amb el temps, els discos durs poden experimentar errors. Els sistemes operatius solen incloure eines que permeten una revisió de l’estructura física i lògica del disc, de manera que, si hi ha errors, els intenten arreglar. L’execució d’aquests programes de revisió sol ser una tasca programada amb una certa regularitat.
</p>

</div>

<h3><a id="revisio_a_windows" >Revisió a Windows</a></h3>
<div class="level3">

<p>
L’eina típica de revisió de discos a Windows, en les últimes versions, és <strong>chkdsk</strong>. Aquesta eina es troba disponible tant des de la interfície gràfica com des de l’entorn d’instruccions.
</p>

<p>
Per realitzar la comprovació de l’estat d’una unitat concreta cal anar a “Mi Pc”, visualitzar-ne les propietats i consultar la pestanya d’eines, on apareix l’eina de comprovació esmentada. Podeu visualitzar aquesta eina en la <span class="figref"><a href="#Figure31"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figure31"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Eina chkdsk des de l’entorn gràfic

</figcaption><img src="../media/ic10mu6_31.png" alt="" /></figure>
</div>
<p>
L’eina <strong>chkdsk</strong> permet la comprovació de sistemes de fitxers FAT i NTFS. Funciona de la manera següent:
</p>
<ol>
<li class="level1"><div class="li"> Es comproven els fitxers i la consistència interna d’aquests. </div>
</li>
<li class="level1"><div class="li"> Es comproven els directoris i la consistència d’aquests, així com l’existència de tots els elements que contenen. Es comproven també les dates i la informació sobre la mida dels fitxers.</div>
</li>
<li class="level1"><div class="li"> Es comprova la seguretat dels fitxers i directoris (propietaris, permisos…).</div>
</li>
<li class="level1"><div class="li"> Es comproven els sectors del disc (opcional), els clústers en ús i els que no s’utilitzen. Aquest procés pot ser excessivament lent.</div>
</li>
</ol>

</div>

<h3><a id="revisio_a_linux" >Revisió a Linux</a></h3>
<div class="level3">

<p>
L’eina principal de revisió de discos a Linux és <strong>fsck</strong>. Aquesta utilitat permet revisar sistemes de fitxers, localitzar i intentar reparar els problemes que s’hi troben. Té la sintaxi bàsica d’ús següent:
</p>
<pre class="code"># fsck [opcions] dispositiu</pre>

<p>
Aquesta ordre és només vàlida per a sistemes ext i <strong>cal utilitzar-la amb els sistemes de fitxers desmuntats</strong>.
</p>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">Discos FAT</p>
<p>
Per comprovar discos FAT cal utilitzar l’ordre <strong>dosfsck</strong>. Per a la comprovació de discos NTFS cal utilitzar l’eina <strong>ntfsck</strong> del paquet <strong>ntfsprogs</strong>.
</p>
</div></div><div class="ioctextl"><div class="ioccontent"><p class="ioctitle">Exemple de revisió a Linux</p>
<p>
S’executa l’ordre <strong>fsck</strong> amb l’opció <strong>-v</strong> (<em>verbose</em>) perquè mostri el progrés del que s’ha executat.
</p>
<pre class="code">
# fsck -v /dev/sdb2
fsck from util-linux-ng 2.17.2
e2fsck 1.41.11 (14-Mar-2010)
Pas 1: comprovació de nodes-i, blocs i mides
Pas 2: comprovació de l&#039;estructura del directori
Pas 3: comprovació de la connectivitat dels directoris
Pas 4: comprovació dels nombres de referències
Pas 5: comprovació del resum de la informació del grup

      11 inodes used (0.01%)
       0 non-contiguous files (0.0%)
       0 non-contiguous directories (0.0%)
     nombre de nodes-i amb blocs ind/dind/tind: 0/0/0
         Extent depth histogram: 1
   17008 blocks used (3.32%)
       0 bad blocks
       1 large file

       0 regular files
       2 directories
       0 character device files
       0 block device files
       0 fifos
       0 links
       0 symbolic links (0 fast symbolic links)
       0 sockets
- - - - - - -
       2 files</pre>
</div></div>
<p>
Per defecte, sistemes operatius com Ubuntu comproven el disc cada 180 dies o 29 muntatges i solen fer aquesta comprovació durant l’arrencada del sistema. L’ordre <strong>tune2fs</strong> ens permet indicar cada quan s’ha de comprovar el disc. Els discos es comproven sempre abans de ser muntats, però només se’n fa una comprovació completa si el disc està marcat com a <em>dirty</em> (‘brut’) i sempre que s’hagi indicat que es vol comprovar el disc abans de muntar al fitxer <strong>/etc/fstab</strong>.
</p>

<p>
Com que <strong>fsck</strong> s’ha d’executar amb els discos desmuntats, hi ha opcions per forçar l’execució de l’eina quan s’inicia el sistema, abans de muntar qualsevol sistema de fitxers:
</p>
<ul>
<li class="level1"><div class="li"> Crear un fitxer buit anomenat <strong>forcefsck</strong> a l’arrel del sistema.</div>
</li>
<li class="level1"><div class="li"> Reiniciar el sistema amb l’opció <strong>-F</strong>: <strong>shutdown -rF now</strong>.</div>
</li>
</ul>

</div>

<h2><a id="rendiment" >Rendiment</a></h2>
<div class="level2">

<p>
El rendiment d’un disc dur a qualsevol disc dur no solament és determinada per la velocitat del disc dur, que acostuma a ser el paràmetre que es proporciona quan es ven aquest, sinó que altres factors com el joc de xips, la velocitat de la CPU, la memòria RAM, la qualitat dels controladors o el sistema de fitxers que s’utilitza també influeixen en el rendiment.
</p>

<p>
Hi ha diverses eines per fer estudis del rendiment dels discos, tant per a Windows com per a Linux.
</p>

</div>

<h3><a id="estudi_del_rendiment_a_windows" >Estudi del rendiment a Windows</a></h3>
<div class="level3">

<p>
En sistemes Windows, hi ha una eina especialitzada en la realització d’estudis de rendiment per a discos anomenada <em>HD Tune</em> (<span class="figref"><a href="#Figure32"><span>figura</span></a></span>). És un programa amb llicència privativa, però es pot baixar una versió de prova per quinze dies del programa a <a href="http://www.hdtune.com/" class="urlextern" title="http://www.hdtune.com/"  rel="nofollow">www.hdtune.com</a>.
</p>
<div class="iocfigure"><a name="Figure32"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Eina HD Tune, per a Windows

</figcaption><img src="../media/ic10mu6_32.png" alt="" /></figure>
</div>
<p>
La informació i funcionalitats que proporciona aquest programa és molt completa:
</p>
<ul>
<li class="level1"><div class="li"> Treballa tant amb discos com amb dispositius d’emmagatzematge externs o multimèdia.</div>
</li>
<li class="level1"><div class="li"> Mostra informació completa sobre els discos, incloent-hi la temperatura.</div>
</li>
<li class="level1"><div class="li"> Fa estudis de disc, tant de lectura com d’escriptura, mesurant la ràtio de transferència i el temps d’accés, tenint en compte efectes col·laterals com l’ús de CPU.</div>
</li>
<li class="level1"><div class="li"> Realitza estudis de rendiment d’accés a fitxers o d’accés aleatori, juntament amb altres tipus de tests més avançats.</div>
</li>
<li class="level1"><div class="li"> Permet fer diagnòstics de l’estat de salut del disc, així com escanejats d’errors.</div>
</li>
<li class="level1"><div class="li"> Estudia l’ús de disc en funció dels directoris i esborra físicament les dades de discos.</div>
</li>
<li class="level1"><div class="li"> Monitora l’activitat del disc dur.</div>
</li>
<li class="level1"><div class="li"> Modifica paràmetres de soroll i rendiment del disc.</div>
</li>
<li class="level1"><div class="li"> Incorpora una interfície de treball per línia d’ordres.</div>
</li>
</ul>

</div>

<h3><a id="estudi_del_rendiment_a_linux" >Estudi del rendiment a Linux</a></h3>
<div class="level3">

<p>
La “Utilitat de discos” que incorpora Ubuntu permet la realització de tests (de només lectura o de lectura i escriptura) sobre els discos. Per accedir a aquesta eina, aneu al menú Sistema &gt; Administració &gt; Utilitat de discos. En la pantalla principal del programa, seleccioneu el disc del qual voleu estudiar el rendiment i premeu el botó “Test de referència”, tal com es pot observar en la <span class="figref"><a href="#Figure33"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figure33"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Test de referència de la utilitat de discos d’Ubuntu

</figcaption><img src="../media/ic10mu6_33.png" alt="" /></figure>
</div>
<p>
L’eina calcula el rendiment del disc en funció de les ràtios d’escriptura i lectura, juntament amb el temps d’accés mitjà.
</p>

</div>

<h2><a id="estadistiques" >Estadístiques</a></h2>
<div class="level2">

<p>
Quan es treballa amb discos és habitual haver de fer estudis sobre l’ús de les unitats i, si és possible, visualitzar gràficament la distribució de la informació per esbrinar què ocupa més espai al disc i fer una distribució òptima dels recursos.
</p>

<p>
Tots els sistemes operatius actuals disposen d’eines per a l’elaboració d’estadístiques d’ús de disc.
</p>

</div>

<h3><a id="estadistiques_a_windows" >Estadístiques a Windows</a></h3>
<div class="level3">

<p>
Tot i que Windows no incorpora una eina d’estadístiques completes d’ús de disc, al mercat hi ha diverses eines per a això. En aquest apartat us proposem el programa WinDirStat, que és de codi obert i es troba disponible a <a href="http://sourceforge.net/projects/windirstat/" class="urlextern" title="http://sourceforge.net/projects/windirstat/"  rel="nofollow">bit.ly/2SnCSv5</a>.
</p>

<p>
En obrir el programa, us pregunta el tipus d’estudi que es vol fer (de tots els discos, d’un disc en concret o d’un directori determinat) i, després de realitzar aquest estudi complet, mostra una pantalla similar a la de la <span class="figref"><a href="#Figure34"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figure34"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Estudi d’espai de disc amb WinDirStat

</figcaption><img src="../media/ic10mu6_34.png" alt="" /></figure>
</div>
<p>
Com es pot observar, a la banda dreta es mostra un estudi per directoris, a l’esquerra es fa per tipus de fitxers i a la part inferior es mostra un esquema gràfic de la proporció de disc utilitzada per cadascun dels tipus de fitxers.
</p>

</div>

<h3><a id="estadistiques_a_linux" >Estadístiques a Linux</a></h3>
<div class="level3">

<p>
Ubuntu incorpora una eina gràfica molt interessant per a la realització d’estudis de disc anomenada <strong>baobab</strong>. Aquesta eina està inclosa al paquet <strong>gnome-system-utils</strong>, així que la podreu executar directament des de qualsevol terminal.
</p>

<p>
Baobab ens permet analitzar l’arbre de directoris complet o un directori específic indicat per l’usuari, independentment que sigui local o remot. El programa retorna el resultat de l’estudi mitjançant un arbre i un diagrama d’anells sobre com està distribuït i ocupat el disc. Quan es clica sobre qualsevol dels anells que simbolitza l’ocupació d’un directori en concret es pot visualitzar l’estudi de disc d’aquesta zona del sistema en particular. Vegeu un exemple d’anell en la <span class="figref"><a href="#Figure35"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figure35"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Anell d’estudi de disc de Baobab

</figcaption><img src="../media/ic10mu6_35.png" alt="" /></figure>
</div>
</div>

<h4><a id="estadistiques_des_de_la_linia_d_ordres" >Estadístiques des de la línia d&#039;ordres</a></h4>
<div class="level4">

<p>
L’ordre <strong>df</strong> permet obtenir estadístiques d’ocupació de cadascun dels sistemes de fitxers muntats. Sense cap paràmetre, busca informació sobre tots els sistemes de fitxers, però se li pot passar com a paràmetre tant un perifèric com un punt de muntatge.
</p>
<div class="ioctextl"><div class="ioccontent"><p class="ioctitle">Exemple d&#039;obtenció d&#039;estadístiques d&#039;ocupació</p>
<p>
Es realitza un estudi complet dels sistemes de fitxers muntats actualment:
</p>
</div></div>
<p>

</p>
<pre class="code">$ df
S.ficheros         Bloques de 1K   Usado    Dispon Uso% Montado en
/dev/sda2             20641788   5682292  13910856  30% /
udev                    509024       280    508744   1% /dev
none                    509024       172    508852   1% /dev/shm
none                    509024        80    508944   1% /var/run
none                    509024         0    509024   0% /var/lock
none                    509024         0    509024   0% /lib/init/rw
/dev/sda1             52428092  18661952  33766140  36% /media/7E580FE43A39226F
/dev/sda3              5161680   1816032   3293252  36% /media/_
/dev/sda6             75545628  10706944  64838684  15% /media/285B42E34B25E60A
/dev/sdb1              7815184        16   7815168   1% /media/USB DISK</pre>

<p>
També es pot estudiar l’ocupació de disc d’una estructura concreta (un directori i tot el contingut d’aquest). Per fer-ho, cal utilitzar l’ordre <strong>du</strong> (<em>disk usage</em>). Aquesta instrucció, si no s’indica cap ruta com a paràmetre, realitza l’estudi sobre el directori actual.
</p>
<div class="ioctextl"><div class="ioccontent"><p class="ioctitle">Exemple d&#039;estudi d&#039;ocupació d&#039;una estructura</p>
<p>
Es fa un estudi de disc del directori de l’usuari actual:
</p>
<pre class="code">$ du ~
316	/home/estudiant/.thumbnails/normal
320	/home/estudiant/.thumbnails
...
4	/home/estudiant/.gnome2_private
58393	/home/estudiant</pre>

<p>
El resultat es dóna en KB, però es pot modificar perquè utilitzi el format <em>human readable</em> (-h):
</p>
<pre class="code">$ du -h ~
316K	/home/estudiant/.thumbnails/normal
320K	/home/estudiant/.thumbnails
...
4,0K	/home/estudiant/.gnome2_private
58M	/home/estudiant</pre>

<p>
Es pot mostrar únicament el total:
</p>
<pre class="code">$ du -s ~
58M	/home/estudiant</pre>
</div></div>
<p>

</p>

<p>
Per defecte, <strong>du</strong> no es limita a un sol sistema de fitxers, i continua examinant si troba un punt de muntatge. Per evitar l’exploració de punts de muntatge situats en particions o dispositius diferents, utilitzeu l’opció <strong>-x</strong>.
</p>

</div>

	 </article>
     <div class="pnpage">
      <div class="left-corner"></div>
      <div id="prevpage">Anar a la p&agrave;gina anterior:<br /><a href="../../../WebContent/u6/a1/exercicis.html">Exercicis d'autoavaluació</a></div>
      <div id="nextpage">Anar a la p&agrave;gina seg&uuml;ent:<br /><a href="../../../WebContent/u6/a2/activitats.html">Activitats</a></div>
      <div class="right-corner"></div>
     </div>
    </div>
    <footer class="footer">
      <div><small>Aquest document està subjecte a una llicència oberta de Creative Commons, es reserva el dret de reconeixement de l'autoria, d'exigir que no se'n faci cap mena d'ús comercial. Si altereu o transformeu aquesta obra, o en genereu obres derivades, només podeu distribuir l'obra generada amb una llicència idèntica a aquesta.</small></div>
    </footer>
 </div>
 <div id="back_preview" class="hidden"></div>
 <div id="preview" class="hidden">
  <div class="prevcontent"></div>
 </div>
 <div id="help-tooltips">
  <div id="help-toc" class="hidden tooltip"><span>Taula de continguts:</span> Ofereix una vista general de l&#39;estructura del m&ograve;dul, que us facilitar&agrave; la navegaci&oacute; a trav&eacute;s dels seus continguts.<span class="arrow-left"></span></div> 
  <div id="help-settings" class="hidden tooltip"><span>Opcions de format:</span> Permet configurar el format de lectura a partir de les vostres prefer&egrave;ncies, modificant la mida de la lletra, el color del fons, l&#39;amplada de la p&agrave;gina o l&#39;ocultaci&oacute; dels continguts complementaris, entre d&#39;altres.<span class="arrow-left"></span></div>
  <div id="help-printer" class="hidden tooltip"><span>Imprimir:</span>  Envia el contingut seleccionat a la impressora.<span class="arrow-left"></span></div>
  <div id="help-favorites" class="hidden tooltip"><span>Prefereits:</span> Permet desar aquelles parts del contingut a les que us interessi accedir en un moment posterior; us permetr&agrave; anar creant un repositori personalitzat de les seccions que considereu m&eacute;s rellevants. Un cop l&#39;hageu començat a fer servir se us mostrar&agrave; a sota un comptador que us informar&agrave; del nombre de preferits que s&#39;hagin emmagatzemat fins al moment.<span class="arrow-left"></span></div>
  <div id="help-favcounter" class="hidden tooltip"><span>Comptador i llistat de preferits:</span> Indica el nombre de preferits que s&#39;han desat fins el moment; clicant damunt seu accedireu al llistat de preferits, i a trav&eacute;s d&#39;aquest podreu accedir directament als continguts que hageu emmagatzemat.<span class="arrow-left"></span></div>
  <div id="help-help_icon" class="hidden tooltip"><span>Ajuda:</span> Aquesta opci&oacute; activa la informaci&oacute; de les funcionalitats del web tot situant el punter del ratol&iacute; al damunt dels diferents &iacute;tems.<span class="arrow-left"></span></div>
  <div id="help-sidebar-hide" class="hidden tooltip"><span>Mostrar/Ocultar barra lateral:</span>  Deshabilita la barra d&#39;opcions, permetent la seva recuperaci&oacute; quan es desitgi.<span class="arrow-left"></span></div>
  <div id="help-search" class="hidden tooltip"><span>Cerca:</span>  Introdu&iuml;u les paraules clau sobre aquells conceptes que desitgeu localitzar en els continguts del m&ograve;dul. Tamb&eacute; podeu excloure un terme de la cerca tot afegint-hi el signe &#8220;-&#8221; al davant.<span class="arrow-top"></span></div>
  <div id="help-header" class="hidden tooltip"><span>Cap&ccedil;alera:</span>  Indica l&#39;apartat o secci&oacute; que es mostra en pantalla. Tingueu present que les capçaleres de segon, tercer i quart nivell tamb&eacute; es poden desar com a marcadors.<span class="arrow-left"></span></div>
</div> 
</body>
</html>
