<!doctype html>

<!--[if lt IE 7 ]> <html class="ie ie6 no-js" lang="ca"> <![endif]-->
<!--[if IE 7 ]>    <html class="ie ie7 no-js" lang="ca"> <![endif]-->
<!--[if IE 8 ]>    <html class="ie ie8 no-js" lang="ca"> <![endif]-->
<!--[if IE 9 ]>    <html class="ie ie9 no-js" lang="ca"> <![endif]-->
<!--[if gt IE 9]><!--><html class="no-js" lang="ca"><!--<![endif]-->
<!-- the "no-js" class is for Modernizr. -->

<head id="www-sitename-com" data-template-set="html5-reset">

	<meta charset="utf-8">
	
	<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
	<title>Implantació de sistemes operatius (ASIX)\ Sistemes informàtics (DAM i DAW)</title>
	
<!-- <meta name="title" content=""> --> 
	<meta name="description" content="">
	<!-- Google will often use this as its description of your page/site. Make it good. -->
	
	<meta name="google-site-verification" content="">
	<!-- Speaking of Google, don't forget to set your site up: http://google.com/webmasters -->
	
	<meta name="author" content="Institut Obert de Catalunya">
	<meta name="Copyright" content="Copyright Institut Obert de Catalunya 2011. All Rights Reserved.">

	<!-- Dublin Core Metadata : http://dublincore.org/ -->
	<meta name="DC.title" content="Implantació de sistemes operatius (ASIX)\ Sistemes informàtics (DAM i DAW)">
	<meta name="DC.subject" content="Informàtica i comunicacions">
	<meta name="DC.creator" content="Institut Obert de Catalunya">
	
	<!--  Mobile Viewport Fix
	j.mp/mobileviewport & davidbcalhoun.com/2010/viewport-metatag 
	device-width : Occupy full width of the screen in its current orientation
	initial-scale = 1.0 retains dimensions instead of zooming out if page height > device height
	maximum-scale = 1.0 retains dimensions instead of zooming in if page width < device width
	-->
	<!-- Uncomment to use � use thoughtfully!
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
	-->

	<link rel="shortcut icon" href="../../../img/favicon.ico">
	<!-- This is the traditional favicon.
		 - size: 16x16 or 32x32
		 - transparency is OK
		 - see wikipedia for info on browser support: http://mky.be/favicon/ -->
		 
	<link rel="apple-touch-icon" href="../../../img/apple-touch-icon.png">
	<!-- The is the icon for iOS's Web Clip.
		 - size: 57x57 for older iPhones, 72x72 for iPads, 114x114 for iPhone4's retina display (IMHO, just go ahead and use the biggest one)
		 - To prevent iOS from applying its styles to the icon name it thusly: apple-touch-icon-precomposed.png
		 - Transparency is not recommended (iOS will put a black BG behind the icon) -->
	
	<!-- CSS: screen, mobile & print are all in the same file -->
	<link rel="stylesheet" href="../../../_/css/style.css">

	<!-- CSS: jQuery UI -->
	<link rel="stylesheet" href="../../../_/css/jquery-ui.css">
	
	<!-- all our JS is at the bottom of the page, except for Modernizr. -->
	<script src="../../../_/js/modernizr-1.7.min.js"></script>
	<script src="../../../_/js/Hyphenator.js" type="text/javascript"></script>
	<script type="text/javascript">
	   Hyphenator.config({
		minwordlength : 4
	   });
	   Hyphenator.run();
	</script>
    <script src="../../../_/js/build.js" type="text/javascript"></script>
</head>

<body class="style-newspaper">

<div class="wrapper"><!-- not needed? up to you: http://camendesign.com/code/developpeurs_sans_frontieres -->

	<header id="header">
		<div class="head"><a href="http://ioc.gencat.cat"><img src="../../../img/logo.png" alt="Institut Obert de Catalunya"/></a><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/es/deed.ca"><img src="../../../img/license.png" alt="Llic&egrave;ncia" class="license"/></a></div>
		<div class="headdocument"><a href="../../../index.html">Implantació de sistemes operatius (ASIX)\ Sistemes informàtics (DAM i DAW)</a></div>
        <div id="search" class="search" name="search">
         <form id="frmsearch" action="../../../search.html" method="get">
          <input type="text" name="q"/>
        </form>
        </div>
	</header>
   <div id="upbutton" class="upbutton" style="display:none;"><img src="../../../img/uparrow.png" alt="Pujar a l'inici de p&agrave;gina"/></div>
   <aside id="aside">
    <div id="menu">
      <ul>
       <li name="toc"><div><img src="../../../img/toc.png" alt="&Iacute;ndex"/></div></li>
       <li name="settings"><div><img src="../../../img/settings.png" alt="Configuraci&oacute;"/></div></li>
       <li name="printer"><div><img src="../../../img/printer.png" alt="Imprimir"/></div></li>
       <li name="favorites"><div><img src="../../../img/favorites.png" alt="Favorits"/></div></li>
       <li name="help_icon" class="help_icon"><div><img src="../../../img/help_icon.png" alt="Ajuda"/></div></li>
      </ul>
     </div>
   </aside>
   <div id="sidebar-hide" name="sidebar-hide"><img src="../../../img/arrows.png"/></div>
   <section>
     <div id="toc" class="hidden">
      <div class="menucontent">
        <ul>
        <li id="u4" class="parentnode"><p><a class="unit" href="../../../WebContent/u4/introduccio.html">4. Administració de programari de base propietari</a></p><ul class="expander"><li id="u4introduccio"><a href="../../../WebContent/u4/introduccio.html">Introducció</a></li><li id="u4resum"><a href="../../../WebContent/u4/resum.html">Resum</a></li><li id="u4objectius"><a href="../../../WebContent/u4/objectius.html">Resultats d'aprenentatge</a></li><li id="u4mapa"><a href="../../../WebContent/u4/mapa.html">Mapa conceptual</a></li><li id="u4referencies"><a href="../../../WebContent/u4/referencies.html">Referències</a></li><li id="u4a1" class="tocsection"><p id='u4a1continguts'><a class="section" href="../../../WebContent/u4/a1/continguts.html">Administració d'usuaris i grups</a><span class="buttonexp"></span></p><ul><li id="u4a1activitats"><a href="../../../WebContent/u4/a1/activitats.html">Activitats</a></li><li id="u4a1exercicis"><a href="../../../WebContent/u4/a1/exercicis.html">Exercicis d'autoavaluació</a></li></ul></li><div data-parent-id='u4a1' class='tocssection hidden'><div class="toc"><ul><li><a href="../../../WebContent/u4/a1/continguts.html#usuaris_del_windows">Usuaris del Windows</a></li><li><a href="../../../WebContent/u4/a1/continguts.html#gestio_de_contrasenyes">Gestió de contrasenyes</a></li><li><a href="../../../WebContent/u4/a1/continguts.html#perfils_d_usuaris_locals">Perfils d'usuaris locals</a></li><li><a href="../../../WebContent/u4/a1/continguts.html#grups_d_usuaris">Grups d'usuaris</a></li><li><a href="../../../WebContent/u4/a1/continguts.html#control_de_comptes_d_usuari_uac">Control de comptes d'usuari (UAC)</a></li><li><a href="../../../WebContent/u4/a1/continguts.html#dominis_grups_de_treball_i_grups_domestics">Dominis, grups de treball i grups domèstics</a></li></ul></div></div><li id="u4a2" class="tocsection"><p id='u4a2continguts'><a class="section" href="../../../WebContent/u4/a2/continguts.html">Configuració del protocol de xarxa</a><span class="buttonexp"></span></p><ul><li id="u4a2activitats"><a href="../../../WebContent/u4/a2/activitats.html">Activitats</a></li><li id="u4a2exercicis"><a href="../../../WebContent/u4/a2/exercicis.html">Exercicis d'autoavaluació</a></li></ul></li><div data-parent-id='u4a2' class='tocssection hidden'><div class="toc"><ul><li><a href="../../../WebContent/u4/a2/continguts.html#xarxes_d_area_local">Xarxes d'àrea local</a></li><li><a href="../../../WebContent/u4/a2/continguts.html#internet">Internet</a></li><li><a href="../../../WebContent/u4/a2/continguts.html#protocols">Protocols</a></li><li><a href="../../../WebContent/u4/a2/continguts.html#model_tcp_ip">Model TCP/IP</a></li><li><a href="../../../WebContent/u4/a2/continguts.html#adrecament_en_la_xarxa">Adreçament en la Xarxa</a></li><li><a href="../../../WebContent/u4/a2/continguts.html#adrecament_estatic_o_dinamic_per_a_dispositius_d_usuari_final">Adreçament estàtic o dinàmic per a dispositius d'usuari final</a></li></ul></div></div><li id="u4a3" class="tocsection"><p id='u4a3continguts'><a class="section" href="../../../WebContent/u4/a3/continguts.html">Optimització del sistema en ordinadors portàtils</a><span class="buttonexp"></span></p><ul><li id="u4a3activitats"><a href="../../../WebContent/u4/a3/activitats.html">Activitats</a></li><li id="u4a3exercicis"><a href="../../../WebContent/u4/a3/exercicis.html">Exercicis d'autoavaluació</a></li></ul></li><div data-parent-id='u4a3' class='tocssection hidden'><div class="toc"><ul><li><a href="../../../WebContent/u4/a3/continguts.html#millores_d_estalvi_energetic_en_el_windows_7">Millores d'estalvi energètic en el Windows 7</a></li><li><a href="../../../WebContent/u4/a3/continguts.html#plans_d_energia">Plans d'energia</a></li><li><a href="../../../WebContent/u4/a3/continguts.html#estalvi_energetic">Estalvi energètic</a></li><li><a href="../../../WebContent/u4/a3/continguts.html#suspensio_hibernacio_i_suspensio_hibrida">Suspensió, hibernació i suspensió híbrida</a></li><li><a href="../../../WebContent/u4/a3/continguts.html#optimitzacio_del_sistema_per_a_millorar_el_rendiment">Optimització del sistema per a millorar el rendiment</a></li><li><a href="../../../WebContent/u4/a3/continguts.html#arxius_de_xarxa_sense_connexio">Arxius de xarxa sense connexió</a></li></ul></div></div></ul></li><li id="" class="indexnode"><p><a href="../../../index.html">Anar a l&#39;&iacute;ndex general</a></p></li>
        </ul>
      </div>
    </div>
   </section>
   <section>
   <div id="settings" class="hidden">
    <div class="menucontent">
     <div class="allsettings">
     <div class="settings">
      <label>Font i Color</label>
		<div class="setting-option">
	        <ul class="fontBackground">
				<li id="style-newspaper" title="Newspaper" class="appearance-style-newspaper"><span>Newspaper</span></li>
                <li id="style-novel" title="Novel" class="appearance-style-novel"><span>Novel</span></li>
                <li id="style-ebook" title="eBook" class="appearance-style-ebook"><span>eBook</span></li>
				<li id="style-inverse" title="Inverse" class="appearance-style-inverse active"><span>Inverse</span></li>
				<li id="style-athelas" title="Athelas" class="appearance-style-athelas"><span>Athelas</span></li>
			</ul>
		</div>
     </div>
	<div class="settings">
      <label>Amplada</label>
		<div class="setting-option">
	        <div id="slider-width"></div>
		</div>
     </div>
     <div class="settings">
      <label>Mida de la font</label>
		<div class="setting-option">
	        <div id="slider-font"></div>
		</div>
     </div>
     <div class="settings">
      <label>Mida de la font</label>
	  <div class="setting-option">
       <form action="" class="sett-options">
		<ul>
		    <li><input type="checkbox" id="secondary-content" /><label for="secondary-content">Mostra recursos complementaris</label></li>
		    <li><input type="checkbox" id="main-images" /><label for="main-images">Mostra imatges</label></li>
		    <li><input type="checkbox" id="text-alignment" /><label for="text-alignment">Text justificat</label></li>
			<li><input type="checkbox" id="text-hyphen" /><label for="text-hyphen">Partici&oacute; sil·l&agrave;bica</label></li>
		</ul>
       </form>
	  </div>
     </div>
     </div>
    </div>
   </div>
   </section>
 <section>
 <div id="favorites" class="hidden"></div>
 </section>   
 <div id="bridge" class="hidden"></div>
 <div id="help" class="hidden">
  <div class="helptitle">Dreceres del teclat<hr></div>
  <div class="helpsection"><span>General</span>
   <ul>
    <li><span class="shortcut">g</span>: Anar al men&uacute; de navegaci&oacute;</li>
    <li><span class="shortcut">o</span>: Anar a opcions</li>
    <li><span class="shortcut">s</span>: Guardar la p&agrave;gina actual a favorits</li>
    <li><span class="shortcut">p</span>: Imprimir la p&agrave;gina actual</li>
    <li><span class="shortcut">?</span>: Mostrar/Ocultar l&#39;ajuda</li>
   </ul>
  </div>
  <div class="helpsection"><span>Navegaci&oacute;</span>
   <ul>
    <li><span class="shortcut">i</span>: Anar a l&#39;&iacute;ndex general</li>
    <li><span class="shortcut">t</span>: Anar a l&#39;inici de p&agrave;gina</li>
    <li><span class="shortcut">b</span>: Anar al final de p&agrave;gina</li>
    <li><span class="shortcut">j</span>: Anar cap endavant dintre la p&agrave;gina</li>
    <li><span class="shortcut">k</span>: Anar cap enrere dintre la p&agrave;gina</li>
    <li><span class="shortcut">h</span>: Anar a la p&agrave;gina anterior:</li>
    <li><span class="shortcut">l</span>: Anar a la p&agrave;gina seg&uuml;ent:</li>
   </ul>
   </div>
 </div>
 <div id="favcounter" name="favcounter" class="hidden"><span></span></div>
 <div id="navmenu" class="navmenu"><ul class="webnav"><li><a href="../../../index.html" title="Anar a l&#39;&iacute;ndex general">Inici</a></li><li><a href="../introduccio.html">Administració de programari de base lliure</a></li><li>Administració d'usuaris i grups en sistemes operatius lliures</li></ul></div>
	<div id="content" lang="ca" class="hyphenate text">
     <article lang="ca" class="sheet">
        <h1><a id="administracio_d_usuaris_i_grups_en_sistemes_operatius_lliures"> Administració d'usuaris i grups en sistemes operatius lliures </a></h1>
    	<div class="iocimportant"><div class="ioccontent">
<p>
Una de les característiques principals d’un sistema operatiu del tipus GNU/Linux és la capacitat de gestionar diferents usuaris en un mateix sistema. De fet, es diu que el GNU/Linux és un sistema operatiu <strong>multiusuari</strong>, perquè incorpora totes les eines necessàries per dur a terme aquesta gestió.
</p>
</div></div>
<p>
 A més a més, el GNU/Linux té la capacitat de donar suport a diferents usuaris que treballin de manera simultània a la mateixa màquina, localment, per mitjà d’una xarxa d’àrea local o, fins i tot, per Internet. 
</p>

<p>
Cadascun d’aquests usuaris del sistema té assignat un directori personal, dins del qual té tots els permisos possibles (lectura, escriptura, execució). Així doncs, cada usuari pot tenir els seus documents, fitxers descarregats, preferències i aplicacions, sense que hi hagi cap interferència entre ells. De fet, un usuari no pot ni llegir ni modificar els arxius propis d’altres usuaris.
</p>

<p>
Abans de poder treballar directament en un sistema Linux, ens caldrà indicar un nom d’usuari (<em>login</em>) i una contrasenya (<em>password</em>); és a dir, sempre ens haurem d’identificar. La majoria de sistemes Linux tenen dos modes bàsics de funcionament, que són els següents:
</p>
<ul>
<li class="level1"><div class="li"> <strong>Mode de text</strong> (consola de text): mode ràpid i auster que s’assembla a antics sistemes operatius sense pantalla gràfica, amb ratolí i característiques de multitasca i multiusuari.</div>
</li>
<li class="level1"><div class="li"> <strong>Mode gràfic</strong>, que sembla que és millor i més vistós però que consumeix força més recursos del sistema.</div>
</li>
</ul>

<p>
Avui dia, el mode gràfic és el més habitual en la majoria d’ordinadors personals. Podem saber que ens connectem al sistema en mode gràfic perquè se’ns pregunta el nom d’usuari i la contrasenya dins d’una finestra ubicada sobre un fons que acostuma a incloure imatges gràfiques.
</p>

<h2><a id="introduccio_usuaris_predeterminats_fitxers_amb_informacio_d_usuaris_i_grups" >Introducció, usuaris predeterminats, fitxers amb informació d&#039;usuaris i grups</a></h2>
<div class="level2">

<p>
En totes les distribucions del GNU/Linux modernes, sempre hem de crear com a mínim un usuari durant el procés d’instal.lació. En la majoria de les distribucions, aquest usuari no té drets d’administració, és a dir: és un usuari que pot utilitzar el sistema, però que no el pot administrar. En aquest sentit podem dir que aquest és el perfil d’usuari predeterminat.
</p>

<p>
A més de l’usuari predeterminat, en el procés d’instal·lació haurem d’assignar la contrasenya d’administrador. El nom de l’usuari administrador en les diferents variants de l’UNIX i distribucions del GNU/Linux és primari (<strong>root</strong>).
</p>

<p>
Un cop hem accedit al sistema amb un usuari no administrador, se’ns presentarà l’escriptori. Durant la visualització dels menús, ens adonarem que es poden fer moltes coses sense haver d’introduir ordres des del teclat: la majoria d’usuaris en tindran prou amb el mètode “situa-t’hi i clica”. Però hi ha operacions d’una complexitat superior que requereixen que l’administrador del sistema i de la xarxa “remeni” per les interioritats del sistema. Necessiten una eina més potent que un ratolí per manejar totes les tasques, que és l’intèrpret d’ordres i que en mode gràfic l’activem obrint una finestra de terminal. Aquesta finestra de terminal també rep el nom de <strong>consola</strong>.
</p>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">Compte amb el root!</p>
<p>
Es considera una mala idea connectar-se (gràficament) utilitzant el nom d’usuari <em>root</em>, el compte de l’administrador del sistema, ja que els entorns gràfics inclouen l’execució de molts programes extres, que en el cas que ens connectéssim utilitzant el nom d’usuari <em>root</em> funcionarien amb permisos excessius. Per reduir riscos al mínim, cal que fem servir un compte d’usuari normal per connectar-nos-hi gràficament. Hem de tenir molt present aquest consell general per a tots els usos que fem del compte <em>root</em>: només accedirem com a administradors del sistema quan es requereixin privilegis extres.
</p>
</div></div>
<p>
Per obrir una <em>finestra de terminal</em> o <em>xterm</em> (<em>X</em> és el nom del programari que s’encarrega de fer que l’entorn gràfic pugui funcionar) cal anar al menú d’Aplicacions, Utilitats, Eines de sistema, o en el menú Internet, en funció del gestor de finestres que utilitzem. També es podria donar el cas que hi hagués icones d’accés directe a una finestra xterm.
</p>

<p>
La finestra de terminal ens dóna el control del sistema, des de la qual es pot fer gairebé tot en el sistema. Cada finestra de terminal que s’obre hauria de mostrar sempre un <strong>indicador d’ordres</strong> (<em>command prompt</em>). Així doncs, la presència d’aquest indicador és manera com el sistema indica que es troba preparat per rebre les ordres de l’usuari i executar-les.
</p>

<p>
La imatge que oferim a continuació (<span class="figref"><a href="#Figure1"><span>figura</span></a></span>) és un terminal en una sessió de treball en què apareix un indicador d’ordres estàndard, que mostra el nom d’entrada de l’usuari i el directori de treball actual. El directori personal de l’usuari és representat per una titlla (caràcter ~).
</p>
<div class="iocfigure"><a name="Figure1"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Finestra de terminal en mode gràfic

</figcaption><img src="../media/esi_2201_c08_ud4_im4.png" alt="" /></figure>
</div><pre class="code">[usuari@host dir]_</pre>

<p>
Aquí, <em>usuari</em> serà el nostre nom d’accés, <em>host</em> serà el nom de la màquina a què hem accedit, i <em>dir</em> serà una indicació de la nostra ubicació actual en el sistema d’arxius.
</p>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">Quina informació mostra l&#039;indicador d&#039;ordres?</p>
<p>
Un indicador d’ordres pot mostrar informació diversa, la qual no forma part de les ordres que introduïm al sistema. El tipus d’informació que acostuma a contenir és el nom d’usuari amb què hem entrat al sistema, el nom de la màquina, l’hora, etc.
</p>
</div></div>
<p>
Si l’indicador d’ordres es visualitza en pantalla amb el caràcter <code>$</code> seguit d’un cursor per convidar l’usuari a la introducció d’ordres, aleshores l’usuari encara no té privilegis d’administració.  
</p>

<p>
En moltes distribucions, per iniciar una sessió com a usuari administrador hem d’escriure dins la finestra de terminal:
</p>
<pre class="code">usuari@localhost ~ $ su -</pre>

<p>
I escriure la contrasenya d’administrador o usuari primari.
</p>

<p>
En la distribució Ubuntu es crea un usuari que, mitjançant la seva contrasenya, pot accedir a les tasques d’administració. Podem accedir a una consola com a usuari primari si escrivim:
</p>
<pre class="code">usuari@localhost ~ $ sudo su - </pre>

<p>
o bé:
</p>
<pre class="code">usuari@localhost ~ $ sudo bash</pre>

<p>
En aquest cas caldrà escriure la contrasenya de l’usuari amb drets d’administració.
</p>

<p>
Val a dir que moltes de les tasques d’administració en sistemes GNU/Linux impliquen la modificació d’una sèrie de fitxers de configuració del sistema. Habitualment, aquests fitxers de configuració són dins del directori <strong>/etc</strong>, independentment de la distribució del GNU/Linux que utilitzem.
</p>

</div>

<h3><a id="l_interpret_d_ordres" >L&#039;intèrpret d&#039;ordres</a></h3>
<div class="level3">

<p>
Quan iniciem una sessió de treball en un servidor Linux (sessió de terminal), el sistema ens prepara un espai de treball i un determinat intèrpret d’ordres.
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
L’intèrpret d’ordres és l’encarregat de rebre les instruccions introduïdes per l’usuari, d’interpretar-les i d’executar-les. La seva disponibilitat se’ns mostra mitjançant un indicador d’ordres (<em>command</em>
<em>prompt</em>).
</p>
</div></div>
<p>
En els entorns Linux, l’intèrpret d’ordres més utilitzat actualment és bash (bourne again shell), tot i que s’està començant a estendre la utilització de l’intèrpret dash.
</p>

</div>

<h4><a id="tipus_d_ordres" >Tipus d&#039;ordres</a></h4>
<div class="level4">

<p>
Classificarem les ordres en dos tipus: les ordres <strong>internes</strong> i les ordres <strong>externes</strong>.
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
Les <strong>ordres internes</strong> es troben implementades dins del mateix intèrpret d’ordres i, gràcies a això, aquest les reconeix immediatament i les executa a l’instant. Les <strong>ordres externes</strong>, en canvi, es troben implementades fora de l’intèrpret d’ordres, ubicades en algun espai del disc. Això fa que el sistema hagi de dedicar un temps a la cerca d’aquest tipus d’ordres en el disc.
</p>
</div></div>
<p>
El temps dedicat a cercar les ordres externes en el disc és curt, gràcies a un mecanisme que indica a l’intèrpret d’ordres quins són els llocs en què les ha de cercar. Aquest mecanisme s’anomena <strong>camí de cerca</strong> (<em>search path</em>) i és una llista de directoris que l’intèrpret d’ordres farà servir per cercar les ordres externes. Penseu que si un sistema està format per uns dos mil directoris, el camí de cerca pot consistir en una llista de només uns set o vuit, amb la qual cosa el temps de cerca es redueix notablement.
</p>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">Cercant ordres externes amb which</p>
<p>
L’ordre mostra el camí on es troba una determinada ordre externa, sempre que es pugui trobar mitjançant el camí de cerca. Per exemple, <code>which ls</code> mostrarà el directori del disc on es troba l’ordre ls.
</p>
</div></div>
<p>
Són exemples d’ordres internes les següents: cd, exec, arg, eval i exit.
</p>

<p>
Són exemples d’ordres externes les següents: ls, who, date i man.
</p>

</div>

<h3><a id="ordres_basiques" >Ordres bàsiques</a></h3>
<div class="level3">

<p>
A continuació, en la <span class="tabref"><a href="#Table1"><span>taula</span></a></span>, tenim les ordres bàsiques, amb les quals cal començar:
</p>
<div class="ioctable ">
<div class="titletable"><a name="Table1"><span>Taula: </span></a>Ordres bàsiques a Linux</div>
<div class="table"><table class="inline">
	<tr class="row0">
		<th class="col0"> Ordre </th><th class="col1"> Funció </th>
	</tr>
	<tr class="row1">
		<td class="col0"> <code>ls</code> </td><td class="col1"> Mostra una llista d’arxius en el directori de treball actual (com <em>dir</em> en el sistema DOS). </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <code>cd</code> directori </td><td class="col1"> Canvia al directori especificat. </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <code>passwd</code> </td><td class="col1"> Canvia la contrasenya de l’usuari actual. </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <code>file</code> nomarxiu </td><td class="col1"> Mostra el tipus d’arxiu de l’arxiu amb nom nomarxiu. </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <code>cat</code> arxiudetext </td><td class="col1"> Escriu en pantalla el contingut d’arxiudetext. </td>
	</tr>
	<tr class="row6">
		<td class="col0"> <code>pwd</code> </td><td class="col1"> Mostra el directori de treball actual. </td>
	</tr>
	<tr class="row7">
		<td class="col0"> <code>exit</code> o <code>logout</code> </td><td class="col1"> Tanca la sessió actual. </td>
	</tr>
	<tr class="row8">
		<td class="col0"> <code>man</code> ordre </td><td class="col1"> Mostra les pàgines del manual referents a l’ordre. </td>
	</tr>
	<tr class="row9">
		<td class="col0"> <code>info</code> ordre </td><td class="col1"> Mostra les pàgines d’informació referents a l’ordre. </td>
	</tr>
	<tr class="row10">
		<td class="col0"> <code>apropos</code> cadena </td><td class="col1"> Cerca el text cadena dins de la base de dades whatis. </td>
	</tr>
</table></div>
</div>
<p>
Les ordres s’introdueixen després de l’indicador d’ordres, dins d’una finestra de terminal en mode gràfic o en mode de text, seguides de la tecla de retorn.
</p>

<p>
Algunes ordres es poden cridar escrivint-ne el nom i prou, i donen un resultat, com per exemple <code>ls</code>. N’hi ha d’altres que permeten especificar-los opcions.
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
Les <strong>opcions</strong> indiquen a una ordre que tingui un comportament diferent de l’habitual. Afegir una opció a una ordre és escriure-hi al darrere una lletra, habitualment precedida d’un guió (-).
</p>
</div></div>
<p>
Per exemple, l’ordre <code>ls</code> es comporta de manera diferent a l’hora de triar quins arxius ha de mostrar quan s’afegeix al darrere l’opció <code>-a</code>, formant la instrucció <code>ls -a</code>.
</p>

<p>
L’opció <code>-a</code> indica a <code>ls</code> que mostri tots els arxius per mostrar, fins i tot els ocults. El mateix caràcter de l’opció pot tenir un significat diferent per a una altra ordre. Els programes GNU també accepten opcions llargues, precedides de dos guions, com <code>ls &mdash;all</code> (equivalent a <code>ls -a</code>). Tanmateix, hi ha ordres que no permeten opcions.
</p>

<p>
Les ordres també permeten que se’ls indiqui sobre quins objectes s’ha d’actuar. Cada objecte especificat s’anomena <strong>paràmetre</strong>.
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
Els <strong>paràmetres</strong> passats a una ordre són les especificacions de l’objecte o objectes sobre els quals volem que aquesta ordre actuï.
</p>
</div></div>
<p>
Un exemple d’ordre amb un paràmetre és <code>ls /etc</code>, on el directori <code>/etc</code> és el paràmetre de l’ordre <code>ls</code>. Aquest paràmetre indica a ls que volem veure què hi ha dins del directori <code>/etc</code>, en lloc d’obtenir el resultat per defecte, que consistiria a veure el contingut del directori actual, només introduint l’ordre <code>ls</code> seguida de la tecla de retorn. Algunes ordres requereixen paràmetres obligatòriament, i per a d’altres els paràmetres són opcionals.
</p>

<p>
Quan un paràmetre és opcional, s’acostuma a escriure entre claudàtors en la descripció de la sintaxi de l’ordre. Aquests claudàtors no s’han d’introduir: només indiquen que el que hi ha a dins es pot escriure o no.
</p>

<p>
Comprovant l’ajuda en línia d’una ordre, podrem saber si l’ordre accepta opcions i paràmetres, i quins d’aquests són vàlids. A la <span class="tabref"><a href="#Table2"><span>taula</span></a></span> podeu veure com demanar l’ajuda:
</p>
<div class="iocexample"><div class="ioccontent">
<p>
Per exemple, <code>cd [directori]</code> indica que la instrucció <code>cd</code> és vàlida, i les instruccions <code>cd homejep</code> i <code>cd usrshare</code> també ho són.
</p>
</div></div><div class="ioctable ">
<div class="titletable"><a name="Table2"><span>Taula: </span></a>Ordres per obtenir ajuda</div>
<div class="table"><table class="inline">
	<tr class="row0">
		<th class="col0"> Ordre d’ajuda </th><th class="col1"> Descripció </th>
	</tr>
	<tr class="row1">
		<td class="col0"> <code>ls &mdash;help</code> </td><td class="col1"> Mostra l’ajuda (breu) de l’ordre ls. </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <code>man ls</code> </td><td class="col1"> Mostra el manual (més extens) de l’ordre ls. </td>
	</tr>
</table></div>
</div>
<p>
En una ordre determinada, les opcions i els paràmetres es poden combinar.
</p>
<div class="iocexample"><div class="ioccontent">
<p>
Un exemple de combinació dins de la mateixa instrucció és <code>ls -a etc</code>, fruit de la combinació de l’opció <code>-a</code> i del paràmetre <code>etc</code>. També cal esmentar que hi ha ordres que accepten opcions io paràmetres múltiples. Un exemple seria <code>ls -a -l -i etc home</code>, en què es combinen tres opcions i dos paràmetres. Hi ha ordres que admeten totes les opcions juntes i amb un sol guió (o de vegades fins i tot sense guió). Així ens estalviem el fet d’haver de teclejar en excés! En el cas de la instrucció anterior, podria haver estat <code>ls -ali etc /home</code>.
</p>
</div></div>
</div>

<h4><a id="caracters_comodi" >Caràcters comodí</a></h4>
<div class="level4">

<p>
Els intèrprets d’ordres que reben les nostres instruccions entenen una sèrie de <em>comodins</em> que permeten fer abreviacions que després expandeixen en llistes d’arxius. Per exemple, un asterisc (*) representa qualsevol nombre de qualsevol caràcter. La instrucció <code>ls c*.txt</code> crearia la llista tots els arxius del directori actual el nom dels quals comença per la lletra c, i acaba amb els caràcters .txt. Cada intèrpret pot tenir determinats comodins propis. Els caràcters comodí més habituals són l’asterisc (*) i l’interrogant (?).
</p>

<p>
El caràcter ? coincideix amb un sol caràcter.
</p>

<p>
A més, hi ha altres maneres per refinar l’especificació de caràcters en una determinada posició del nom. Els caràcters que cal triar o filtrar s’han d’escriure entre claudàtors [ ]. Vegeu els caràcters comodí de la <span class="tabref"><a href="#Table3"><span>taula</span></a></span>.
</p>
<div class="iocnote"><div class="ioccontent">
<p>
Per exemple, <code>ls ?ouse</code> mostrarà arxius amb el nom house i mouse, però no grouse.
</p>
</div></div><div class="ioctable ">
<div class="titletable"><a name="Table3"><span>Taula: </span></a>Caràcters comodí</div>
<div class="table"><table class="inline">
	<tr class="row0">
		<th class="col0"> Caràcter/s </th><th class="col1"> Substitueixen </th>
	</tr>
	<tr class="row1">
		<td class="col0"> ? </td><td class="col1"> Qualsevol caràcter. </td>
	</tr>
	<tr class="row2">
		<td class="col0"> * </td><td class="col1"> Qualsevol seqüència de caràcters. </td>
	</tr>
	<tr class="row3">
		<td class="col0"> [abc] </td><td class="col1"> Un dels tres caràcters a, b o bé c. </td>
	</tr>
	<tr class="row4">
		<td class="col0"> [^123] </td><td class="col1"> Els caràcters que no són 1, 2 o 3 (també és vàlid el caràcter ! en lloc de ^). </td>
	</tr>
	<tr class="row5">
		<td class="col0"> [a-h] </td><td class="col1"> Caràcters entre a i h, ambdós inclosos. </td>
	</tr>
</table></div>
</div>
<p>
Podem combinar més d’un caràcter comodí. Els caràcters comodí es poden fer servir en instruccions que treballen sobre arxius i directoris, com per exemple ls.
</p>

</div>

<h3><a id="fitxer_amb_informacio_d_usuarisetc_passwd" >Fitxer amb informació d&#039;usuaris: /etc/passwd</a></h3>
<div class="level3">
<div class="iocimportant"><div class="ioccontent">
<p>
En els sistemes GNU/Linux, la informació sobre els usuaris està localitzada en el fitxer <strong>/etc/passwd</strong>.
</p>
</div></div>
<p>
Si en mirem el contingut, obtindrem una llista semblant a la de l’exemple 1:
</p>
<div class="iocexample"><div class="ioccontent"><p class="ioctitle">Exemple 1. Contingut de l&#039;arxiu etcpasswd</p><pre class="code">  $ cat /etc/passwd
  . . . 
  gdm:x:42:473::/var/lib/gdm:/sbin/nologin
  root:x:0:0:root:/root:/bin/bash
  angel:x:502:1001::/home/angel:/bin/bash
  anna:x:503:1001::/home/angel:/bin/bash</pre>
</div></div>
<p>
I descriu el tipus d’informació següent:
</p>
<pre class="code">nom_usuari:password:UID:GID:comentaris:directori_home:shell_d’accés</pre>

<p>
El significat de cada element el podem veure a la <span class="tabref"><a href="#Taula4"><span>taula</span></a></span>.
</p>
<div class="ioctable ">
<div class="titletable"><a name="Taula4"><span>Taula: </span></a>Elements del fitxer /etc/passwd.</div>
<div class="table"><table class="inline">
	<tr class="row0">
		<th class="col0"> Concepte </th><th class="col1"> Significat </th>
	</tr>
	<tr class="row1">
		<td class="col0"> nom_usuari </td><td class="col1"> <em>Login</em> de l’usuari (nom que utilitza l’usuari per iniciar la sessió en el sistema). </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <em>password</em> </td><td class="col1"> La paraula de pas al sistema (contrasenya). De fet, la contrasenya s’emmagatzema en l’arxiu /etc/shadow, que és un fitxer encriptat. </td>
	</tr>
	<tr class="row3">
		<td class="col0"> UID </td><td class="col1"> <em>User identification</em>. Codi d’identificació de l’usuari. </td>
	</tr>
	<tr class="row4">
		<td class="col0"> GID </td><td class="col1"> <em>Group identification</em>. Codi d’identificació del grup a què pertany. </td>
	</tr>
	<tr class="row5">
		<td class="col0"> Directori_home </td><td class="col1"> Definició del directori personal (o per defecte) de l’usuari. </td>
	</tr>
	<tr class="row6">
		<td class="col0"> Shell_d’accés </td><td class="col1"> Intèrpret d’ordres que utilitza l’usuari en les seves sessions. </td>
	</tr>
</table></div>
</div>
<p>
Alguns dels usuaris corresponen a serveis del sistema: ho podem identificar perquè no tenen cap intèrpret d’ordres associat, i no tenen un directori personal dins de <strong>/home</strong>, com la resta d’usuaris. 
</p>

<p>
En l’exemple 1, l’usuari gdm correspon a un usuari associat a un servei del sistema (la pantalla de benvinguda o de <em>login</em>). Ho podem veure perquè no té cap intèrpret d’ordres associat (<strong>/sbin/nologin</strong>), i el seu directori personal és <strong>/var/lib/gdm</strong>, en comptes d’un subdirectori dins del directori <strong>/home</strong>. 
</p>

</div>

<h3><a id="fitxer_amb_informacio_de_contrasenyes_etc_shadow" >Fitxer amb informació de contrasenyes /etc/shadow</a></h3>
<div class="level3">

<p>
Es considera un risc de seguretat mantenir cap contrasenya en el fitxer <strong>/etc/passwd</strong>, perquè qualsevol persona amb drets de lectura pot executar un programa i obtenir les contrasenyes sense gaire dificultat. Per evitar aquest risc, es fan servir contrasenyes ocultes de manera que només aparegui una <em>x</em> en el camp de contrasenya del fitxer <strong>/etc/passwd</strong>. 
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
Les contrasenyes es desen en el fitxer <strong>/etc/shadow</strong>, al qual només té accés l’usuari administrador.
</p>
</div></div>
<p>
Totes les distribucions del GNU/Linux actuals permeten la utilització de contrasenyes ocultes. Vegem el contingut aproximat del fitxer <strong>/etc/shadow</strong>: 
</p>
<pre class="code">  root@usuari-desktop:~# cat /etc/shadow
  root:!:14921:0:99999:7:::
  daemon:*:14837:0:99999:7:::
  bin:*:14837:0:99999:7:::
  . . . 
  gdm:*:14837:0:99999:7:::
  usuari:$6$EGXuQLzP$v6fEN4db4WimengsM1ZuXNxp3gQvgz3voPNUx3BuxIotoS1D1l01THSB.kAZHZ
61WK5F27vyxrDym691GlVsH0:14921:0:99999:7:::
  vboxadd:!:14929:::::: </pre>

<p>
Els camps estan separats per dos punts, i són en ordre:
</p>
<div class="iocnote"><div class="ioccontent">
<p>
Hi ha dos algorismes d’encriptació de les contrasenyes: MD5 i DES. MD5 és un mètode més fort d’encriptació.
</p>
</div></div><ul>
<li class="level1"><div class="li"> Nom d’usuari per iniciar la sessió</div>
</li>
<li class="level1"><div class="li"> Contrasenya encriptada de l’usuari</div>
</li>
<li class="level1"><div class="li"> El nombre de dies des de l’1 de gener de 1970 fins al darrer canvi de contrasenya. Aquesta data és coneguda en el món de l’UNIX com a <em>epoch</em>.</div>
</li>
<li class="level1"><div class="li"> El nombre de dies que han de passar abans que la contrasenya es pugui canviar. Aquest camp indica un mínim de dies de la validesa de la contrasenya.</div>
</li>
<li class="level1"><div class="li"> El nombre de dies després dels quals la contrasenya s’ha de canviar. Aquest camp indica un màxim de dies de validesa de la contrasenya. Es pot modificar per forçar el canvi de contrasenya.</div>
</li>
<li class="level1"><div class="li"> El nombre de dies abans que s’avisi l’usuari que la seva contrasenya expirarà.</div>
</li>
<li class="level1"><div class="li"> El nombre de dies després del canvi de contrasenya i que fa que s’inhabiliti el compte d’usuari.</div>
</li>
<li class="level1"><div class="li"> El nombre de dies des de l’1 de gener del 1970 en què el compte d’usuari s’ha deshabilitat.</div>
</li>
<li class="level1"><div class="li"> El darrer camp reservat, que actualment no es fa servir per a res.</div>
</li>
</ul>

<p>
El fitxer <strong>/etc/shadow</strong> només hauria de tenir permisos de lectura i escriptura per a l’usuari administrador; la resta d’usuaris no hauria de tenir cap permís de lectura ni d’escriptura (cadena de permisos: 600).
</p>

<p>
Pel què fa a l’elecció de les contrasenyes, val a dir que s’ha d’establir un compromís entre la facilitat per recordar la contrasenya i la dificultat que pot tenir una persona aliena per obtenir-la. 
Per exemple, contrasenyes com ara 123456, la data de naixement, el nom o cognoms, s’han d’evitar, perquè faciliten molt accessos indeguts al sistema. 
</p>

<p>
També es podria utilitzar una contrasenya del tipus <strong>2a56u’“F($84u&amp;#^Hiu44Ik%$([#EJD</strong>, que faria pràcticament impossible que un usuari il·legítim accedís al sistema, però al mateix temps seria molt difícil de recordar per part de l’usuari.
En qualsevol cas hi ha un seguit de consells que podem valorar a l’hora de triar i mantenir una bona contrasenya:
</p>
<ul>
<li class="level1"><div class="li"> Incloure signes de puntuació i/o xifres</div>
</li>
<li class="level1"><div class="li"> Barrejar majúscules i minúscules</div>
</li>
<li class="level1"><div class="li"> Una llargada mínima de vuit caràcters</div>
</li>
<li class="level1"><div class="li"> Substituir caràcters per altres d’aspecte semblant, com la lletra S pel símbol <code>$</code></div>
</li>
<li class="level1"><div class="li"> No donar mai la contrasenya a ningú</div>
</li>
<li class="level1"><div class="li"> No anotar-la mai</div>
</li>
<li class="level1"><div class="li"> No enviar-la per correu electrònic</div>
</li>
<li class="level1"><div class="li"> Canviar la contrasenya sovint.</div>
</li>
</ul>

</div>

<h3><a id="fitxers_amb_informacio_de_grupsetc_group" >Fitxers amb informació de grups: /etc/group</a></h3>
<div class="level3">
<div class="iocimportant"><div class="ioccontent">
<p>
La informació sobre els grups del sistema, i el seu identificador, està localitzada en el fitxer <strong>/etc/group</strong>, i les contrasenyes de grup són en el fitxer <strong>/etc/gshadow</strong>.
</p>
</div></div><div class="iocnote"><div class="ioccontent">
<p>
Hi ha un fitxer anomenat <em>/etc/gshadow</em>, que conté informació encriptada sobre els grups d’usuaris.
</p>
</div></div>
<p>
Podem mostrar el contingut d’aquest fitxer de configuració mitjançant l’ordre següent:
</p>
<pre class="code">  $ cat /etc/group
  . . . 
  alumnes:x:1001:angel,anna </pre>

<p>
En aquest fitxer apareix la informació següent:
</p>
<pre class="code">nom_grup:password:GID:llista_usuaris</pre>

<p>
En podeu veure els elements i el seu significat a la <span class="tabref"><a href="#Table5"><span>taula</span></a></span>.
</p>
<div class="ioctable ">
<div class="titletable"><a name="Table5"><span>Taula: </span></a>Elements del fitxer <strong>/etc/group</strong>.</div>
<div class="table"><table class="inline">
	<tr class="row0">
		<th class="col0"> Concepte </th><th class="col1"> Significat </th>
	</tr>
	<tr class="row1">
		<td class="col0"> nom_grup </td><td class="col1"> Nom del grup del sistema. </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <em>password</em> </td><td class="col1"> Contrasenya de grup. </td>
	</tr>
	<tr class="row3">
		<td class="col0"> GID </td><td class="col1"> Identificador del grup. </td>
	</tr>
	<tr class="row4">
		<td class="col0"> llista_usuaris </td><td class="col1"> Tots els usuaris que pertanyen a aquest grup. </td>
	</tr>
</table></div>
</div>
</div>

<h2><a id="eines_de_gestio_d_usuaris_i_grups_en_mode_text" >Eines de gestió d&#039;usuaris i grups en mode text</a></h2>
<div class="level2">
<div class="iocimportant"><div class="ioccontent">
<p>
Només l’usuari administrador del sistema (<strong>superusuari</strong> o <strong>usuari primari</strong>) pot administrar els comptes d’usuaris i grups, creant-los de nou, esborrant-los o modificant-ne els comptes. Els usuaris normals, que no tenen drets d’administració, no poden utilitzar cap eina de gestió d’usuaris, ni poden modificar els paràmetres del seu compte d’usuari com, per exemple, el directori personal o la contrasenya.
</p>
</div></div>
<p>
L’intèrpret d’ordres del GNU/Linux permet dur a terme tota aquesta gestió d’usuaris d’una manera relativament senzilla a l’hora que potent. Estudiarem les ordres principals que ens permeten fer aquesta gestió. 
</p>

<p>
Recordem que, per fer aquestes tasques d’administració, ens hem d’autenticar com a usuari primari; un cop fet això, podem examinar i executar totes les ordres d’administració d’usuaris i grups. Vegem-ne les principals amb els paràmetres més interessants.
</p>

</div>

<h3><a id="afegir_usuaris_al_sistemauseradd" >Afegir usuaris al sistema: useradd</a></h3>
<div class="level3">

<p>
La sintaxi d’aquesta ordre és:
</p>
<pre class="code">   #useradd [ -d &lt;directori home&gt; -m] [-g &lt;grup al qual pertany&gt;] [-u &lt;UID&gt;] &lt;login&gt;</pre>
<div class="iocexample"><div class="ioccontent"><p class="ioctitle">Exemple 2</p><pre class="code">   #useradd lluis
   #useradd –d /home/marc –m marc</pre>
</div></div>
<p>
El paràmetre -m força a crear un directori personal dins de <strong>/home</strong>, i el paràmetre -d especifica quin és aquest directori. En l’exemple 2, és <strong>/home/marc/</strong>.
</p>

<p>
Utilitzant l’opció –D de l’ordre <strong>useradd</strong> ( <strong>#useradd –D {…}</strong> ), afegirem un usuari amb les opcions per defecte. 
</p>

</div>

<h3><a id="assignar_una_contrasenya_a_un_usuaripasswd" >Assignar una contrasenya a un usuari: passwd</a></h3>
<div class="level3">

<p>
L’ordre <strong>passwd</strong> permet a l’usuari administrador assignar una contrasenya a qualsevol usuari del sistema. Té un únic paràmetre que és el nom d’usuari del qual volem modificar la contrasenya.
</p>
<pre class="code">   #passwd &lt;login&gt;
   Introduïu la nova contrasenya d&#039;UNIX:
   Torneu a escriure la nova contrasenya d&#039;UNIX:
   passwd: la contrasenya s&#039;ha actualitzat satisfactòriament</pre>
<div class="iocexample"><div class="ioccontent"><p class="ioctitle">Exemple 3</p><pre class="code">   #passwd lluis
   Introduïu la nova contrasenya d&#039;UNIX:lluis03
   Torneu a escriure la nova contrasenya d&#039;UNIX:lluis03
   passwd: la contrasenya s&#039;ha actualitzat satisfactòriament</pre>
</div></div>
<p>
Les contrasenyes són una part integral de la seguretat dels sistemes basats en el GNU/Linux, i a més en són la part més visible per a l’usuari. 
</p>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">Seguretat de contrasenya</p>
<p>
La contrasenya es genera mitjançant una funció resum (<em>hash</em>), que representa unívocament a cada contrasenya. El sistema només desa la contrasenya encriptada, i en cap cas es desa l’original.
</p>
</div></div>
<p>
L’administrador del sistema hauria de seguir una política de gestió de les contrasenyes, que hauria d’incloure el següent: les contrasenyes permeses i prohibides, la freqüència dels canvis obligatoris de contrasenyes, la recuperació o recanvi de contrasenyes perdudes, i la manera de gestionar les contrasenyes per part dels usuaris.
</p>

</div>

<h3><a id="eliminar_usuarisuserdel" >Eliminar usuaris: userdel</a></h3>
<div class="level3">

<p>
Podem eliminar un usuari amb <em>userdel</em> (<strong>#userdel login</strong>), afegint l’opció <strong>–r</strong> si volem que també ens elimini el seu directori personal.
</p>
<div class="iocexample"><div class="ioccontent"><p class="ioctitle">Exemple 4</p><pre class="code">   #userdel -r alumne1</pre>
</div></div>
<p>
Aquesta ordre eliminarà l’usuari alumne1 del sistema, i també el seu directori personal amb tots els fitxers.
</p>

</div>

<h3><a id="deshabilitar_usuaris_temporalment" >Deshabilitar usuaris temporalment</a></h3>
<div class="level3">

<p>
Hi ha la possibilitat de deshabilitar un usuari de manera temporal, sense haver-lo d’esborrar. Això pot ser útil, per exemple, quan l’usuari no ha pagat la utilització de la màquina, o bé l’administrador del sistema pensa que algú ha obtingut la seva contrasenya per mitjans poc adequats.
</p>

<p>
La manera més senzilla de deshabilitar un compte és canviar-ne l’intèrpret d’ordres per un programa que escrigui un missatge que digui a l’usuari que contacti amb l’administrador del sistema per evitar més problemes.
</p>

<p>
Una manera senzilla de crear aquest programa seria crear un <em>script</em> semblant al següent:
</p>
<pre class="code">   #!/usr/bin/tail +2
  Aquest compte d&#039;usuari ha estat suspès a causa d&#039;una fallada de seguretat.
  Aviseu l&#039;administrador del sistema com més aviat millor.</pre>

<p>
Els dos primers caràcters (#!) diuen al nucli del sistema que la resta de la línia és una ordre que s’ha d’executar per interpretar aquest fitxer. L’ordre <em>tail</em> fa que es mostrin per pantalla les dues darreres línies del fitxer (el missatge).
</p>

<p>
Si, per exemple, l’usuari que se suposa que té un problema de seguretat s’anomena <em>billg</em>, l’administrador del sistema ha de fer el següent:
</p>
<pre class="code">   # chsh -s 
   /usr/local/lib/no-login/security billg
   # su - billg
   Aquest compte d&#039;usuari ha estat suspès a causa d&#039;una fallada de seguretat.
   Aviseu l&#039;administrador del sistema com més aviat millor.
   #</pre>

<p>
Amb <strong>su</strong>, l’administrador podria comprovar que els canvis aplicats funcionen.
</p>

<p>
Els <em>scripts</em> <em>tail</em> s’han de desar en un directori diferent perquè el seu nom no interfereixi amb les ordres normals de l’usuari.
</p>

</div>

<h3><a id="creacio_eliminacio_i_assignacio_d_usuaris_a_grupsgroupadd_groupdel" >Creació, eliminació i assignació d&#039;usuaris a grups: groupadd, groupdel</a></h3>
<div class="level3">

<p>
La sintaxi de l’ordre <em>groupadd</em> és:
</p>
<pre class="code">   #groupadd [–g GID] &lt;nom del grup&gt;</pre>
<div class="iocexample"><div class="ioccontent"><p class="ioctitle">Exemple 5</p><pre class="code">   # groupadd alumnes</pre>
</div></div>
<p>
En aquest exemple, afegim un grup d’usuaris anomenat <em>alumnes</em>.
</p>

<p>
També podem modificar paràmetres de configuració amb l’ordre <strong>groupmod</strong> o eliminar grups amb l’ordre <strong>groupdel</strong>.
</p>

<p>
Assignació d’usuaris a grups:
</p>
<pre class="code">   # useradd –g alumnes angel
   # useradd –g alumnes anna</pre>

<p>
el resultat dins <strong>/etc/group</strong>:
</p>
<pre class="code">   **alumnes:x:502:angel,anna**</pre>

<p>
És a dir, afegim dos usuaris anomenats <em>angel</em> i <em>anna</em>, i fem que pertanyin al grup alumnes. 
</p>

<p>
Cal tenir en compte que <strong>un usuari pot pertànyer a més d’un grup</strong>. Això es especialment útil per gestionar l’accés d’usuaris de diferents grups a un mateix recurs.
</p>

<p>
També es pot canviar el grup al qual pertany un usuari després d’haver-lo creat. Per exemple, si executem l’ordre:
</p>
<pre class="code">   # useradd alumne</pre>

<p>
Veurem que el resultat dins de <strong>/etc/passwd</strong> és:
</p>
<pre class="code">   alumne:x:501:501::/home/alumne:/bin/bash</pre>

<p>
És a dir, per defecte es crea un nou grup d’usuaris per a cada usuari que afegim al sistema. Si ens fixem en la línia corresponent a dins de <strong>/etc/group</strong> del grup alumnes:
</p>
<pre class="code">   alumnes:x:502:</pre>

<p>
Per tant, l’ID de l’usuari alumne és 501, la del seu grup és 501, però la del grup alumnes és 502.
</p>

</div>

<h3><a id="modificacio_del_grup_d_un_usuariusermod" >Modificació del grup d&#039;un usuari: usermod</a></h3>
<div class="level3">

<p>
L’ordre <em>usermod</em> permet canviar el grup primari d’un usuari després d’haver-lo creat. Si escrivim l’ordre:
</p>
<pre class="code">   # usermod –g alumnes alumne</pre>

<p>
I ara mirem l’arxiu /etc/passwd:
</p>
<pre class="code">   alumne:x:501:502::/home/alumne:/bin/bash</pre>

<p>
Veurem que ha canviat l’ID de grup, que ara és 502, que coincideix amb l’ID del grup d’alumnes: l’usuari alumne ara pertany al grup alumnes.
</p>

</div>

<h3><a id="monitoritzacio_d_usuarisw_ac_i_last" >Monitorització d&#039;usuaris: w, ac, i last</a></h3>
<div class="level3">
<div class="iocimportant"><div class="ioccontent">
<p>
La monitorització de l’activitat de l’usuari és una tasca fonamental de l’administrador del sistema per comprovar com es fan servir els recursos del sistema.
</p>
</div></div><div class="ioctext"><div class="ioccontent"><p class="ioctitle">Monitorització d&#039;usuaris</p>
<p>
La tasca de monitorització dels usuaris és bàsica per controlar com es fan servir els recursos del sistema informàtic. Un bon administrador de sistemes pot monitoritzar gairebé qualsevol cosa que facin els usuaris del sistema.
</p>
</div></div>
<p>
Vegem les ordres principals de monitorització de l’activitat dels usuaris:
</p>
<ul>
<li class="level1"><div class="li"> L’ordre <strong>w</strong> dóna informació sobre quins usuaris estan autenticats en el sistema, des de quin moment han iniciat la sessió i què estan fent. Cap usuari es pot amagar del superusuari o usuari primari. Podem utilitzar, com a paràmetre de l’ordre <strong>w</strong>, el nom d’un usuari concret per mostrar només què està fent aquest usuari.</div>
</li>
</ul>

<p>
Si executem l’ordre <strong>w</strong>, podem obtenir una sortida similar a la següent:
</p>
<pre class="code">   root@usuari-desktop:~# w
   18:09:10 up 14 min, 2 users, load average: 0,05, 0,15, 0,18
   USER   TTY   FROM LOGIN@ IDLE  JCPU  PCPU  WHAT
   usuari tty7  :0   17:58  1:14m 6.76s 0.53s gnome-session
   usuari pts/0 :0.0 17:58  0.00s 0.60s 1.63s gnome-terminal </pre>
<ul>
<li class="level1"><div class="li"> Amb l’ordre <strong>ac</strong>, també podem veure el temps total de connexió d’un usuari al sistema. Si no està instal·lada per defecte, la podem instal·lar amb l’ordre <strong># apt-get install acct</strong>.</div>
</li>
</ul>

<p>
Si executem l’ordre <strong>ac</strong> des de la línia d’ordres, obtindrem una sortida similar a la següent:
</p>
<pre class="code">  $usuari@usuari-desktop:~$ ac
	  total		13.86</pre>

<p>
L’ordre <strong>ac</strong> accedeix al fitxer /var/log/wtmp per obtenir aquesta informació.
</p>
<ul>
<li class="level1"><div class="li"> L’ordre <strong>last</strong> cerca en el fitxer /var/log/wtmp i fa una llista de tots els usuaris que han iniciat i aturat la sessió des de la seva creació.</div>
</li>
</ul>

<p>
La sortida de l’ordre <strong>last</strong> seria semblant a la següent:
</p>
<pre class="code">  usuari@usuari-desktop:~$ last
  wtmp begins Fri Dec	3 18:22:54 2010 </pre>

<p>
Una altra ordre interessant és <strong>lastb</strong>, que mostra tots els intents fallits d’autenticació o d’iniciar sessió en el sistema. És útil per determinar si un usuari legítim té problemes per accedir al sistema o bé si un <em>hacker</em> hi està intentant accedir.
</p>

</div>

<h2><a id="eines_de_gestio_d_usuaris_i_grups_en_mode_grafic" >Eines de gestió d&#039;usuaris i grups en mode gràfic</a></h2>
<div class="level2">

<p>
A més de les eines de gestió d’usuaris, la majoria de distribucions del GNU/Linux disposen d’eines d’administració en l’entorn gràfic. En aquest apartat ens fixarem en les eines d’administració d’usuaris i grups de què disposa un dels entorns gràfics més estesos: el <strong>Gnome</strong>, i concretament sobre una de les distribucions més utilitzades, com és l’Ubuntu en la versió 10.04 LTS. Aquesta versió té un període de manteniment i actualitzacions de seguretat més llarg (fins a l’abril del 2013).
</p>

<p>
De totes maneres, les eines estudiades en aquest apartat són semblants a les que es presenten en qualsevol altra distribució del GNU/Linux que funcioni amb l’entorn Gnome.
</p>

<p>
Per accedir a les eines d’administració d’usuaris i grups en Ubuntu 10.04 LTS, anem al menú <em>Sistema&gt;Administració&gt;Usuaris i grups</em>. Ho podeu veure en la <span class="figref"><a href="#Figure2"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figure2"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Accés a les eines d’administració d’usuaris i grups en Ubuntu 

</figcaption><img src="../media/ic10m1u3_01.png" alt="" /></figure>
</div>
<p>
Un cop fem un clic en aquest apartat, s’obre un quadre de diàleg que ens demana la contrasenya d’usuari per poder fer aquestes tasques d’administració, i després d’escriure-la s’obre l’aplicació de gestió d’usuaris i grups, com podeu veure en la <span class="figref"><a href="#Figure3"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figure3"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Aplicació de gestió d’usuaris i grups d’Ubuntu 10.04 LTS

</figcaption><img src="../media/ic10m1u3_02.png" alt="" /></figure>
</div>
<p>
El primer que podem fer és gestionar els paràmetres avançats sobre un usuari, en aquest cas, el que ha iniciat la sessió (que té de nom d’usuari <em>usuari</em>). Ens demanarà la contrasenya de l’usuari per accedir a aquests paràmetres, com mostra la <span class="figref"><a href="#Figure4"><span>figura</span></a></span>.
</p>
<div class="iocnote"><div class="ioccontent">
<p>
Les eines de gestió d’usuaris i grups en mode gràfic faciliten molt aquesta tasca d’administració.
</p>
</div></div><div class="iocfigure"><a name="Figure4"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Autenticació com a usuari administrador

</figcaption><img src="../media/ic10m1u3_03.png" alt="" /></figure>
<div class="footfigure">Petició de contrasenya d'administració</div></div>
<p>
Un cop fet això se’ns presentarà un quadre de diàleg que ens permetrà modificar la informació de contacte de l’usuari, com veieu en la <span class="figref"><a href="#Figure5"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figure5"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Informació de contacte de l’usuari

</figcaption><img src="../media/ic10m1u3_04.png" alt="" /></figure>
</div>
<p>
Si fem un clic en la pestanya anomenada <em>Privilegis d’usuari</em>, accedim a un quadre de diàleg que ens permet modificar les atribucions i els drets de l’usuari, com podeu veure en la <span class="figref"><a href="#Figure6"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figure6"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Quadre de diàleg que permet configurar els drets de l’usuari (privilegis d’usuari)

</figcaption><img src="../media/ic10m1u3_05.png" alt="" /></figure>
</div>
<p>
D’aquests privilegis d’usuari, el més important és el d’administració del sistema, perquè a partir d’aquest podem modificar i administrar el sistema.
</p>
<div class="iocnote"><div class="ioccontent">
<p>
Utilitzant l’eina de gestió de privilegis dels usuaris, podem evitar que aquests facin cap acte que posi en perill el propi sistema operatiu.
</p>
</div></div>
<p>
Si fem un clic en la pestanya <em>Avançat</em>, accedim a un quadre de diàleg que permet modificar el directori personal de l’usuari, l’intèrpret d’ordres, el grup principal a què pertany l’usuari, i l’identificador numèric d’aquest usuari. Ho podeu veure en la <span class="figref"><a href="#Figure7"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figure7"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Més paràmetres avançats

</figcaption><img src="../media/ic10m1u3_06.png" alt="" /></figure>
<div class="footfigure">En aquesta pestanya es pot canviar el directori personal, el seu identificador, l'intèrpret d'ordres, i el grup principal de l'usuari</div></div>
<p>
Un cop  modificats tots els paràmetres de l’usuari, premem <em>D’acord</em>, i tornem al quadre de diàleg de la <span class="figref"><a href="#Figure3"><span>figura</span></a></span>. 
</p>

<p>
Com en qualsevol sistema operatiu multiusuari, l’Ubuntu 10.04 LTS ens permet afegir nous usuaris al sistema, a més del que ja s’ha creat durant el procés d’instal·lació. Només cal prémer el botó <em>Afegeix</em> en el quadre de diàleg de la <span class="figref"><a href="#Figure3"><span>figura</span></a></span>, i ens apareix un quadre de diàleg com el de la <span class="figref"><a href="#Figure8"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figure8"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Creació d’un nou usuari

</figcaption><img src="../media/ic10m1u3_07.png" alt="" /></figure>
<div class="footfigure">En aquest formulari podem escriure el nom complet de l'usuari i el sobrenom que utilitzarà per entrar en el sistema</div></div>
<p>
El nom curt es genera automàticament quan inserim el nom de l’usuari, però el podem modificar, tal com mostra la <span class="figref"><a href="#Figure9"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figure9"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Inserció del nom d’usuari

</figcaption><img src="../media/ic10m1u3_08.png" alt="" /></figure>
<div class="footfigure">Nom d'usuari del sistema que volem crear de nou</div></div>
<p>
Un cop s’ha escrit el nom d’usuari creat, premem el botó <em>D’acord</em>, i ens demanarà un altre cop la contrasenya de l’usuari amb el qual hem iniciat la sessió, per dur a terme l’alta de l’usuari en el sistema. Fet això, haurem d’establir la contrasenya d’aquest nou usuari, o deixar que el mateix sistema en generi una d’aleatòria. Ho podeu veure en la <span class="figref"><a href="#Figure10"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figure10"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Inserció de la contrasenya per al nou usuari

</figcaption><img src="../media/ic10m1u3_09.png" alt="" /></figure>
<div class="footfigure">Cal escriure dos cops la contrasenya del nou usuari perquè sigui vàlida</div></div>
<p>
Cal tenir en compte que, perquè la contrasenya sigui segura, ha de contenir una combinació de caràcters alfabètics i numèrics, i ha de tenir una llargada mínima de sis caràcters. Opcionalment podem fer que no calgui contrasenya per entrar al sistema, però això no és gaire recomanable.
</p>

<p>
Un cop acabat tot el procés, tornarem a la pantalla inicial de l’eina d’administració d’usuaris i grups, però ara, en la llista ens apareixerà un usuari addicional, com podeu veure en la <span class="figref"><a href="#Figure11"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figure11"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Llista d’usuaris del sistema

</figcaption><img src="../media/ic10m1u3_10.png" alt="" /></figure>
<div class="footfigure">En aquesta llista ja apareix l'usuari que hem acabat de crear</div></div>
<p>
Una altra tasca bàsica per a la gestió d’usuaris és donar-los de baixa del sistema, eliminant els seus comptes d’usuari i opcionalment els seus fitxers i directoris personals. Per fer això, simplement cal seleccionar l’usuari que volem suprimir i prémer el botó <em>Suprimeix</em>. Si fem això, el sistema ens demanarà la contrasenya d’un usuari administrador, i tot seguit ens mostrarà el quadre de diàleg de la <span class="figref"><a href="#Figure12"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figure12"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Finestra de diàleg de supressió d’un usuari

</figcaption><img src="../media/ic10m1u3_11.png" alt="" /></figure>
<div class="footfigure">Podrem escollir si eliminem o no els fitxers de l'usuari</div></div>
<p>
En aquest quadre podem escollir no suprimir el compte, suprimir l’usuari mantenint-ne els fitxers, o suprimir l’usuari i els seus fitxers.
</p>

<p>
Pel què fa a la gestió dels grups, per accedir-hi cal prémer el botó <em>Gestiona els grups</em>, des de la finestra principal de l’aplicació de gestió d’usuaris i grups. Apareixerà el quadre de diàleg de la <span class="figref"><a href="#Figure13"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figure13"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Gestió de grups

</figcaption><img src="../media/ic10m1u3_12.png" alt="" /></figure>
<div class="footfigure">Quadre de diàleg amb els paràmetres dels grups</div></div>
<p>
Si seleccionem un dels grups de la llista i fem clic a <em>Propietats</em>, apareix un quadre de diàleg en què podem assignar usuaris al grup seleccionat. Ho podeu veure en la <span class="figref"><a href="#Figure14"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figure14"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Assignació d’usuaris al grup seleccionat

</figcaption><img src="../media/ic10m1u3_13.png" alt="" /></figure>
<div class="footfigure">Propietats del grup seleccionat de la llista</div></div>
<p>
Si fem un clic en el quadre de confirmació al costat del nom de l’usuari, farem que aquest pertanyi al grup en qüestió. Podem assignar tants usuaris com vulguem a un grup determinat.
</p>

<p>
Per defecte, <strong>per cada usuari que creem en el sistema, es crea un grup amb el mateix nom</strong>. Això no és gaire convenient, i és més adequat agrupar tots els usuaris similars en un sol grup.
</p>

<p>
Un cop fet això, és aconsellable suprimir els grups que ja no són necessaris. Per fer-ho, només cal seleccionar el grup que volem eliminar i prémer el botó <em>Suprimeix</em>. Ens apareixerà un quadre de diàleg que ens demanarà la confirmació de la supressió d’aquest grup, com veieu en la <span class="figref"><a href="#Figure15"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figure15"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Supressió de grups d’usuaris

</figcaption><img src="../media/ic10m1u3_14.png" alt="" /></figure>
<div class="footfigure">Confirmació de la supressió d'un grup d'usuaris</div></div>
<p>
Si volem, també podem crear un nou grup d’usuaris prement el botó <em>Afegeix</em>. El sistema mostrarà el quadre de diàleg de la <span class="figref"><a href="#fff16"><span>figura</span></a></span>.
Podem inserir el nom del grup, el seu identificador i assignar usuaris a aquest grup.
</p>
<div class="iocfigure"><a name="fff16"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Creació de grups d’usuari 

</figcaption><img src="../media/ic10m1u3_15.png" alt="" /></figure>
</div>
</div>

<h2><a id="perfils_d_usuari_locals" >Perfils d&#039;usuari locals</a></h2>
<div class="level2">

<p>
Quan es crea un usuari nou del sistema mitjançant l’ordre <strong>useradd</strong>, aquest llegeix el fitxer /etc/default/useradd per definir les variables que utilitzarà aquesta ordre. Si visualitzem el contingut d’aquest fitxer, veurem una cosa semblant al següent:
</p>
<pre class="code">   # useradd defaults file 
   GROUP=100 
   HOME=/home 
   INACTIVE=-1 
   EXPIRE= 
   SHELL=/bin/bash 
   SKEL=/etc/skel </pre>

<p>
En aquest fitxer podem modificar el valor de les variables segons ens convingui:
</p>
<ul>
<li class="level1"><div class="li"> <strong>HOME</strong>: per defecte, el directori d’inici de l’usuari es crea dins del directori <strong>/home</strong>. El valor d’aquesta variable es pot canviar si així ho vol l’administrador del sistema. Per exemple, en el cas d’un sistema que hostatja llocs de xarxa virtuals, es pot fer servir la variable <strong>/var/www</strong> simplificant les tasques d’administració del sistema. En altres casos com, per exemple, un servidor de correu, en què es vol aplicar una sola quota de disc general, per a la bústia de correu, i carpetes de correu en el directori d’inici, es podria crear un directori dins de <strong>/var</strong> com, per exemple, <strong>/var/home</strong> o <strong>/var/users</strong>, de manera que en aplicar la quota de disc sobre la partició <strong>/var</strong> això implicaria tant la bústia d’entrada de l’usuari (<strong>/var/spool/mail/usuari</strong>) com les carpetes de correu en el directori d’inici de l’usuari (<strong>/var/home/usuari/mail</strong>).</div>
</li>
<li class="level1"><div class="li"> <strong>SHELL</strong>: Defineix l’intèrpret d’ordres que s’utilitzaran amb els nous comptes d’usuari. Per defecte, el sistema assigna a aquesta variable el valor <strong>/bin/bash</strong>, per tant, l’intèrpret d’ordres per defecte és el <strong>BASH</strong> (<em>Bourne Again SHell</em>). De totes maneres, si el sistema es fa servir com a servidor, s’hi pot assignar un altre valor. </div>
</li>
</ul>

<p>
En aquest cas, fixeu-vos al valor <strong>/sbin/nologin</strong>, de manera que no es permet l’entrada al sistema a un usuari amb aquest tipus de compte, i es mostra un missatge que diu que el compte d’usuari no està disponible, o el text que hi ha en el fitxer <strong>/etc/nologin.txt</strong>.
</p>

<p>
Es fa servir com a manera de reemplaçar l’intèrpret d’ordres quan els comptes d’usuari han estat deshabilitats o no es vol que accedeixin a un intèrpret d’ordres. Aquest programa emmagatzema, en el registre del sistema, qualsevol intent d’accés. Per fer-lo servir com a valor de la variable <strong>SHELL</strong>, només cal canviar <strong>SHELL=/bin/bash</strong> pel valor <strong>SHELL=/sbin/nologin</strong>. D’aquesta manera, el fitxer <strong>/etc/default/useradd</strong> hauria de quedar de la manera següent:
</p>
<pre class="code">   # useradd defaults file
   GROUP=100
   HOME=/home
   INACTIVE=-1
   EXPIRE=
   SHELL=/sbin/nologin
   SKEL=/etc/skel</pre>

<p>
Deixant aquest fitxer de configuració així, qualsevol altre usuari que afegim amb l’ordre <strong>useradd</strong> sense paràmetres addicionals no podrà accedir al sistema per mitjà de l’intèrpret d’ordres, però podrà utilitzar altres serveis com l’<acronym title="File Transfer Protocol">FTP</acronym>, el correu, o el protocol SAMBA.
</p>

<p>
La variable SHELL pot tenir altres valors, com podeu veure en la <span class="tabref"><a href="#Table6"><span>taula</span></a></span>.
</p>
<div class="ioctable ">
<div class="titletable"><a name="Table6"><span>Taula: </span></a>Valors possibles per a la variable d’entorn SHELL.</div>
<div class="table"><table class="inline">
	<tr class="row0">
		<th class="col0"> Valor </th><th class="col1"> Significat </th>
	</tr>
	<tr class="row1">
		<td class="col0"> /sbin/nologin </td><td class="col1"> No deixa entrar en el sistema amb l’intèrpret d’ordres. </td>
	</tr>
	<tr class="row2">
		<td class="col0"> /bin/false </td><td class="col1"> Fa sortir l’usuari de manera immediata amb un missatge d’error. Es fa servir per usuaris que només puguin accedir a <acronym title="File Transfer Protocol">FTP</acronym> o correu. </td>
	</tr>
	<tr class="row3">
		<td class="col0"> /dev/null </td><td class="col1"> El dispositiu nul, que descarta totes les dades que dóna l’usuari, i no les redirecciona a cap procés perquè el llegeixi. Es fa servir per a usuaris que només han d’accedir al correu mitjançant els protocols SMTP, POP3 i IMAP, o bé correu web.</td>
	</tr>
	<tr class="row4">
		<td class="col0"> /bin/bash </td><td class="col1"> Intèrpret d’ordres més estès en totes les distribucions del GNU/Linux, i en el Mac <acronym title="Operating System">OS</acronym> X (a partir de la versió Tiger). </td>
	</tr>
	<tr class="row5">
		<td class="col0"> /bin/sh </td><td class="col1"> Versió simplificada de l’intèrpret d’ordres BASH. </td>
	</tr>
	<tr class="row6">
		<td class="col0"> /bin/tsch </td><td class="col1"> Versió de l’intèrpret d’ordres que inclou instruccions del llenguatge C. </td>
	</tr>
	<tr class="row7">
		<td class="col0"> /bin/ash </td><td class="col1"> Versió de l’intèrpret d’ordres basat en BASH però que utilitza menys memòria. </td>
	</tr>
	<tr class="row8">
		<td class="col0"> /bin/zsh </td><td class="col1"> Versió millorada de l’intèrpret d’ordres sh amb funcions dels intèrprets BASH i TSCH </td>
	</tr>
</table></div>
</div>
<p>
A més de les modificacions que podem fer sobre el fitxer <strong>/etc/default/useradd</strong> per modificar la configuració per defecte de l’usuari, quan es crea el directori personal d’un nou usuari, aquest s’inicialitza amb els fitxers que hi ha en el directori <strong>/etc/skel</strong> (<em>skeleton</em>, o esquelet). L’administrador del sistema pot crear fitxers en aquest directori, que configuraran l’entorn per defecte dels usuaris. Per exemple, es pot crear un fitxer <strong>/etc/skel/.profile</strong> que especifiqui una variable d’entorn per a l’editor de textos per defecte, de manera que sigui amigable per a la majoria d’usuaris.
</p>

<p>
De totes maneres, és recomanable que el directori <strong>/etc/skel</strong> sigui com més petit millor, perquè si no, dificultem l’actualització dels usuaris que ja hi ha.
</p>

<p>
Sempre que sigui possible, és millor especificar configuracions en fitxers globals com, per exemple, el <strong>/etc/profile</strong>. D’aquesta manera és possible actualitzar informació sobre usuaris sense fer-ne malbé les configuracions.
</p>

<p>
Si, per exemple, volem que cada compte d’usuari inclogui un subdirectori per a les carpetes de correu i la subscripció d’aquestes per mitjà del servei IMAP, es pot utilitzar el procediment següent:
</p>
<pre class="code">   mkdir /etc/skel/mail/
   touch /etc/skel/mail/Esborranys
   touch /etc/skel/mail/Enviats
   touch /etc/skel/mail/Paperera</pre>

<p>
I, després, crear amb l’editor de textos el fitxer <strong>/etc/skel/.mailboxlist</strong>, que serveix per registrar les subscripcions en les carpetes de correu que es faran servir per al servei IMAP amb un servidor UW-IMAP, fent servir el contingut següent:
</p>
<pre class="code">   mail/Esborranys
   mail/Enviats
   mail/Paperera</pre>

<p>
També tenim l’opció de modificar el perfil de manera individual per a cada usuari. Cadascun dels fitxers següents estan dins del directori personal de cada usuari:
</p>
<ul>
<li class="level1"><div class="li"> <strong>$HOME/.bash_profile</strong>. És el fitxer d’inicialització personal, executat cada vegada que l’usuari inicia la sessió. En aquest fitxer es poden afegir camins d’accés a aplicacions (<em>path</em>) o bé d’altres variables específiques. Vegem-ne un exemple:</div>
</li>
</ul>
<div class="iocexample"><div class="ioccontent"><p class="ioctitle">Exemple 6</p><pre class="code"> 
   # shell path
   export ORACLE_HOME=/usr/lib/oracle/xe/app/oracle/product/10.2.0/server
   export ORACLE_SID=XE
   export NLS_LANG=`$ORACLE_HOME/bin/nls_lang.sh`
   export PATH=$PATH:$ORACLE_HOME/bin:$HOME/bin
   export EDITOR=vim
   export JAVA_HOME=/usr/lib/jvm/java-6-sun/jre
   # load ssg keys
   /usr/bin/keychain $HOME/.ssh/id_dsa
   source $HOME/.keychain/$HOSTNAME-sh
   # turn on directory spelling typos
   shopt -s cdspell</pre>
</div></div><ul>
<li class="level1"><div class="li"> <strong>$HOME/.bashrc</strong>. En aquest fitxer podem especificar àlies (variables que substitueixen ordres), o bé funcions. Vegem-ne un exemple:</div>
</li>
</ul>
<div class="iocexample"><div class="ioccontent"><p class="ioctitle">Exemple 7</p><pre class="code"> 
   # shell functions
   alias rm=&#039;rm -i&#039;
   alias cp=&#039;cp -i&#039;
   alias mv=&#039;mv -i&#039;
   alias vi=&#039;vim&#039;
   alias grep=&#039;grep --color&#039;
   alias update=&#039;sudo apt-get update &amp;&amp; sudo apt-get upgrade&#039;
   alias dnstop=&#039;dnstop -l 5  eth1&#039;
   alias vnstat=&#039;vnstat -i eth1&#039;
   alias bc=&#039;bc -l&#039;
   genpasswd() {
           local l=$1
           [ &quot;$l&quot; == &quot;&quot; ] &amp;&amp; l=16
           tr -dc A-Za-z0-9_ &lt; /dev/urandom | head -c ${l} | xargs
   }
   mp3(){
           local o=$IFS
           IFS=$(echo -en &quot;\n\b&quot;)
           /usr/bin/beep-media-player &quot;$(cat  $@)&quot; &amp;
           IFS=o
   }</pre>
</div></div><ul>
<li class="level1"><div class="li"> <strong>$HOME/.bash_logout</strong>. El fitxer que s’executa quan s’acaba la sessió d’un usuari. Generalment serveix per netejar fitxers temporals que hagi pogut deixar aquest usuari.</div>
</li>
</ul>

</div>

	 </article>
     <div class="pnpage">
      <div class="left-corner"></div>
      <div id="prevpage">Anar a la p&agrave;gina anterior:<br /><a href="../../../WebContent/u3/referencies.html">Referències</a></div>
      <div id="nextpage">Anar a la p&agrave;gina seg&uuml;ent:<br /><a href="../../../WebContent/u3/a1/activitats.html">Activitats</a></div>
      <div class="right-corner"></div>
     </div>
    </div>
    <footer class="footer">
      <div><small>Aquest document està subjecte a una llicència oberta de Creative Commons, es reserva el dret de reconeixement de l'autoria, d'exigir que no se'n faci cap mena d'ús comercial. Si altereu o transformeu aquesta obra, o en genereu obres derivades, només podeu distribuir l'obra generada amb una llicència idèntica a aquesta.</small></div>
    </footer>
 </div>
 <div id="back_preview" class="hidden"></div>
 <div id="preview" class="hidden">
  <div class="prevcontent"></div>
 </div>
 <div id="help-tooltips">
  <div id="help-toc" class="hidden tooltip"><span>Taula de continguts:</span> Ofereix una vista general de l&#39;estructura del m&ograve;dul, que us facilitar&agrave; la navegaci&oacute; a trav&eacute;s dels seus continguts.<span class="arrow-left"></span></div> 
  <div id="help-settings" class="hidden tooltip"><span>Opcions de format:</span> Permet configurar el format de lectura a partir de les vostres prefer&egrave;ncies, modificant la mida de la lletra, el color del fons, l&#39;amplada de la p&agrave;gina o l&#39;ocultaci&oacute; dels continguts complementaris, entre d&#39;altres.<span class="arrow-left"></span></div>
  <div id="help-printer" class="hidden tooltip"><span>Imprimir:</span>  Envia el contingut seleccionat a la impressora.<span class="arrow-left"></span></div>
  <div id="help-favorites" class="hidden tooltip"><span>Prefereits:</span> Permet desar aquelles parts del contingut a les que us interessi accedir en un moment posterior; us permetr&agrave; anar creant un repositori personalitzat de les seccions que considereu m&eacute;s rellevants. Un cop l&#39;hageu començat a fer servir se us mostrar&agrave; a sota un comptador que us informar&agrave; del nombre de preferits que s&#39;hagin emmagatzemat fins al moment.<span class="arrow-left"></span></div>
  <div id="help-favcounter" class="hidden tooltip"><span>Comptador i llistat de preferits:</span> Indica el nombre de preferits que s&#39;han desat fins el moment; clicant damunt seu accedireu al llistat de preferits, i a trav&eacute;s d&#39;aquest podreu accedir directament als continguts que hageu emmagatzemat.<span class="arrow-left"></span></div>
  <div id="help-help_icon" class="hidden tooltip"><span>Ajuda:</span> Aquesta opci&oacute; activa la informaci&oacute; de les funcionalitats del web tot situant el punter del ratol&iacute; al damunt dels diferents &iacute;tems.<span class="arrow-left"></span></div>
  <div id="help-sidebar-hide" class="hidden tooltip"><span>Mostrar/Ocultar barra lateral:</span>  Deshabilita la barra d&#39;opcions, permetent la seva recuperaci&oacute; quan es desitgi.<span class="arrow-left"></span></div>
  <div id="help-search" class="hidden tooltip"><span>Cerca:</span>  Introdu&iuml;u les paraules clau sobre aquells conceptes que desitgeu localitzar en els continguts del m&ograve;dul. Tamb&eacute; podeu excloure un terme de la cerca tot afegint-hi el signe &#8220;-&#8221; al davant.<span class="arrow-top"></span></div>
  <div id="help-header" class="hidden tooltip"><span>Cap&ccedil;alera:</span>  Indica l&#39;apartat o secci&oacute; que es mostra en pantalla. Tingueu present que les capçaleres de segon, tercer i quart nivell tamb&eacute; es poden desar com a marcadors.<span class="arrow-left"></span></div>
</div> 
</body>
</html>
